(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function dR(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function mR(){if(yE)return jl;yE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=t,jl.jsxs=t,jl}var _E;function pR(){return _E||(_E=1,qm.exports=mR()),qm.exports}var Z=pR(),jm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function gR(){if(vE)return Re;vE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function U(N,ne,ce){this.props=N,this.context=ne,this.refs=B,this.updater=ce||O}U.prototype.isReactComponent={},U.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=U.prototype;function ie(N,ne,ce){this.props=N,this.context=ne,this.refs=B,this.updater=ce||O}var Y=ie.prototype=new G;Y.constructor=ie,k(Y,U.prototype),Y.isPureReactComponent=!0;var se=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function D(N,ne,ce,ae,ye,Ce){return ce=Ce.ref,{$$typeof:r,type:N,key:ne,ref:ce!==void 0?ce:null,props:Ce}}function A(N,ne){return D(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function M(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return ne[ce]})}var V=/\/+/g;function L(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):ne.toString(36)}function C(){}function Lt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ot(N,ne,ce,ae,ye){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case r:case e:be=!0;break;case v:return be=N._init,ot(be(N._payload),ne,ce,ae,ye)}}if(be)return ye=ye(N),be=ae===""?"."+L(N,0):ae,se(ye)?(ce="",be!=null&&(ce=be.replace(V,"$&/")+"/"),ot(ye,ne,ce,"",function(Yn){return Yn})):ye!=null&&(R(ye)&&(ye=A(ye,ce+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+be)),ne.push(ye)),1;be=0;var Dt=ae===""?".":ae+":";if(se(N))for(var Je=0;Je<N.length;Je++)ae=N[Je],Ce=Dt+L(ae,Je),be+=ot(ae,ne,ce,Ce,ye);else if(Je=b(N),typeof Je=="function")for(N=Je.call(N),Je=0;!(ae=N.next()).done;)ae=ae.value,Ce=Dt+L(ae,Je++),be+=ot(ae,ne,ce,Ce,ye);else if(Ce==="object"){if(typeof N.then=="function")return ot(Lt(N),ne,ce,ae,ye);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(N,ne,ce){if(N==null)return N;var ae=[],ye=0;return ot(N,ae,"","",function(Ce){return ne.call(ce,Ce,ye++)}),ae}function ue(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var ge=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Re.Children={map:$,forEach:function(N,ne,ce){$(N,function(){ne.apply(this,arguments)},ce)},count:function(N){var ne=0;return $(N,function(){ne++}),ne},toArray:function(N){return $(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=U,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ie,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return re.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,ne,ce){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ae=k({},N.props),ye=N.key,Ce=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!he.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(ae[be]=ne[be]);var be=arguments.length-2;if(be===1)ae.children=ce;else if(1<be){for(var Dt=Array(be),Je=0;Je<be;Je++)Dt[Je]=arguments[Je+2];ae.children=Dt}return D(N.type,ye,void 0,void 0,Ce,ae)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,ne,ce){var ae,ye={},Ce=null;if(ne!=null)for(ae in ne.key!==void 0&&(Ce=""+ne.key),ne)he.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=ne[ae]);var be=arguments.length-2;if(be===1)ye.children=ce;else if(1<be){for(var Dt=Array(be),Je=0;Je<be;Je++)Dt[Je]=arguments[Je+2];ye.children=Dt}if(N&&N.defaultProps)for(ae in be=N.defaultProps,be)ye[ae]===void 0&&(ye[ae]=be[ae]);return D(N,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=R,Re.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ue}},Re.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},Re.startTransition=function(N){var ne=re.T,ce={};re.T=ce;try{var ae=N(),ye=re.S;ye!==null&&ye(ce,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(je,ge)}catch(Ce){ge(Ce)}finally{re.T=ne}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(N){return re.H.use(N)},Re.useActionState=function(N,ne,ce){return re.H.useActionState(N,ne,ce)},Re.useCallback=function(N,ne){return re.H.useCallback(N,ne)},Re.useContext=function(N){return re.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,ne){return re.H.useDeferredValue(N,ne)},Re.useEffect=function(N,ne,ce){var ae=re.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(N,ne)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(N,ne,ce){return re.H.useImperativeHandle(N,ne,ce)},Re.useInsertionEffect=function(N,ne){return re.H.useInsertionEffect(N,ne)},Re.useLayoutEffect=function(N,ne){return re.H.useLayoutEffect(N,ne)},Re.useMemo=function(N,ne){return re.H.useMemo(N,ne)},Re.useOptimistic=function(N,ne){return re.H.useOptimistic(N,ne)},Re.useReducer=function(N,ne,ce){return re.H.useReducer(N,ne,ce)},Re.useRef=function(N){return re.H.useRef(N)},Re.useState=function(N){return re.H.useState(N)},Re.useSyncExternalStore=function(N,ne,ce){return re.H.useSyncExternalStore(N,ne,ce)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.1.1",Re}var EE;function lf(){return EE||(EE=1,jm.exports=gR()),jm.exports}var Q=lf(),Bm={exports:{}},Bl={},Hm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function yR(){return TE||(TE=1,function(r){function e($,ue){var ge=$.length;$.push(ue);e:for(;0<ge;){var je=ge-1>>>1,N=$[je];if(0<o(N,ue))$[je]=ue,$[ge]=N,ge=je;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ue=$[0],ge=$.pop();if(ge!==ue){$[0]=ge;e:for(var je=0,N=$.length,ne=N>>>1;je<ne;){var ce=2*(je+1)-1,ae=$[ce],ye=ce+1,Ce=$[ye];if(0>o(ae,ge))ye<N&&0>o(Ce,ae)?($[je]=Ce,$[ye]=ge,je=ye):($[je]=ae,$[ce]=ge,je=ce);else if(ye<N&&0>o(Ce,ge))$[je]=Ce,$[ye]=ge,je=ye;else break e}}return ue}function o($,ue){var ge=$.sortIndex-ue.sortIndex;return ge!==0?ge:$.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,T=null,b=3,O=!1,k=!1,B=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function se($){for(var ue=t(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=$)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function re($){if(B=!1,se($),!k)if(t(p)!==null)k=!0,he||(he=!0,L());else{var ue=t(g);ue!==null&&ot(re,ue.startTime-$)}}var he=!1,D=-1,A=5,R=-1;function M(){return U?!0:!(r.unstable_now()-R<A)}function V(){if(U=!1,he){var $=r.unstable_now();R=$;var ue=!0;try{e:{k=!1,B&&(B=!1,ie(D),D=-1),O=!0;var ge=b;try{t:{for(se($),T=t(p);T!==null&&!(T.expirationTime>$&&M());){var je=T.callback;if(typeof je=="function"){T.callback=null,b=T.priorityLevel;var N=je(T.expirationTime<=$);if($=r.unstable_now(),typeof N=="function"){T.callback=N,se($),ue=!0;break t}T===t(p)&&s(p),se($)}else s(p);T=t(p)}if(T!==null)ue=!0;else{var ne=t(g);ne!==null&&ot(re,ne.startTime-$),ue=!1}}break e}finally{T=null,b=ge,O=!1}ue=void 0}}finally{ue?L():he=!1}}}var L;if(typeof Y=="function")L=function(){Y(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Lt=C.port2;C.port1.onmessage=V,L=function(){Lt.postMessage(null)}}else L=function(){G(V,0)};function ot($,ue){D=G(function(){$(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function($){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var ge=b;b=ue;try{return $()}finally{b=ge}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=b;b=$;try{return ue()}finally{b=ge}},r.unstable_scheduleCallback=function($,ue,ge){var je=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ge+N,$={id:v++,callback:ue,priorityLevel:$,startTime:ge,expirationTime:N,sortIndex:-1},ge>je?($.sortIndex=ge,e(g,$),t(p)===null&&$===t(g)&&(B?(ie(D),D=-1):B=!0,ot(re,ge-je))):($.sortIndex=N,e(p,$),k||O||(k=!0,he||(he=!0,L()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var ue=b;return function(){var ge=b;b=ue;try{return $.apply(this,arguments)}finally{b=ge}}}}(Fm)),Fm}var wE;function _R(){return wE||(wE=1,Hm.exports=yR()),Hm.exports}var Gm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function vR(){if(SE)return $t;SE=1;var r=lf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},$t.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:O}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.1",$t}var bE;function OT(){if(bE)return Gm.exports;bE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=vR(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function ER(){if(AE)return Bl;AE=1;var r=_R(),e=lf(),t=OT();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Lt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case re:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case ie:return(n._context.displayName||"Context")+".Consumer";case se:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:Lt(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return Lt(n(i))}catch{}}return null}var ot=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],N=-1;function ne(n){return{current:n}}function ce(n){0>N||(n.current=je[N],je[N]=null,N--)}function ae(n,i){N++,je[N]=n.current,n.current=i}var ye=ne(null),Ce=ne(null),be=ne(null),Dt=ne(null);function Je(n,i){switch(ae(be,i),ae(Ce,n),ae(ye,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Gv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Gv(i),n=Kv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ye),ae(ye,n)}function Yn(){ce(ye),ce(Ce),ce(be)}function ci(n){n.memoizedState!==null&&ae(Dt,n);var i=ye.current,a=Kv(i,n.type);i!==a&&(ae(Ce,n),ae(ye,a))}function Sr(n){Ce.current===n&&(ce(ye),ce(Ce)),Dt.current===n&&(ce(Dt),kl._currentValue=ge)}var as=Object.prototype.hasOwnProperty,os=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Mo=r.unstable_shouldYield,xu=r.unstable_requestPaint,An=r.unstable_now,qf=r.unstable_getCurrentPriorityLevel,Vo=r.unstable_ImmediatePriority,aa=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,jf=r.unstable_LowPriority,oa=r.unstable_IdlePriority,Po=r.log,Mu=r.unstable_setDisableYieldValue,lt=null,Fe=null;function hn(n){if(typeof Po=="function"&&Mu(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,n)}catch{}}var Qt=Math.clz32?Math.clz32:cs,Vu=Math.log,Bf=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(Vu(n)/Bf|0)|0}var hs=256,fs=4194304;function Un(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function la(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Un(l):(E&=w,E!==0?h=Un(E):a||(a=w&~n,a!==0&&(h=Un(a))))):(w=l&~d,w!==0?h=Un(w):E!==0?h=Un(E):a||(a=l&~n,a!==0&&(h=Un(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ds(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ko(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var n=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),n}function Uo(){var n=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),n}function br(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ar(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function zo(n,i,a,l,h,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,I=n.expirationTimes,j=n.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Qt(a),ee=1<<X;w[X]=0,I[X]=-1;var H=j[X];if(H!==null)for(j[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&$n(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function $n(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Qt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function qo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function hi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ua(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function fi(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:hE(n.type))}function Pu(n,i){var a=ue.p;try{return ue.p=n,i()}finally{ue.p=a}}var nt=Math.random().toString(36).slice(2),St="__reactFiber$"+nt,gt="__reactProps$"+nt,Rn="__reactContainer$"+nt,jo="__reactEvents$"+nt,Hf="__reactListeners$"+nt,di="__reactHandles$"+nt,ku="__reactResources$"+nt,ms="__reactMarker$"+nt;function mi(n){delete n[St],delete n[gt],delete n[jo],delete n[Hf],delete n[di]}function Rr(n){var i=n[St];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Rn]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Xv(n);n!==null;){if(a=n[St])return a;n=Xv(n)}return i}n=a,a=n.parentNode}return null}function Xn(n){if(n=n[St]||n[Rn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Wn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function en(n){var i=n[ku];return i||(i=n[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(n){n[ms]=!0}var Bo=new Set,ca={};function zn(n,i){Ir(n,i),Ir(n+"Capture",i)}function Ir(n,i){for(ca[n]=i,n=0;n<i.length;n++)Bo.add(i[n])}var Lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},ps={};function zu(n){return as.call(ps,n)?!0:as.call(Uu,n)?!1:Lu.test(n)?ps[n]=!0:(Uu[n]=!0,!1)}function pi(n,i,a){if(zu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Zn(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Ut(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var gs,qu;function Cr(n){if(gs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gs=i&&i[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+n+qu}var ha=!1;function fa(n,i){if(!n||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var H=F}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(F){H=F}n.call(ee.prototype)}}else{try{throw Error()}catch(F){H=F}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),j=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var X=`
`+I[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=h);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Cr(a):""}function Ho(n){switch(n.tag){case 26:case 27:case 5:return Cr(n.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return fa(n.type,!1);case 11:return fa(n.type.render,!1);case 1:return fa(n.type,!0);case 31:return Cr("Activity");default:return""}}function da(n){try{var i="";do i+=Ho(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ff(n){var i=Fo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ma(n){n._valueTracker||(n._valueTracker=Ff(n))}function Go(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Fo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gf=/[\n"\\]/g;function yt(n){return n.replace(Gf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(n,i,a,l,h,d,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+tn(i)):n.value!==""+tn(i)&&(n.value=""+tn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?gi(n,E,tn(i)):a!=null?gi(n,E,tn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+tn(w):n.removeAttribute("name")}function _s(n,i,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function gi(n,i,a){i==="number"&&ys(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Dr(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Qe(n,i,a){if(i!=null&&(i=""+tn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+tn(a):""}function vs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function In(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Es.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Ko(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ju(n,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ju(n,d,i[d])}function Qo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(n){return Qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Or=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nr=null,xr=null;function Yo(n){var i=Xn(n);if(i&&(n=i.stateNode)){var a=n[gt]||null;e:switch(n=i.stateNode,i.type){case"input":if(fn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[gt]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Go(l)}break e;case"textarea":Qe(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Dr(n,!!a.multiple,i,!1)}}}var Jn=!1;function Bu(n,i,a){if(Jn)return n(i,a);Jn=!0;try{var l=n(i);return l}finally{if(Jn=!1,(Nr!==null||xr!==null)&&(Pc(),Nr&&(i=Nr,n=xr,xr=Nr=null,Yo(i),n)))for(i=0;i<n.length;i++)Yo(n[i])}}function Ts(n,i){var a=n.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(qn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{Dn=!1}var er=null,yi=null,Mr=null;function $o(){if(Mr)return Mr;var n,i=yi,a=i.length,l,h="value"in er?er.value:er.textContent,d=h.length;for(n=0;n<a&&i[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Mr=h.slice(n,1<l?1-l:void 0)}function tr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function nr(){return!0}function Xo(){return!1}function Ot(n){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:Xo,this.isPropagationStopped=Xo,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Ot(He),Ss=v({},He,{view:0,detail:0}),Hu=Ot(Ss),ya,_a,rr,bs=v({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rr&&(rr&&n.type==="mousemove"?(ya=n.screenX-rr.screenX,_a=n.screenY-rr.screenY):_a=ya=0,rr=n),ya)},movementY:function(n){return"movementY"in n?n.movementY:_a}}),On=Ot(bs),Fu=v({},bs,{dataTransfer:0}),Yf=Ot(Fu),As=v({},Ss,{relatedTarget:0}),va=Ot(As),Wo=v({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Ot(Wo),Gu=v({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ta=Ot(Gu),$f=v({},He,{data:0}),Zo=Ot($f),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Qu[n])?!!i[n]:!1}function Is(){return Jo}var Yu=v({},Ss,{key:function(n){if(n.key){var i=Rs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=tr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ku[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(n){return n.type==="keypress"?tr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wa=Ot(Yu),$u=v({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ot($u),Vr=v({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Xu=Ot(Vr),Wu=v({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=Ot(Wu),Ju=v({},bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Ot(Ju),nn=v({},He,{newState:0,oldState:0}),ec=Ot(nn),tc=[9,13,27,32],ir=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,_=qn&&(!ir||c&&8<c&&11>=c),S=" ",z=!1;function K(n,i){switch(n){case"keyup":return tc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function bt(n,i){switch(n){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(z=!0,S);case"textInput":return n=i.data,n===S&&z?null:n;default:return null}}function ke(n,i){if(Pe)return n==="compositionend"||!ir&&K(n,i)?(n=$o(),Mr=yi=er=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Nt[n.type]:i==="textarea"}function Pr(n,i,a,l){Nr?xr?xr.push(l):xr=[l]:Nr=l,i=jc(i,"onChange"),0<i.length&&(a=new ga("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var zt=null,sr=null;function tl(n){qv(n,0)}function nc(n){var i=Wn(n);if(Go(i))return n}function oy(n,i){if(n==="change")return i}var ly=!1;if(qn){var Xf;if(qn){var Wf="oninput"in document;if(!Wf){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),Wf=typeof uy.oninput=="function"}Xf=Wf}else Xf=!1;ly=Xf&&(!document.documentMode||9<document.documentMode)}function cy(){zt&&(zt.detachEvent("onpropertychange",hy),sr=zt=null)}function hy(n){if(n.propertyName==="value"&&nc(sr)){var i=[];Pr(i,sr,n,Cn(n)),Bu(tl,i)}}function Hb(n,i,a){n==="focusin"?(cy(),zt=i,sr=a,zt.attachEvent("onpropertychange",hy)):n==="focusout"&&cy()}function Fb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nc(sr)}function Gb(n,i){if(n==="click")return nc(i)}function Kb(n,i){if(n==="input"||n==="change")return nc(i)}function Qb(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var dn=typeof Object.is=="function"?Object.is:Qb;function nl(n,i){if(dn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!as.call(i,h)||!dn(n[h],i[h]))return!1}return!0}function fy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dy(n,i){var a=fy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fy(a)}}function my(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?my(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function py(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ys(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ys(n.document)}return i}function Zf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Yb=qn&&"documentMode"in document&&11>=document.documentMode,ba=null,Jf=null,rl=null,ed=!1;function gy(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||ba==null||ba!==ys(l)||(l=ba,"selectionStart"in l&&Zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&nl(rl,l)||(rl=l,l=jc(Jf,"onSelect"),0<l.length&&(i=new ga("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=ba)))}function Cs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Aa={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},td={},yy={};qn&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ds(n){if(td[n])return td[n];if(!Aa[n])return n;var i=Aa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in yy)return td[n]=i[a];return n}var _y=Ds("animationend"),vy=Ds("animationiteration"),Ey=Ds("animationstart"),$b=Ds("transitionrun"),Xb=Ds("transitionstart"),Wb=Ds("transitioncancel"),Ty=Ds("transitionend"),wy=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function jn(n,i){wy.set(n,i),zn(i,[n])}var Sy=new WeakMap;function Nn(n,i){if(typeof n=="object"&&n!==null){var a=Sy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:da(i)},Sy.set(n,i),i)}return{value:n,source:i,stack:da(i)}}var xn=[],Ra=0,rd=0;function rc(){for(var n=Ra,i=rd=Ra=0;i<n;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&by(a,h,d)}}function ic(n,i,a,l){xn[Ra++]=n,xn[Ra++]=i,xn[Ra++]=a,xn[Ra++]=l,rd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function id(n,i,a,l){return ic(n,i,a,l),sc(n)}function Ia(n,i){return ic(n,null,null,i),sc(n)}function by(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&i!==null&&(h=31-Qt(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function sc(n){if(50<Cl)throw Cl=0,cm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ca={};function Zb(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,i,a,l){return new Zb(n,i,a,l)}function sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kr(n,i){var a=n.alternate;return a===null?(a=mn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ay(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ac(n,i,a,l,h,d){var E=0;if(l=n,typeof n=="function")sd(n)&&(E=1);else if(typeof n=="string")E=eR(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=mn(31,a,i,h),n.elementType=R,n.lanes=d,n;case k:return Os(a.children,h,d,i);case B:E=8,h|=24;break;case U:return n=mn(12,a,i,h|2),n.elementType=U,n.lanes=d,n;case re:return n=mn(13,a,i,h),n.elementType=re,n.lanes=d,n;case he:return n=mn(19,a,i,h),n.elementType=he,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:case Y:E=10;break e;case ie:E=9;break e;case se:E=11;break e;case D:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=mn(E,a,i,h),i.elementType=n,i.type=l,i.lanes=d,i}function Os(n,i,a,l){return n=mn(7,n,l,i),n.lanes=a,n}function ad(n,i,a){return n=mn(6,n,null,i),n.lanes=a,n}function od(n,i,a){return i=mn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Da=[],Oa=0,oc=null,lc=0,Mn=[],Vn=0,Ns=null,Lr=1,Ur="";function xs(n,i){Da[Oa++]=lc,Da[Oa++]=oc,oc=n,lc=i}function Ry(n,i,a){Mn[Vn++]=Lr,Mn[Vn++]=Ur,Mn[Vn++]=Ns,Ns=n;var l=Lr;n=Ur;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Lr=1<<32-Qt(i)+h|a<<h|l,Ur=d+n}else Lr=1<<d|a<<h|l,Ur=n}function ld(n){n.return!==null&&(xs(n,1),Ry(n,1,0))}function ud(n){for(;n===oc;)oc=Da[--Oa],Da[Oa]=null,lc=Da[--Oa],Da[Oa]=null;for(;n===Ns;)Ns=Mn[--Vn],Mn[Vn]=null,Ur=Mn[--Vn],Mn[Vn]=null,Lr=Mn[--Vn],Mn[Vn]=null}var rn=null,ut=null,Be=!1,Ms=null,ar=!1,cd=Error(s(519));function Vs(n){var i=Error(s(418,""));throw al(Nn(i,n)),cd}function Iy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[St]=n,i[gt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ne(Ol[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),_s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ma(i);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),vs(i,l.value,l.defaultValue,l.children),ma(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Fv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Bc),i=!0):i=!1,i||Vs(n)}function Cy(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:rn=rn.return}}function il(n){if(n!==rn)return!1;if(!Be)return Cy(n),Be=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Rm(n.type,n.memoizedProps)),a=!a),a&&ut&&Vs(n),Cy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){ut=Hn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}ut=null}}else i===27?(i=ut,Mi(n.type)?(n=Om,Om=null,ut=n):ut=i):ut=rn?Hn(n.stateNode.nextSibling):null;return!0}function sl(){ut=rn=null,Be=!1}function Dy(){var n=Ms;return n!==null&&(un===null?un=n:un.push.apply(un,n),Ms=null),n}function al(n){Ms===null?Ms=[n]:Ms.push(n)}var hd=ne(null),Ps=null,zr=null;function _i(n,i,a){ae(hd,i._currentValue),i._currentValue=a}function qr(n){n._currentValue=hd.current,ce(hd)}function fd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function dd(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var I=0;I<i.length;I++)if(w.context===i[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),fd(d.return,a,n),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),fd(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function ol(n,i,a,l){n=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;dn(h.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(h===Dt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(kl):n=[kl])}h=h.return}n!==null&&dd(i,n,a,l),i.flags|=262144}function uc(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ks(n){Ps=n,zr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return Oy(Ps,n)}function cc(n,i){return Ps===null&&ks(n),Oy(n,i)}function Oy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zr===null){if(n===null)throw Error(s(308));zr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else zr=zr.next=i;return a}var Jb=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},eA=r.unstable_scheduleCallback,tA=r.unstable_NormalPriority,Rt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new Jb,data:new Map,refCount:0}}function ll(n){n.refCount--,n.refCount===0&&eA(tA,function(){n.controller.abort()})}var ul=null,pd=0,Na=0,xa=null;function nA(n,i){if(ul===null){var a=ul=[];pd=0,Na=ym(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,i.then(Ny,Ny),i}function Ny(){if(--pd===0&&ul!==null){xa!==null&&(xa.status="fulfilled");var n=ul;ul=null,Na=0,xa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function rA(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xy=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nA(n,i),xy!==null&&xy(n,i)};var Ls=ne(null);function gd(){var n=Ls.current;return n!==null?n:et.pooledCache}function hc(n,i){i===null?ae(Ls,Ls.current):ae(Ls,i.pool)}function My(){var n=gd();return n===null?null:{parent:Rt._currentValue,pool:n}}var cl=Error(s(460)),Vy=Error(s(474)),fc=Error(s(542)),yd={then:function(){}};function Py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function dc(){}function ky(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(dc,dc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Uy(n),n;default:if(typeof i.status=="string")i.then(dc,dc);else{if(n=et,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Uy(n),n}throw hl=i,cl}}var hl=null;function Ly(){if(hl===null)throw Error(s(459));var n=hl;return hl=null,n}function Uy(n){if(n===cl||n===fc)throw Error(s(483))}var vi=!1;function _d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ei(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ti(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=sc(n),by(n,null,a),i}return ic(n,l,i,a),sc(n)}function fl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,qo(n,a)}}function Ed(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Td=!1;function dl(){if(Td){var n=xa;if(n!==null)throw n}}function ml(n,i,a,l){Td=!1;var h=n.updateQueue;vi=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,j=I.next;I.next=null,E===null?d=j:E.next=j,E=I;var X=n.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==E&&(w===null?X.firstBaseUpdate=j:w.next=j,X.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;E=0,X=j=I=null,w=d;do{var H=w.lane&-536870913,F=H!==w.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===Na&&(Td=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=n,ve=w;H=i;var Xe=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){ee=we.call(Xe,ee,H);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,H=typeof we=="function"?we.call(Xe,ee,H):we,H==null)break e;ee=v({},ee,H);break e;case 2:vi=!0}}H=w.callback,H!==null&&(n.flags|=64,F&&(n.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(j=X=F,I=ee):X=X.next=F,E|=H;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;F=w,w=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Di|=E,n.lanes=E,n.memoizedState=ee}}function zy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function qy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)zy(a[n],i)}var Ma=ne(null),mc=ne(0);function jy(n,i){n=Qr,ae(mc,n),ae(Ma,i),Qr=n|i.baseLanes}function wd(){ae(mc,Qr),ae(Ma,Ma.current)}function Sd(){Qr=mc.current,ce(Ma),ce(mc)}var wi=0,Ie=null,Ye=null,_t=null,pc=!1,Va=!1,Us=!1,gc=0,pl=0,Pa=null,iA=0;function ft(){throw Error(s(321))}function bd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!dn(n[a],i[a]))return!1;return!0}function Ad(n,i,a,l,h,d){return wi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?b_:A_,Us=!1,d=a(l,h),Us=!1,Va&&(d=Hy(i,a,l,h)),By(n),d}function By(n){$.H=wc;var i=Ye!==null&&Ye.next!==null;if(wi=0,_t=Ye=Ie=null,pc=!1,pl=0,Pa=null,i)throw Error(s(300));n===null||xt||(n=n.dependencies,n!==null&&uc(n)&&(xt=!0))}function Hy(n,i,a,l){Ie=n;var h=0;do{if(Va&&(Pa=null),pl=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,_t=Ye=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=hA,d=i(a,l)}while(Va);return d}function sA(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?gl(i):i,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ie.flags|=1024),i}function Rd(){var n=gc!==0;return gc=0,n}function Id(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Cd(n){if(pc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pc=!1}wi=0,_t=Ye=Ie=null,Va=!1,pl=gc=0,Pa=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=n:_t=_t.next=n,_t}function vt(){if(Ye===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var i=_t===null?Ie.memoizedState:_t.next;if(i!==null)_t=i,Ye=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ie.memoizedState=_t=n:_t=_t.next=n}return _t}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(n){var i=pl;return pl+=1,Pa===null&&(Pa=[]),n=ky(Pa,n,i),i=Ie,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?b_:A_),n}function yc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gl(n);if(n.$$typeof===Y)return Yt(n)}throw Error(s(438,String(n)))}function Od(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Dd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function jr(n,i){return typeof i=="function"?i(n):i}function _c(n){var i=vt();return Nd(i,Ye,n)}function Nd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{i=h.next;var w=E=null,I=null,j=i,X=!1;do{var ee=j.lane&-536870913;if(ee!==j.lane?(Le&ee)===ee:(wi&ee)===ee){var H=j.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ee===Na&&(X=!0);else if((wi&H)===H){j=j.next,H===Na&&(X=!0);continue}else ee={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(w=I=ee,E=d):I=I.next=ee,Ie.lanes|=H,Di|=H;ee=j.action,Us&&a(d,ee),d=j.hasEagerState?j.eagerState:a(d,ee)}else H={lane:ee,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(w=I=H,E=d):I=I.next=H,Ie.lanes|=ee,Di|=ee;j=j.next}while(j!==null&&j!==i);if(I===null?E=d:I.next=w,!dn(d,n.memoizedState)&&(xt=!0,X&&(a=xa,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function xd(n){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=n(d,E.action),E=E.next;while(E!==h);dn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Fy(n,i,a){var l=Ie,h=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!dn((Ye||h).memoizedState,a);E&&(h.memoizedState=a,xt=!0),h=h.queue;var w=Qy.bind(null,l,h,n);if(yl(2048,8,w,[n]),h.getSnapshot!==i||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,ka(9,vc(),Ky.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(wi&124)!==0||Gy(l,i,a)}return a}function Gy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Dd(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Ky(n,i,a,l){i.value=a,i.getSnapshot=l,Yy(i)&&$y(n)}function Qy(n,i,a){return a(function(){Yy(i)&&$y(n)})}function Yy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!dn(n,a)}catch{return!0}}function $y(n){var i=Ia(n,2);i!==null&&vn(i,n,2)}function Md(n){var i=on();if(typeof n=="function"){var a=n;if(n=a(),Us){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:n},i}function Xy(n,i,a,l){return n.baseState=a,Nd(n,Ye,typeof l=="function"?l:jr)}function aA(n,i,a,l,h){if(Tc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Wy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Wy(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var d=$.T,E={};$.T=E;try{var w=a(h,l),I=$.S;I!==null&&I(E,w),Zy(n,i,w)}catch(j){Vd(n,i,j)}finally{$.T=d}}else try{d=a(h,l),Zy(n,i,d)}catch(j){Vd(n,i,j)}}function Zy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jy(n,i,l)},function(l){return Vd(n,i,l)}):Jy(n,i,a)}function Jy(n,i,a){i.status="fulfilled",i.value=a,e_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Wy(n,a)))}function Vd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,e_(i),i=i.next;while(i!==l)}n.action=null}function e_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function t_(n,i){return i}function n_(n,i){if(Be){var a=et.formState;if(a!==null){e:{var l=Ie;if(Be){if(ut){t:{for(var h=ut,d=ar;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Hn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:i},a.queue=l,a=T_.bind(null,Ie,l),l.dispatch=a,l=Md(!1),d=zd.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=aA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function r_(n){var i=vt();return i_(i,Ye,n)}function i_(n,i,a){if(i=Nd(n,i,t_)[0],n=_c(jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(E){throw E===cl?fc:E}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ka(9,vc(),oA.bind(null,h,a),null)),[l,d,n]}function oA(n,i){n.action=i}function s_(n){var i=vt(),a=Ye;if(a!==null)return i_(i,a,n);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function ka(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Dd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function vc(){return{destroy:void 0,resource:void 0}}function a_(){return vt().memoizedState}function Ec(n,i,a,l){var h=on();l=l===void 0?null:l,Ie.flags|=n,h.memoizedState=ka(1|i,vc(),a,l)}function yl(n,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&bd(l,Ye.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Ie.flags|=n,h.memoizedState=ka(1|i,d,a,l))}function o_(n,i){Ec(8390656,8,n,i)}function l_(n,i){yl(2048,8,n,i)}function u_(n,i){return yl(4,2,n,i)}function c_(n,i){return yl(4,4,n,i)}function h_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function f_(n,i,a){a=a!=null?a.concat([n]):null,yl(4,4,h_.bind(null,i,n),a)}function Pd(){}function d_(n,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&bd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function m_(n,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&bd(i,l[1]))return l[0];if(l=n(),Us){hn(!0);try{n()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function kd(n,i,a){return a===void 0||(wi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=yv(),Ie.lanes|=n,Di|=n,a)}function p_(n,i,a,l){return dn(a,i)?a:Ma.current!==null?(n=kd(n,a,l),dn(n,i)||(xt=!0),n):(wi&42)===0?(xt=!0,n.memoizedState=a):(n=yv(),Ie.lanes|=n,Di|=n,i)}function g_(n,i,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var E=$.T,w={};$.T=w,zd(n,!1,i,a);try{var I=h(),j=$.S;if(j!==null&&j(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=rA(I,l);_l(n,i,X,_n(n))}else _l(n,i,l,_n(n))}catch(ee){_l(n,i,{then:function(){},status:"rejected",reason:ee},_n())}finally{ue.p=d,$.T=E}}function lA(){}function Ld(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=y_(n).queue;g_(n,h,i,ge,a===null?lA:function(){return __(n),a(l)})}function y_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function __(n){var i=y_(n).next.queue;_l(n,i,{},_n())}function Ud(){return Yt(kl)}function v_(){return vt().memoizedState}function E_(){return vt().memoizedState}function uA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();n=Ei(a);var l=Ti(i,n,a);l!==null&&(vn(l,i,a),fl(l,i,a)),i={cache:md()},n.payload=i;return}i=i.return}}function cA(n,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(n)?w_(i,a):(a=id(n,i,a,l),a!==null&&(vn(a,n,l),S_(a,i,l)))}function T_(n,i,a){var l=_n();_l(n,i,a,l)}function _l(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))w_(i,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,dn(w,E))return ic(n,i,h,0),et===null&&rc(),!1}catch{}finally{}if(a=id(n,i,h,l),a!==null)return vn(a,n,l),S_(a,i,l),!0}return!1}function zd(n,i,a,l){if(l={lane:2,revertLane:ym(),action:l,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(i)throw Error(s(479))}else i=id(n,a,l,2),i!==null&&vn(i,n,2)}function Tc(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function w_(n,i){Va=pc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function S_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,qo(n,a)}}var wc={readContext:Yt,use:yc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},b_={readContext:Yt,use:yc,useCallback:function(n,i){return on().memoizedState=[n,i===void 0?null:i],n},useContext:Yt,useEffect:o_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Ec(4194308,4,h_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ec(4194308,4,n,i)},useInsertionEffect:function(n,i){Ec(4,2,n,i)},useMemo:function(n,i){var a=on();i=i===void 0?null:i;var l=n();if(Us){hn(!0);try{n()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=on();if(a!==void 0){var h=a(i);if(Us){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=cA.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=on();return n={current:n},i.memoizedState=n},useState:function(n){n=Md(n);var i=n.queue,a=T_.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Pd,useDeferredValue:function(n,i){var a=on();return kd(a,n,i)},useTransition:function(){var n=Md(!1);return n=g_.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,h=on();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||Gy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,o_(Qy.bind(null,l,d,n),[n]),l.flags|=2048,ka(9,vc(),Ky.bind(null,l,d,a,i),null),a},useId:function(){var n=on(),i=et.identifierPrefix;if(Be){var a=Ur,l=Lr;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=iA++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Ud,useFormState:n_,useActionState:n_,useOptimistic:function(n){var i=on();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zd.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:Od,useCacheRefresh:function(){return on().memoizedState=uA.bind(null,Ie)}},A_={readContext:Yt,use:yc,useCallback:d_,useContext:Yt,useEffect:l_,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:_c,useRef:a_,useState:function(){return _c(jr)},useDebugValue:Pd,useDeferredValue:function(n,i){var a=vt();return p_(a,Ye.memoizedState,n,i)},useTransition:function(){var n=_c(jr)[0],i=vt().memoizedState;return[typeof n=="boolean"?n:gl(n),i]},useSyncExternalStore:Fy,useId:v_,useHostTransitionStatus:Ud,useFormState:r_,useActionState:r_,useOptimistic:function(n,i){var a=vt();return Xy(a,Ye,n,i)},useMemoCache:Od,useCacheRefresh:E_},hA={readContext:Yt,use:yc,useCallback:d_,useContext:Yt,useEffect:l_,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:xd,useRef:a_,useState:function(){return xd(jr)},useDebugValue:Pd,useDeferredValue:function(n,i){var a=vt();return Ye===null?kd(a,n,i):p_(a,Ye.memoizedState,n,i)},useTransition:function(){var n=xd(jr)[0],i=vt().memoizedState;return[typeof n=="boolean"?n:gl(n),i]},useSyncExternalStore:Fy,useId:v_,useHostTransitionStatus:Ud,useFormState:s_,useActionState:s_,useOptimistic:function(n,i){var a=vt();return Ye!==null?Xy(a,Ye,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Od,useCacheRefresh:E_},La=null,vl=0;function Sc(n){var i=vl;return vl+=1,La===null&&(La=[]),ky(La,n,i)}function El(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function bc(n,i){throw i.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function R_(n){var i=n._init;return i(n._payload)}function I_(n){function i(P,x){if(n){var q=P.deletions;q===null?(P.deletions=[x],P.flags|=16):q.push(x)}}function a(P,x){if(!n)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=kr(P,x),P.index=0,P.sibling=null,P}function d(P,x,q){return P.index=q,n?(q=P.alternate,q!==null?(q=q.index,q<x?(P.flags|=67108866,x):q):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function E(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function w(P,x,q,J){return x===null||x.tag!==6?(x=ad(q,P.mode,J),x.return=P,x):(x=h(x,q),x.return=P,x)}function I(P,x,q,J){var de=q.type;return de===k?X(P,x,q.props.children,J,q.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&R_(de)===x.type)?(x=h(x,q.props),El(x,q),x.return=P,x):(x=ac(q.type,q.key,q.props,null,P.mode,J),El(x,q),x.return=P,x)}function j(P,x,q,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==q.containerInfo||x.stateNode.implementation!==q.implementation?(x=od(q,P.mode,J),x.return=P,x):(x=h(x,q.children||[]),x.return=P,x)}function X(P,x,q,J,de){return x===null||x.tag!==7?(x=Os(q,P.mode,J,de),x.return=P,x):(x=h(x,q),x.return=P,x)}function ee(P,x,q){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ad(""+x,P.mode,q),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return q=ac(x.type,x.key,x.props,null,P.mode,q),El(q,x),q.return=P,q;case O:return x=od(x,P.mode,q),x.return=P,x;case A:var J=x._init;return x=J(x._payload),ee(P,x,q)}if(ot(x)||L(x))return x=Os(x,P.mode,q,null),x.return=P,x;if(typeof x.then=="function")return ee(P,Sc(x),q);if(x.$$typeof===Y)return ee(P,cc(P,x),q);bc(P,x)}return null}function H(P,x,q,J){var de=x!==null?x.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:w(P,x,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===de?I(P,x,q,J):null;case O:return q.key===de?j(P,x,q,J):null;case A:return de=q._init,q=de(q._payload),H(P,x,q,J)}if(ot(q)||L(q))return de!==null?null:X(P,x,q,J,null);if(typeof q.then=="function")return H(P,x,Sc(q),J);if(q.$$typeof===Y)return H(P,x,cc(P,q),J);bc(P,q)}return null}function F(P,x,q,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(q)||null,w(x,P,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return P=P.get(J.key===null?q:J.key)||null,I(x,P,J,de);case O:return P=P.get(J.key===null?q:J.key)||null,j(x,P,J,de);case A:var De=J._init;return J=De(J._payload),F(P,x,q,J,de)}if(ot(J)||L(J))return P=P.get(q)||null,X(x,P,J,de,null);if(typeof J.then=="function")return F(P,x,q,Sc(J),de);if(J.$$typeof===Y)return F(P,x,q,cc(x,J),de);bc(x,J)}return null}function we(P,x,q,J){for(var de=null,De=null,me=x,Ee=x=0,Vt=null;me!==null&&Ee<q.length;Ee++){me.index>Ee?(Vt=me,me=null):Vt=me.sibling;var qe=H(P,me,q[Ee],J);if(qe===null){me===null&&(me=Vt);break}n&&me&&qe.alternate===null&&i(P,me),x=d(qe,x,Ee),De===null?de=qe:De.sibling=qe,De=qe,me=Vt}if(Ee===q.length)return a(P,me),Be&&xs(P,Ee),de;if(me===null){for(;Ee<q.length;Ee++)me=ee(P,q[Ee],J),me!==null&&(x=d(me,x,Ee),De===null?de=me:De.sibling=me,De=me);return Be&&xs(P,Ee),de}for(me=l(me);Ee<q.length;Ee++)Vt=F(me,P,Ee,q[Ee],J),Vt!==null&&(n&&Vt.alternate!==null&&me.delete(Vt.key===null?Ee:Vt.key),x=d(Vt,x,Ee),De===null?de=Vt:De.sibling=Vt,De=Vt);return n&&me.forEach(function(Ui){return i(P,Ui)}),Be&&xs(P,Ee),de}function ve(P,x,q,J){if(q==null)throw Error(s(151));for(var de=null,De=null,me=x,Ee=x=0,Vt=null,qe=q.next();me!==null&&!qe.done;Ee++,qe=q.next()){me.index>Ee?(Vt=me,me=null):Vt=me.sibling;var Ui=H(P,me,qe.value,J);if(Ui===null){me===null&&(me=Vt);break}n&&me&&Ui.alternate===null&&i(P,me),x=d(Ui,x,Ee),De===null?de=Ui:De.sibling=Ui,De=Ui,me=Vt}if(qe.done)return a(P,me),Be&&xs(P,Ee),de;if(me===null){for(;!qe.done;Ee++,qe=q.next())qe=ee(P,qe.value,J),qe!==null&&(x=d(qe,x,Ee),De===null?de=qe:De.sibling=qe,De=qe);return Be&&xs(P,Ee),de}for(me=l(me);!qe.done;Ee++,qe=q.next())qe=F(me,P,Ee,qe.value,J),qe!==null&&(n&&qe.alternate!==null&&me.delete(qe.key===null?Ee:qe.key),x=d(qe,x,Ee),De===null?de=qe:De.sibling=qe,De=qe);return n&&me.forEach(function(fR){return i(P,fR)}),Be&&xs(P,Ee),de}function Xe(P,x,q,J){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var de=q.key;x!==null;){if(x.key===de){if(de=q.type,de===k){if(x.tag===7){a(P,x.sibling),J=h(x,q.props.children),J.return=P,P=J;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&R_(de)===x.type){a(P,x.sibling),J=h(x,q.props),El(J,q),J.return=P,P=J;break e}a(P,x);break}else i(P,x);x=x.sibling}q.type===k?(J=Os(q.props.children,P.mode,J,q.key),J.return=P,P=J):(J=ac(q.type,q.key,q.props,null,P.mode,J),El(J,q),J.return=P,P=J)}return E(P);case O:e:{for(de=q.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===q.containerInfo&&x.stateNode.implementation===q.implementation){a(P,x.sibling),J=h(x,q.children||[]),J.return=P,P=J;break e}else{a(P,x);break}else i(P,x);x=x.sibling}J=od(q,P.mode,J),J.return=P,P=J}return E(P);case A:return de=q._init,q=de(q._payload),Xe(P,x,q,J)}if(ot(q))return we(P,x,q,J);if(L(q)){if(de=L(q),typeof de!="function")throw Error(s(150));return q=de.call(q),ve(P,x,q,J)}if(typeof q.then=="function")return Xe(P,x,Sc(q),J);if(q.$$typeof===Y)return Xe(P,x,cc(P,q),J);bc(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,x!==null&&x.tag===6?(a(P,x.sibling),J=h(x,q),J.return=P,P=J):(a(P,x),J=ad(q,P.mode,J),J.return=P,P=J),E(P)):a(P,x)}return function(P,x,q,J){try{vl=0;var de=Xe(P,x,q,J);return La=null,de}catch(me){if(me===cl||me===fc)throw me;var De=mn(29,me,null,P.mode);return De.lanes=J,De.return=P,De}finally{}}}var Ua=I_(!0),C_=I_(!1),Pn=ne(null),or=null;function Si(n){var i=n.alternate;ae(It,It.current&1),ae(Pn,n),or===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(or=n)}function D_(n){if(n.tag===22){if(ae(It,It.current),ae(Pn,n),or===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(or=n)}}else bi()}function bi(){ae(It,It.current),ae(Pn,Pn.current)}function Br(n){ce(Pn),or===n&&(or=null),ce(It)}var It=ne(0);function Ac(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var jd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=_n(),h=Ei(l);h.payload=i,a!=null&&(h.callback=a),i=Ti(n,h,l),i!==null&&(vn(i,n,l),fl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=_n(),h=Ei(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ti(n,h,l),i!==null&&(vn(i,n,l),fl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=_n(),l=Ei(a);l.tag=2,i!=null&&(l.callback=i),i=Ti(n,l,a),i!==null&&(vn(i,n,a),fl(i,n,a))}};function O_(n,i,a,l,h,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function N_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&jd.enqueueReplaceState(i,i.state,null)}function zs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Rc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function x_(n){Rc(n)}function M_(n){console.error(n)}function V_(n){Rc(n)}function Ic(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function P_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bd(n,i,a){return a=Ei(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(n,i)},a}function k_(n){return n=Ei(n),n.tag=3,n}function L_(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){P_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){P_(i,a,l),typeof h!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function fA(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ol(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return or===null?fm():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===yd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),mm(n,l,h)),!1;case 22:return a.flags|=65536,l===yd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),mm(n,l,h)),!1}throw Error(s(435,a.tag))}return mm(n,l,h),fm(),!1}if(Be)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==cd&&(n=Error(s(422),{cause:l}),al(Nn(n,a)))):(l!==cd&&(i=Error(s(423),{cause:l}),al(Nn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Nn(l,a),h=Bd(n.stateNode,l,h),Ed(n,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Il===null?Il=[d]:Il.push(d),ct!==4&&(ct=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Bd(a.stateNode,l,n),Ed(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=k_(h),L_(h,n,a,l),Ed(a,h),!1}a=a.return}while(a!==null);return!1}var U_=Error(s(461)),xt=!1;function qt(n,i,a,l){i.child=n===null?C_(i,null,a,l):Ua(i,n.child,a,l)}function z_(n,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return ks(i),l=Ad(n,i,a,E,d,h),w=Rd(),n!==null&&!xt?(Id(n,i,h),Hr(n,i,h)):(Be&&w&&ld(i),i.flags|=1,qt(n,i,l,h),i.child)}function q_(n,i,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!sd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,j_(n,i,d,l,h)):(n=ac(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Xd(n,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(E,l)&&n.ref===i.ref)return Hr(n,i,h)}return i.flags|=1,n=kr(d,l),n.ref=i.ref,n.return=i,i.child=n}function j_(n,i,a,l,h){if(n!==null){var d=n.memoizedProps;if(nl(d,l)&&n.ref===i.ref)if(xt=!1,i.pendingProps=l=d,Xd(n,h))(n.flags&131072)!==0&&(xt=!0);else return i.lanes=n.lanes,Hr(n,i,h)}return Hd(n,i,a,l,h)}function B_(n,i,a){var l=i.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=i.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return H_(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&hc(i,d!==null?d.cachePool:null),d!==null?jy(i,d):wd(),D_(i);else return i.lanes=i.childLanes=536870912,H_(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(hc(i,d.cachePool),jy(i,d),bi(),i.memoizedState=null):(n!==null&&hc(i,null),wd(),bi());return qt(n,i,h,a),i.child}function H_(n,i,a,l){var h=gd();return h=h===null?null:{parent:Rt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&hc(i,null),wd(),D_(i),n!==null&&ol(n,i,l,!0),null}function Cc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Hd(n,i,a,l,h){return ks(i),a=Ad(n,i,a,l,void 0,h),l=Rd(),n!==null&&!xt?(Id(n,i,h),Hr(n,i,h)):(Be&&l&&ld(i),i.flags|=1,qt(n,i,a,h),i.child)}function F_(n,i,a,l,h,d){return ks(i),i.updateQueue=null,a=Hy(i,l,a,h),By(n),l=Rd(),n!==null&&!xt?(Id(n,i,d),Hr(n,i,d)):(Be&&l&&ld(i),i.flags|=1,qt(n,i,a,d),i.child)}function G_(n,i,a,l,h){if(ks(i),i.stateNode===null){var d=Ca,E=a.contextType;typeof E=="object"&&E!==null&&(d=Yt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},_d(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Yt(E):Ca,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(qd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&jd.enqueueReplaceState(d,d.state,null),ml(i,l,d,h),dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var w=i.memoizedProps,I=zs(a,w);d.props=I;var j=d.context,X=a.contextType;E=Ca,typeof X=="object"&&X!==null&&(E=Yt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||j!==E)&&N_(i,d,l,E),vi=!1;var H=i.memoizedState;d.state=H,ml(i,l,d,h),dl(),j=i.memoizedState,w||H!==j||vi?(typeof ee=="function"&&(qd(i,a,ee,l),j=i.memoizedState),(I=vi||O_(i,a,I,l,H,j,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,vd(n,i),E=i.memoizedProps,X=zs(a,E),d.props=X,ee=i.pendingProps,H=d.context,j=a.contextType,I=Ca,typeof j=="object"&&j!==null&&(I=Yt(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||H!==I)&&N_(i,d,l,I),vi=!1,H=i.memoizedState,d.state=H,ml(i,l,d,h),dl();var F=i.memoizedState;E!==ee||H!==F||vi||n!==null&&n.dependencies!==null&&uc(n.dependencies)?(typeof w=="function"&&(qd(i,a,w,l),F=i.memoizedState),(X=vi||O_(i,a,X,l,H,F,I)||n!==null&&n.dependencies!==null&&uc(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ua(i,n.child,null,h),i.child=Ua(i,null,a,h)):qt(n,i,a,h),i.memoizedState=d.state,n=i.child):n=Hr(n,i,h),n}function K_(n,i,a,l){return sl(),i.flags|=256,qt(n,i,a,l),i.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(n){return{baseLanes:n,cachePool:My()}}function Kd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=kn),n}function Q_(n,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Be){if(h?Si(i):bi(),Be){var w=ut,I;if(I=w){e:{for(I=w,w=ar;I.nodeType!==8;){if(!w){w=null;break e}if(I=Hn(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(i.memoizedState={dehydrated:w,treeContext:Ns!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},I=mn(18,null,null,0),I.stateNode=w,I.return=i,i.child=I,rn=i,ut=null,I=!0):I=!1}I||Vs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Dm(w)?i.lanes=32:i.lanes=536870912,null;Br(i)}return w=l.children,l=l.fallback,h?(bi(),h=i.mode,w=Dc({mode:"hidden",children:w},h),l=Os(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Gd(a),h.childLanes=Kd(n,E,a),i.memoizedState=Fd,l):(Si(i),Qd(i,w))}if(I=n.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)i.flags&256?(Si(i),i.flags&=-257,i=Yd(n,i,a)):i.memoizedState!==null?(bi(),i.child=n.child,i.flags|=128,i=null):(bi(),h=l.fallback,w=i.mode,l=Dc({mode:"visible",children:l.children},w),h=Os(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ua(i,n.child,null,a),l=i.child,l.memoizedState=Gd(a),l.childLanes=Kd(n,E,a),i.memoizedState=Fd,i=h);else if(Si(i),Dm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var j=E.dgst;E=j,l=Error(s(419)),l.stack="",l.digest=E,al({value:l,source:null,stack:null}),i=Yd(n,i,a)}else if(xt||ol(n,i,a,!1),E=(a&n.childLanes)!==0,xt||E){if(E=et,E!==null&&(l=a&-a,l=(l&42)!==0?1:hi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ia(n,l),vn(E,n,l),U_;w.data==="$?"||fm(),i=Yd(n,i,a)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,ut=Hn(w.nextSibling),rn=i,Be=!0,Ms=null,ar=!1,n!==null&&(Mn[Vn++]=Lr,Mn[Vn++]=Ur,Mn[Vn++]=Ns,Lr=n.id,Ur=n.overflow,Ns=i),i=Qd(i,l.children),i.flags|=4096);return i}return h?(bi(),h=l.fallback,w=i.mode,I=n.child,j=I.sibling,l=kr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?h=kr(j,h):(h=Os(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=n.child.memoizedState,w===null?w=Gd(a):(I=w.cachePool,I!==null?(j=Rt._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=My(),w={baseLanes:w.baseLanes|a,cachePool:I}),h.memoizedState=w,h.childLanes=Kd(n,E,a),i.memoizedState=Fd,l):(Si(i),a=n.child,n=a.sibling,a=kr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Qd(n,i){return i=Dc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Dc(n,i){return n=mn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Yd(n,i,a){return Ua(i,n.child,null,a),n=Qd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Y_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),fd(n.return,i,a)}function $d(n,i,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function $_(n,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(n,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Y_(n,a,i);else if(n.tag===19)Y_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ae(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Ac(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),$d(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Ac(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}$d(i,!0,a,null,d);break;case"together":$d(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Di|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ol(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=kr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=kr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Xd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&uc(n)))}function dA(n,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),_i(i,Rt,n.memoizedState.cache),sl();break;case 27:case 5:ci(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:_i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Si(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Q_(n,i,a):(Si(i),n=Hr(n,i,a),n!==null?n.sibling:null);Si(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ol(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return $_(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,B_(n,i,a);case 24:_i(i,Rt,n.memoizedState.cache)}return Hr(n,i,a)}function X_(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)xt=!0;else{if(!Xd(n,a)&&(i.flags&128)===0)return xt=!1,dA(n,i,a);xt=(n.flags&131072)!==0}else xt=!1,Be&&(i.flags&1048576)!==0&&Ry(i,lc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")sd(l)?(n=zs(l,n),i.tag=1,i=G_(null,i,l,n,a)):(i.tag=0,i=Hd(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===se){i.tag=11,i=z_(null,i,l,n,a);break e}else if(h===D){i.tag=14,i=q_(null,i,l,n,a);break e}}throw i=Lt(l)||l,Error(s(306,i,""))}}return i;case 0:return Hd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),G_(n,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,vd(n,i),ml(i,l,null,a);var E=i.memoizedState;if(l=E.cache,_i(i,Rt,l),l!==d.cache&&dd(i,[Rt],a,!0),dl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=K_(n,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),al(h),i=K_(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ut=Hn(n.firstChild),rn=i,Be=!0,Ms=null,ar=!0,a=C_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===h){i=Hr(n,i,a);break e}qt(n,i,l,a)}i=i.child}return i;case 26:return Cc(n,i),n===null?(a=eE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,n=i.pendingProps,l=Hc(be.current).createElement(a),l[St]=i,l[gt]=n,Bt(l,a,n),ht(l),i.stateNode=l):i.memoizedState=eE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ci(i),n===null&&Be&&(l=i.stateNode=Wv(i.type,i.pendingProps,be.current),rn=i,ar=!0,h=ut,Mi(i.type)?(Om=h,ut=Hn(l.firstChild)):ut=h),qt(n,i,i.pendingProps.children,a),Cc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Be&&((h=l=ut)&&(l=jA(l,i.type,i.pendingProps,ar),l!==null?(i.stateNode=l,rn=i,ut=Hn(l.firstChild),ar=!1,h=!0):h=!1),h||Vs(i)),ci(i),h=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Rm(h,d)?l=null:E!==null&&Rm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Ad(n,i,sA,null,null,a),kl._currentValue=h),Cc(n,i),qt(n,i,l,a),i.child;case 6:return n===null&&Be&&((n=a=ut)&&(a=BA(a,i.pendingProps,ar),a!==null?(i.stateNode=a,rn=i,ut=null,n=!0):n=!1),n||Vs(i)),null;case 13:return Q_(n,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ua(i,null,l,a):qt(n,i,l,a),i.child;case 11:return z_(n,i,i.type,i.pendingProps,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_i(i,i.type,l.value),qt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ks(i),h=Yt(h),l=l(h),i.flags|=1,qt(n,i,l,a),i.child;case 14:return q_(n,i,i.type,i.pendingProps,a);case 15:return j_(n,i,i.type,i.pendingProps,a);case 19:return $_(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Dc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=kr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return B_(n,i,a);case 24:return ks(i),l=Yt(Rt),n===null?(h=gd(),h===null&&(h=et,d=md(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},_d(i),_i(i,Rt,h)):((n.lanes&a)!==0&&(vd(n,i),ml(i,null,null,a),dl()),h=n.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_i(i,Rt,l)):(l=d.cache,_i(i,Rt,l),l!==h.cache&&dd(i,[Rt],a,!0))),qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fr(n){n.flags|=4}function W_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!sE(i)){if(i=Pn.current,i!==null&&((Le&4194048)===Le?or!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==or))throw hl=yd,Vy;n.flags|=8192}}function Oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Uo():536870912,n.lanes|=i,Ba|=i)}function Tl(n,i){if(!Be)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function it(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function mA(n,i,a){var l=i.pendingProps;switch(ud(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qr(Rt),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(il(i)?Fr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dy())),it(i),null;case 26:return a=i.memoizedState,n===null?(Fr(i),a!==null?(it(i),W_(i,a)):(it(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Fr(i),it(i),W_(i,a)):(it(i),i.flags&=-16777217):(n.memoizedProps!==l&&Fr(i),it(i),i.flags&=-16777217),null;case 27:Sr(i),a=be.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Fr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}n=ye.current,il(i)?Iy(i):(n=Wv(h,l,a),i.stateNode=n,Fr(i))}return it(i),null;case 5:if(Sr(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Fr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(n=ye.current,il(i))Iy(i);else{switch(h=Hc(be.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[St]=i,n[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Bt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Fr(i)}}return it(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Fr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=be.current,il(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[St]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fv(n.nodeValue,a)),n||Vs(i)}else n=Hc(n).createTextNode(l),n[St]=i,i.stateNode=n}return it(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=il(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=Dy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Br(i),i):(Br(i),null)}if(Br(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Oc(i,i.updateQueue),it(i),null;case 4:return Yn(),n===null&&Tm(i.stateNode.containerInfo),it(i),null;case 10:return qr(i.type),it(i),null;case 19:if(ce(It),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ac(n),d!==null){for(i.flags|=128,Tl(h,!1),n=d.updateQueue,i.updateQueue=n,Oc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Ay(a,n),a=a.sibling;return ae(It,It.current&1|2),i.child}n=n.sibling}h.tail!==null&&An()>Mc&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304)}else{if(!l)if(n=Ac(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Oc(i,n),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(i),null}else 2*An()-h.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(n=h.last,n!==null?n.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=An(),i.sibling=null,n=It.current,ae(It,l?n&1|2:n&1),i):(it(i),null);case 22:case 23:return Br(i),Sd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Oc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ce(Ls),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qr(Rt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pA(n,i){switch(ud(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qr(Rt),Yn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Sr(i),null;case 13:if(Br(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));sl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ce(It),null;case 4:return Yn(),null;case 10:return qr(i.type),null;case 22:case 23:return Br(i),Sd(),n!==null&&ce(Ls),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return qr(Rt),null;case 25:return null;default:return null}}function Z_(n,i){switch(ud(i),i.tag){case 3:qr(Rt),Yn();break;case 26:case 27:case 5:Sr(i);break;case 4:Yn();break;case 13:Br(i);break;case 19:ce(It);break;case 10:qr(i.type);break;case 22:case 23:Br(i),Sd(),n!==null&&ce(Ls);break;case 24:qr(Rt)}}function wl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){Ze(i,i.return,w)}}function Ai(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var I=a,j=w;try{j()}catch(X){Ze(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(i,i.return,X)}}function J_(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{qy(i,a)}catch(l){Ze(n,n.return,l)}}}function ev(n,i,a){a.props=zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,i,l)}}function Sl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){Ze(n,i,h)}}function lr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(n,i,h)}else a.current=null}function tv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(n,n.return,h)}}function Wd(n,i,a){try{var l=n.stateNode;kA(l,n.type,a,i),l[gt]=i}catch(h){Ze(n,n.return,h)}}function nv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Mi(n.type)||n.tag===4}function Zd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Mi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bc));else if(l!==4&&(l===27&&Mi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Jd(n,i,a),n=n.sibling;n!==null;)Jd(n,i,a),n=n.sibling}function Nc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Mi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Nc(n,i,a),n=n.sibling;n!==null;)Nc(n,i,a),n=n.sibling}function rv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,a),i[St]=n,i[gt]=a}catch(d){Ze(n,n.return,d)}}var Gr=!1,dt=!1,em=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function gA(n,i){if(n=n.containerInfo,bm=$c,n=py(n),Zf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,I=-1,j=0,X=0,ee=n,H=null;t:for(;;){for(var F;ee!==a||h!==0&&ee.nodeType!==3||(w=E+h),ee!==d||l!==0&&ee.nodeType!==3||(I=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(F=ee.firstChild)!==null;)H=ee,ee=F;for(;;){if(ee===n)break t;if(H===a&&++j===h&&(w=E),H===d&&++X===l&&(I=E),(F=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=F}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Am={focusedElem:n,selectionRange:a},$c=!1,Mt=i;Mt!==null;)if(i=Mt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Mt=n;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=zs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Mt=n;break}Mt=i.return}}function sv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ri(n,a),l&4&&wl(5,a);break;case 1:if(Ri(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&J_(a),l&512&&Sl(a,a.return);break;case 3:if(Ri(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qy(n,i)}catch(E){Ze(a,a.return,E)}}break;case 27:i===null&&l&4&&rv(a);case 26:case 5:Ri(n,a),i===null&&l&4&&tv(a),l&512&&Sl(a,a.return);break;case 12:Ri(n,a);break;case 13:Ri(n,a),l&4&&lv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=AA.bind(null,a),HA(n,a))));break;case 22:if(l=a.memoizedState!==null||Gr,!l){i=i!==null&&i.memoizedState!==null||dt,h=Gr;var d=dt;Gr=l,(dt=i)&&!d?Ii(n,a,(a.subtreeFlags&8772)!==0):Ri(n,a),Gr=h,dt=d}break;case 30:break;default:Ri(n,a)}}function av(n){var i=n.alternate;i!==null&&(n.alternate=null,av(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&mi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,ln=!1;function Kr(n,i,a){for(a=a.child;a!==null;)ov(n,i,a),a=a.sibling}function ov(n,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||lr(a,i),Kr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||lr(a,i);var l=rt,h=ln;Mi(a.type)&&(rt=a.stateNode,ln=!1),Kr(n,i,a),xl(a.stateNode),rt=l,ln=h;break;case 5:dt||lr(a,i);case 6:if(l=rt,h=ln,rt=null,Kr(n,i,a),rt=l,ln=h,rt!==null)if(ln)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:rt!==null&&(ln?(n=rt,$v(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ql(n)):$v(rt,a.stateNode));break;case 4:l=rt,h=ln,rt=a.stateNode.containerInfo,ln=!0,Kr(n,i,a),rt=l,ln=h;break;case 0:case 11:case 14:case 15:dt||Ai(2,a,i),dt||Ai(4,a,i),Kr(n,i,a);break;case 1:dt||(lr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ev(a,i,l)),Kr(n,i,a);break;case 21:Kr(n,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Kr(n,i,a),dt=l;break;default:Kr(n,i,a)}}function lv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ql(n)}catch(a){Ze(i,i.return,a)}}function yA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new iv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new iv),i;default:throw Error(s(435,n.tag))}}function tm(n,i){var a=yA(n);i.forEach(function(l){var h=RA.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Mi(w.type)){rt=w.stateNode,ln=!1;break e}break;case 5:rt=w.stateNode,ln=!1;break e;case 3:case 4:rt=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(rt===null)throw Error(s(160));ov(d,E,h),rt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)uv(i,n),i=i.sibling}var Bn=null;function uv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(i,n),gn(n),l&4&&(Ai(3,n,n.return),wl(3,n),Ai(5,n,n.return));break;case 1:pn(i,n),gn(n),l&512&&(dt||a===null||lr(a,a.return)),l&64&&Gr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(pn(i,n),gn(n),l&512&&(dt||a===null||lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ms]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[St]=n,ht(d),l=d;break e;case"link":var E=rE("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=rE("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=n,ht(d),l=d}n.stateNode=l}else iE(h,n.type,n.stateNode);else n.stateNode=nE(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?iE(h,n.type,n.stateNode):nE(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Wd(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(i,n),gn(n),l&512&&(dt||a===null||lr(a,a.return)),a!==null&&l&4&&Wd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,n),gn(n),l&512&&(dt||a===null||lr(a,a.return)),n.flags&32){h=n.stateNode;try{In(h,"")}catch(F){Ze(n,n.return,F)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Wd(n,h,a!==null?a.memoizedProps:h)),l&1024&&(em=!0);break;case 6:if(pn(i,n),gn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){Ze(n,n.return,F)}}break;case 3:if(Kc=null,h=Bn,Bn=Fc(i.containerInfo),pn(i,n),Bn=h,gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(i.containerInfo)}catch(F){Ze(n,n.return,F)}em&&(em=!1,cv(n));break;case 4:l=Bn,Bn=Fc(n.stateNode.containerInfo),pn(i,n),gn(n),Bn=l;break;case 12:pn(i,n),gn(n);break;case 13:pn(i,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(om=An()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Gr,X=dt;if(Gr=j||h,dt=X||I,pn(i,n),dt=X,Gr=j,gn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Gr||dt||qs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(I,I.return,F)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){Ze(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tm(n,a))));break;case 19:pn(i,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,tm(n,l)));break;case 30:break;case 21:break;default:pn(i,n),gn(n)}}function gn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Zd(n);Nc(n,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(In(E,""),a.flags&=-33);var w=Zd(n);Nc(n,w,E);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Zd(n);Jd(n,j,I);break;default:throw Error(s(161))}}catch(X){Ze(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ri(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sv(n,i.alternate,i),i=i.sibling}function qs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ai(4,i,i.return),qs(i);break;case 1:lr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ev(i,i.return,a),qs(i);break;case 27:xl(i.stateNode);case 26:case 5:lr(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}n=n.sibling}}function Ii(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ii(h,d,a),wl(4,d);break;case 1:if(Ii(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zy(I[h],w)}catch(j){Ze(l,l.return,j)}}a&&E&64&&J_(d),Sl(d,d.return);break;case 27:rv(d);case 26:case 5:Ii(h,d,a),a&&l===null&&E&4&&tv(d),Sl(d,d.return);break;case 12:Ii(h,d,a);break;case 13:Ii(h,d,a),a&&E&4&&lv(h,d);break;case 22:d.memoizedState===null&&Ii(h,d,a),Sl(d,d.return);break;case 30:break;default:Ii(h,d,a)}i=i.sibling}}function nm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ll(a))}function rm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ll(n))}function ur(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hv(n,i,a,l),i=i.sibling}function hv(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ur(n,i,a,l),h&2048&&wl(9,i);break;case 1:ur(n,i,a,l);break;case 3:ur(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ll(n)));break;case 12:if(h&2048){ur(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else ur(n,i,a,l);break;case 13:ur(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?ur(n,i,a,l):bl(n,i):d._visibility&2?ur(n,i,a,l):(d._visibility|=2,za(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&nm(E,i);break;case 24:ur(n,i,a,l),h&2048&&rm(i.alternate,i);break;default:ur(n,i,a,l)}}function za(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,w=a,I=l,j=E.flags;switch(E.tag){case 0:case 11:case 15:za(d,E,w,I,h),wl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?za(d,E,w,I,h):bl(d,E):(X._visibility|=2,za(d,E,w,I,h)),h&&j&2048&&nm(E.alternate,E);break;case 24:za(d,E,w,I,h),h&&j&2048&&rm(E.alternate,E);break;default:za(d,E,w,I,h)}i=i.sibling}}function bl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&nm(l.alternate,l);break;case 24:bl(a,l),h&2048&&rm(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var Al=8192;function qa(n){if(n.subtreeFlags&Al)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 26:qa(n),n.flags&Al&&n.memoizedState!==null&&nR(Bn,n.memoizedState,n.memoizedProps);break;case 5:qa(n);break;case 3:case 4:var i=Bn;Bn=Fc(n.stateNode.containerInfo),qa(n),Bn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Al,Al=16777216,qa(n),Al=i):qa(n));break;default:qa(n)}}function dv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Rl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,pv(l,n)}dv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mv(n),n=n.sibling}function mv(n){switch(n.tag){case 0:case 11:case 15:Rl(n),n.flags&2048&&Ai(9,n,n.return);break;case 3:Rl(n);break;case 12:Rl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,xc(n)):Rl(n);break;default:Rl(n)}}function xc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,pv(l,n)}dv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ai(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}n=n.sibling}}function pv(n,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Ai(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=n;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(av(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var _A={getCacheForType:function(n){var i=Yt(Rt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},vA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,Le=0,Ke=0,yn=null,Ci=!1,ja=!1,im=!1,Qr=0,ct=0,Di=0,js=0,sm=0,kn=0,Ba=0,Il=null,un=null,am=!1,om=0,Mc=1/0,Vc=null,Oi=null,jt=0,Ni=null,Ha=null,Fa=0,lm=0,um=null,gv=null,Cl=0,cm=null;function _n(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var n=Na;return n!==0?n:ym()}return fi()}function yv(){kn===0&&(kn=(Le&536870912)===0||Be?Lo():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),kn}function vn(n,i,a){(n===et&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&(Ga(n,0),xi(n,Le,kn,!1)),Ar(n,a),((Ge&2)===0||n!==et)&&(n===et&&((Ge&2)===0&&(js|=a),ct===4&&xi(n,Le,kn,!1)),cr(n))}function _v(n,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||ds(n,i),h=l?wA(n,i):dm(n,i,!0),d=l;do{if(h===0){ja&&!l&&xi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!EA(a)){h=dm(n,i,!1),d=!1;continue}if(h===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;h=Il;var I=w.current.memoizedState.isDehydrated;if(I&&(Ga(w,E).flags|=256),E=dm(w,E,!1),E!==2){if(im&&!I){w.errorRecoveryDisabledLanes|=d,js|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ga(n,0),xi(n,i,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xi(l,i,kn,!Ci);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=om+300-An(),10<h)){if(xi(l,i,kn,!Ci),la(l,0,!0)!==0)break e;l.timeoutHandle=Qv(vv.bind(null,l,a,un,Vc,am,i,kn,js,Ba,Ci,d,2,-0,0),h);break e}vv(l,a,un,Vc,am,i,kn,js,Ba,Ci,d,0,-0,0)}}break}while(!0);cr(n)}function vv(n,i,a,l,h,d,E,w,I,j,X,ee,H,F){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:tR},fv(i),ee=rR(),ee!==null)){n.cancelPendingCommit=ee(Rv.bind(null,n,i,d,a,l,h,E,w,I,X,1,H,F)),xi(n,d,E,!j);return}Rv(n,i,d,a,l,h,E,w,I)}function EA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xi(n,i,a,l){i&=~sm,i&=~js,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&$n(n,a,i)}function Pc(){return(Ge&6)===0?(Dl(0),!1):!0}function hm(){if(Oe!==null){if(Ke===0)var n=Oe.return;else n=Oe,zr=Ps=null,Cd(n),La=null,vl=0,n=Oe;for(;n!==null;)Z_(n.alternate,n),n=n.return;Oe=null}}function Ga(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,UA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),hm(),et=n,Oe=a=kr(n.current,null),Le=i,Ke=0,yn=null,Ci=!1,ja=ds(n,i),im=!1,Ba=kn=sm=js=Di=ct=0,un=Il=null,am=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=n[h],l&=~d}return Qr=i,rc(),a}function Ev(n,i){Ie=null,$.H=wc,i===cl||i===fc?(i=Ly(),Ke=3):i===Vy?(i=Ly(),Ke=4):Ke=i===U_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Oe===null&&(ct=1,Ic(n,Nn(i,n.current)))}function Tv(){var n=$.H;return $.H=wc,n===null?wc:n}function wv(){var n=$.A;return $.A=_A,n}function fm(){ct=4,Ci||(Le&4194048)!==Le&&Pn.current!==null||(ja=!0),(Di&134217727)===0&&(js&134217727)===0||et===null||xi(et,Le,kn,!1)}function dm(n,i,a){var l=Ge;Ge|=2;var h=Tv(),d=wv();(et!==n||Le!==i)&&(Vc=null,Ga(n,i)),i=!1;var E=ct;e:do try{if(Ke!==0&&Oe!==null){var w=Oe,I=yn;switch(Ke){case 8:hm(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var j=Ke;if(Ke=0,yn=null,Ka(n,w,I,j),a&&ja){E=0;break e}break;default:j=Ke,Ke=0,yn=null,Ka(n,w,I,j)}}TA(),E=ct;break}catch(X){Ev(n,X)}while(!0);return i&&n.shellSuspendCounter++,zr=Ps=null,Ge=l,$.H=h,$.A=d,Oe===null&&(et=null,Le=0,rc()),E}function TA(){for(;Oe!==null;)Sv(Oe)}function wA(n,i){var a=Ge;Ge|=2;var l=Tv(),h=wv();et!==n||Le!==i?(Vc=null,Mc=An()+500,Ga(n,i)):ja=ds(n,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=yn;t:switch(Ke){case 1:Ke=0,yn=null,Ka(n,i,d,1);break;case 2:case 9:if(Py(d)){Ke=0,yn=null,bv(i);break}i=function(){Ke!==2&&Ke!==9||et!==n||(Ke=7),cr(n)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Py(d)?(Ke=0,yn=null,bv(i)):(Ke=0,yn=null,Ka(n,i,d,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var w=Oe;if(!E||sE(E)){Ke=0,yn=null;var I=w.sibling;if(I!==null)Oe=I;else{var j=w.return;j!==null?(Oe=j,kc(j)):Oe=null}break t}}Ke=0,yn=null,Ka(n,i,d,5);break;case 6:Ke=0,yn=null,Ka(n,i,d,6);break;case 8:hm(),ct=6;break e;default:throw Error(s(462))}}SA();break}catch(X){Ev(n,X)}while(!0);return zr=Ps=null,$.H=l,$.A=h,Ge=a,Oe!==null?0:(et=null,Le=0,rc(),ct)}function SA(){for(;Oe!==null&&!Mo();)Sv(Oe)}function Sv(n){var i=X_(n.alternate,n,Qr);n.memoizedProps=n.pendingProps,i===null?kc(n):Oe=i}function bv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=F_(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=F_(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Cd(i);default:Z_(a,i),i=Oe=Ay(i,Qr),i=X_(a,i,Qr)}n.memoizedProps=n.pendingProps,i===null?kc(n):Oe=i}function Ka(n,i,a,l){zr=Ps=null,Cd(i),La=null,vl=0;var h=i.return;try{if(fA(n,h,i,a,Le)){ct=1,Ic(n,Nn(a,n.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ct=1,Ic(n,Nn(a,n.current)),Oe=null;return}i.flags&32768?(Be||l===1?n=!0:ja||(Le&536870912)!==0?n=!1:(Ci=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Av(i,n)):kc(i)}function kc(n){var i=n;do{if((i.flags&32768)!==0){Av(i,Ci);return}n=i.return;var a=mA(i.alternate,i,Qr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ct===0&&(ct=5)}function Av(n,i){do{var a=pA(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ct=6,Oe=null}function Rv(n,i,a,l,h,d,E,w,I){n.cancelPendingCommit=null;do Lc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=rd,zo(n,a,d,E,w,I),n===et&&(Oe=et=null,Le=0),Ha=i,Ni=n,Fa=a,lm=d,um=h,gv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,IA(us,function(){return Nv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ue.p,ue.p=2,E=Ge,Ge|=4;try{gA(n,i,a)}finally{Ge=E,ue.p=h,$.T=l}}jt=1,Iv(),Cv(),Dv()}}function Iv(){if(jt===1){jt=0;var n=Ni,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{uv(i,n);var d=Am,E=py(n.containerInfo),w=d.focusedElem,I=d.selectionRange;if(E!==w&&w&&w.ownerDocument&&my(w.ownerDocument.documentElement,w)){if(I!==null&&Zf(w)){var j=I.start,X=I.end;if(X===void 0&&(X=j),"selectionStart"in w)w.selectionStart=j,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var F=H.getSelection(),we=w.textContent.length,ve=Math.min(I.start,we),Xe=I.end===void 0?ve:Math.min(I.end,we);!F.extend&&ve>Xe&&(E=Xe,Xe=ve,ve=E);var P=dy(w,ve),x=dy(w,Xe);if(P&&x&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var q=ee.createRange();q.setStart(P.node,P.offset),F.removeAllRanges(),ve>Xe?(F.addRange(q),F.extend(x.node,x.offset)):(q.setEnd(x.node,x.offset),F.addRange(q))}}}}for(ee=[],F=w;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var J=ee[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}$c=!!bm,Am=bm=null}finally{Ge=h,ue.p=l,$.T=a}}n.current=i,jt=2}}function Cv(){if(jt===2){jt=0;var n=Ni,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{sv(n,i.alternate,i)}finally{Ge=h,ue.p=l,$.T=a}}jt=3}}function Dv(){if(jt===4||jt===3){jt=0,xu();var n=Ni,i=Ha,a=Fa,l=gv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Ha=Ni=null,Ov(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Oi=null),ua(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=ue.p,ue.p=2,$.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];d(w.value,{componentStack:w.stack})}}finally{$.T=i,ue.p=h}}(Fa&3)!==0&&Lc(),cr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===cm?Cl++:(Cl=0,cm=n):Cl=0,Dl(0)}}function Ov(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ll(i)))}function Lc(n){return Iv(),Cv(),Dv(),Nv()}function Nv(){if(jt!==5)return!1;var n=Ni,i=lm;lm=0;var a=ua(Fa),l=$.T,h=ue.p;try{ue.p=32>a?32:a,$.T=null,a=um,um=null;var d=Ni,E=Fa;if(jt=0,Ha=Ni=null,Fa=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,mv(d.current),hv(d,d.current,E,a),Ge=w,Dl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ue.p=h,$.T=l,Ov(n,i)}}function xv(n,i,a){i=Nn(a,i),i=Bd(n.stateNode,i,2),n=Ti(n,i,2),n!==null&&(Ar(n,2),cr(n))}function Ze(n,i,a){if(n.tag===3)xv(n,n,a);else for(;i!==null;){if(i.tag===3){xv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){n=Nn(a,n),a=k_(2),l=Ti(i,a,2),l!==null&&(L_(a,l,i,n),Ar(l,2),cr(l));break}}i=i.return}}function mm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new vA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(im=!0,h.add(a),n=bA.bind(null,n,i,a),i.then(n,n))}function bA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,et===n&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>An()-om?(Ge&2)===0&&Ga(n,0):sm|=a,Ba===Le&&(Ba=0)),cr(n)}function Mv(n,i){i===0&&(i=Uo()),n=Ia(n,i),n!==null&&(Ar(n,i),cr(n))}function AA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Mv(n,a)}function RA(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Mv(n,a)}function IA(n,i){return os(n,i)}var Uc=null,Qa=null,pm=!1,zc=!1,gm=!1,Bs=0;function cr(n){n!==Qa&&n.next===null&&(Qa===null?Uc=Qa=n:Qa=Qa.next=n),zc=!0,pm||(pm=!0,DA())}function Dl(n,i){if(!gm&&zc){gm=!0;do for(var a=!1,l=Uc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Qt(42|n)+1)-1,d&=h&~(E&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Lv(l,d))}else d=Le,d=la(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,Lv(l,d));l=l.next}while(a);gm=!1}}function CA(){Vv()}function Vv(){zc=pm=!1;var n=0;Bs!==0&&(LA()&&(n=Bs),Bs=0);for(var i=An(),a=null,l=Uc;l!==null;){var h=l.next,d=Pv(l,i);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(Qa=a)):(a=l,(n!==0||(d&3)!==0)&&(zc=!0)),l=h}Dl(n)}function Pv(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Qt(d),w=1<<E,I=h[E];I===-1?((w&a)===0||(w&l)!==0)&&(h[E]=ko(w,i)):I<=i&&(n.expiredLanes|=w),d&=~w}if(i=et,a=Le,a=la(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ds(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ls(l),ua(a)){case 2:case 8:a=aa;break;case 32:a=us;break;case 268435456:a=oa;break;default:a=us}return l=kv.bind(null,n),a=os(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ls(l),n.callbackPriority=2,n.callbackNode=null,2}function kv(n,i){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Lc()&&n.callbackNode!==a)return null;var l=Le;return l=la(n,n===et?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(_v(n,l,i),Pv(n,An()),n.callbackNode!=null&&n.callbackNode===a?kv.bind(null,n):null)}function Lv(n,i){if(Lc())return null;_v(n,i,!0)}function DA(){zA(function(){(Ge&6)!==0?os(Vo,CA):Vv()})}function ym(){return Bs===0&&(Bs=Lo()),Bs}function Uv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pa(""+n)}function zv(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function OA(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Uv((h[gt]||null).action),E=l.submitter;E&&(i=(i=E[gt]||null)?Uv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new ga("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var I=E?zv(h,E):new FormData(h);Ld(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?zv(h,E):new FormData(h),Ld(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var _m=0;_m<nd.length;_m++){var vm=nd[_m],NA=vm.toLowerCase(),xA=vm[0].toUpperCase()+vm.slice(1);jn(NA,"on"+xA)}jn(_y,"onAnimationEnd"),jn(vy,"onAnimationIteration"),jn(Ey,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn($b,"onTransitionRun"),jn(Xb,"onTransitionStart"),jn(Wb,"onTransitionCancel"),jn(Ty,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function qv(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,j=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=j;try{d(h)}catch(X){Rc(X)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,j=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=j;try{d(h)}catch(X){Rc(X)}h.currentTarget=null,d=I}}}}function Ne(n,i){var a=i[jo];a===void 0&&(a=i[jo]=new Set);var l=n+"__bubble";a.has(l)||(jv(i,n,2,!1),a.add(l))}function Em(n,i,a){var l=0;i&&(l|=4),jv(a,n,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Tm(n){if(!n[qc]){n[qc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(MA.has(a)||Em(a,!1,n),Em(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,Em("selectionchange",!1,i))}}function jv(n,i,a,l){switch(hE(i)){case 2:var h=aR;break;case 8:h=oR;break;default:h=Pm}a=h.bind(null,i,a,n),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function wm(n,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;w!==null;){if(E=Rr(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Bu(function(){var j=d,X=Cn(a),ee=[];e:{var H=wy.get(n);if(H!==void 0){var F=ga,we=n;switch(n){case"keypress":if(tr(a)===0)break e;case"keydown":case"keyup":F=wa;break;case"focusin":we="focus",F=va;break;case"focusout":we="blur",F=va;break;case"beforeblur":case"afterblur":F=va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Xu;break;case _y:case vy:case Ey:F=Ea;break;case Ty:F=Zu;break;case"scroll":case"scrollend":F=Hu;break;case"wheel":F=Sa;break;case"copy":case"cut":case"paste":F=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=el;break;case"toggle":case"beforetoggle":F=ec}var ve=(i&4)!==0,Xe=!ve&&(n==="scroll"||n==="scrollend"),P=ve?H!==null?H+"Capture":null:H;ve=[];for(var x=j,q;x!==null;){var J=x;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||P===null||(J=Ts(x,P),J!=null&&ve.push(Nl(x,J,q))),Xe)break;x=x.return}0<ve.length&&(H=new F(H,we,null,a,X),ee.push({event:H,listeners:ve}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",H&&a!==Or&&(we=a.relatedTarget||a.fromElement)&&(Rr(we)||we[Rn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(we=a.relatedTarget||a.toElement,F=j,we=we?Rr(we):null,we!==null&&(Xe=u(we),ve=we.tag,we!==Xe||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(F=null,we=j),F!==we)){if(ve=On,J="onMouseLeave",P="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(ve=el,J="onPointerLeave",P="onPointerEnter",x="pointer"),Xe=F==null?H:Wn(F),q=we==null?H:Wn(we),H=new ve(J,x+"leave",F,a,X),H.target=Xe,H.relatedTarget=q,J=null,Rr(X)===j&&(ve=new ve(P,x+"enter",we,a,X),ve.target=q,ve.relatedTarget=Xe,J=ve),Xe=J,F&&we)t:{for(ve=F,P=we,x=0,q=ve;q;q=Ya(q))x++;for(q=0,J=P;J;J=Ya(J))q++;for(;0<x-q;)ve=Ya(ve),x--;for(;0<q-x;)P=Ya(P),q--;for(;x--;){if(ve===P||P!==null&&ve===P.alternate)break t;ve=Ya(ve),P=Ya(P)}ve=null}else ve=null;F!==null&&Bv(ee,H,F,ve,!1),we!==null&&Xe!==null&&Bv(ee,Xe,we,ve,!0)}}e:{if(H=j?Wn(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var de=oy;else if(At(H))if(ly)de=Kb;else{de=Fb;var De=Hb}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Qo(j.elementType)&&(de=oy):de=Gb;if(de&&(de=de(n,j))){Pr(ee,de,a,X);break e}De&&De(n,H,j),n==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&gi(H,"number",H.value)}switch(De=j?Wn(j):window,n){case"focusin":(At(De)||De.contentEditable==="true")&&(ba=De,Jf=j,rl=null);break;case"focusout":rl=Jf=ba=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,gy(ee,a,X);break;case"selectionchange":if(Yb)break;case"keydown":case"keyup":gy(ee,a,X)}var me;if(ir)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Pe?K(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Pe||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Pe&&(me=$o()):(er=X,yi="value"in er?er.value:er.textContent,Pe=!0)),De=jc(j,Ee),0<De.length&&(Ee=new Zo(Ee,n,null,a,X),ee.push({event:Ee,listeners:De}),me?Ee.data=me:(me=oe(a),me!==null&&(Ee.data=me)))),(me=y?bt(n,a):ke(n,a))&&(Ee=jc(j,"onBeforeInput"),0<Ee.length&&(De=new Zo("onBeforeInput","beforeinput",null,a,X),ee.push({event:De,listeners:Ee}),De.data=me)),OA(ee,n,j,a,X)}qv(ee,i)})}function Nl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function jc(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ts(n,a),h!=null&&l.unshift(Nl(n,h,d)),h=Ts(n,i),h!=null&&l.push(Nl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function Ya(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Bv(n,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var w=a,I=w.alternate,j=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||j===null||(I=j,h?(j=Ts(a,d),j!=null&&E.unshift(Nl(a,j,I))):h||(j=Ts(a,d),j!=null&&E.push(Nl(a,j,I)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var VA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function Hv(n){return(typeof n=="string"?n:""+n).replace(VA,`
`).replace(PA,"")}function Fv(n,i){return i=Hv(i),Hv(n)===i}function Bc(){}function $e(n,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(n,""+l);break;case"className":Zn(n,"class",l);break;case"tabIndex":Zn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(n,a,l);break;case"style":Ko(n,l,d);break;case"data":if(i!=="object"){Zn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(n,i,"name",h.name,h,null),$e(n,i,"formEncType",h.formEncType,h,null),$e(n,i,"formMethod",h.formMethod,h,null),$e(n,i,"formTarget",h.formTarget,h,null)):($e(n,i,"encType",h.encType,h,null),$e(n,i,"method",h.method,h,null),$e(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),pi(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kf.get(a)||a,pi(n,a,l))}}function Sm(n,i,a,l,h,d){switch(a){case"style":Ko(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?In(n,l):(typeof l=="number"||typeof l=="bigint")&&In(n,""+l);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=n[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):pi(n,a,l)}}}function Bt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(n,i,d,E,a,null)}}h&&$e(n,i,"srcSet",a.srcSet,a,null),l&&$e(n,i,"src",a.src,a,null);return;case"input":Ne("invalid",n);var w=d=E=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:$e(n,i,l,X,a,null)}}_s(n,d,w,I,j,E,h,!1),ma(n);return;case"select":Ne("invalid",n),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:$e(n,i,h,w,a,null)}i=d,a=E,n.multiple=!!l,i!=null?Dr(n,!!l,i,!1):a!=null&&Dr(n,!!l,a,!0);return;case"textarea":Ne("invalid",n),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:$e(n,i,E,w,a,null)}vs(n,l,h,d),ma(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(n,i,I,l,a,null)}return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ne(Ol[l],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(n,i,j,l,a,null)}return;default:if(Qo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Sm(n,i,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&$e(n,i,w,l,a,null))}function kA(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,I=null,j=null,X=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(F)||$e(n,i,F,null,l,ee)}}for(var H in l){var F=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(F!=null||ee!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":X=F;break;case"value":E=F;break;case"defaultValue":w=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ee&&$e(n,i,H,F,l,ee)}}fn(n,E,w,I,j,X,d,h);return;case"select":F=E=w=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||$e(n,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&$e(n,i,h,d,l,I)}i=w,a=E,l=F,H!=null?Dr(n,!!a,H,!1):!!l!=!!a&&(i!=null?Dr(n,!!a,i,!0):Dr(n,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:$e(n,i,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(n,i,E,h,l,d)}Qe(n,H,F);return;case"option":for(var we in a)if(H=a[we],a.hasOwnProperty(we)&&H!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:$e(n,i,we,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(n,i,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&$e(n,i,ve,null,l,H);for(j in l)if(H=l[j],F=a[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:$e(n,i,j,H,l,F)}return;default:if(Qo(i)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&Sm(n,i,Xe,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Sm(n,i,X,H,l,F);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&$e(n,i,P,null,l,H);for(ee in l)H=l[ee],F=a[ee],!l.hasOwnProperty(ee)||H===F||H==null&&F==null||$e(n,i,ee,H,l,F)}var bm=null,Am=null;function Hc(n){return n.nodeType===9?n:n.ownerDocument}function Gv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Rm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Im=null;function LA(){var n=window.event;return n&&n.type==="popstate"?n===Im?!1:(Im=n,!0):(Im=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,zA=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(n){return Yv.resolve(null).then(n).catch(qA)}:Qv;function qA(n){setTimeout(function(){throw n})}function Mi(n){return n==="head"}function $v(n,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&xl(E.documentElement),a&2&&xl(E.body),a&4)for(a=E.head,xl(a),E=a.firstChild;E;){var w=E.nextSibling,I=E.nodeName;E[ms]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(h===0){n.removeChild(d),ql(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ql(i)}function Cm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cm(a),mi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function jA(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ms])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function BA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hn(n.nextSibling),n===null))return null;return n}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function HA(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Hn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Om=null;function Xv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Wv(n,i,a){switch(i=Hc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function xl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);mi(n)}var Ln=new Map,Zv=new Set;function Fc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yr=ue.d;ue.d={f:FA,r:GA,D:KA,C:QA,L:YA,m:$A,X:WA,S:XA,M:ZA};function FA(){var n=Yr.f(),i=Pc();return n||i}function GA(n){var i=Xn(n);i!==null&&i.tag===5&&i.type==="form"?__(i):Yr.r(n)}var $a=typeof document>"u"?null:document;function Jv(n,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zv.has(h)||(Zv.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",n),ht(i),l.head.appendChild(i)))}}function KA(n){Yr.D(n),Jv("dns-prefetch",n,null)}function QA(n,i){Yr.C(n,i),Jv("preconnect",n,i)}function YA(n,i,a){Yr.L(n,i,a);var l=$a;if(l&&n&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(n)+'"]';var d=h;switch(i){case"style":d=Xa(n);break;case"script":d=Wa(n)}Ln.has(d)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Ln.set(d,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Bt(i,"link",n),ht(i),l.head.appendChild(i)))}}function $A(n,i){Yr.m(n,i);var a=$a;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(n)}if(!Ln.has(d)&&(n=v({rel:"modulepreload",href:n},i),Ln.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Bt(l,"link",n),ht(l),a.head.appendChild(l)}}}function XA(n,i,a){Yr.S(n,i,a);var l=$a;if(l&&n){var h=en(l).hoistableStyles,d=Xa(n);i=i||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Ml(d)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Ln.get(d))&&Nm(n,a);var I=E=l.createElement("link");ht(I),Bt(I,"link",n),I._p=new Promise(function(j,X){I.onload=j,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Gc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function WA(n,i){Yr.X(n,i);var a=$a;if(a&&n){var l=en(a).hoistableScripts,h=Wa(n),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(n=v({src:n,async:!0},i),(i=Ln.get(h))&&xm(n,i),d=a.createElement("script"),ht(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ZA(n,i){Yr.M(n,i);var a=$a;if(a&&n){var l=en(a).hoistableScripts,h=Wa(n),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(n=v({src:n,async:!0,type:"module"},i),(i=Ln.get(h))&&xm(n,i),d=a.createElement("script"),ht(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eE(n,i,a,l){var h=(h=be.current)?Fc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Xa(a.href);var d=en(h).hoistableStyles,E=d.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=h.querySelector(Ml(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Ln.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(n,a),d||JA(h,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Xa(n){return'href="'+yt(n)+'"'}function Ml(n){return'link[rel="stylesheet"]['+n+"]"}function tE(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function JA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),ht(i),n.head.appendChild(i))}function Wa(n){return'[src="'+yt(n)+'"]'}function Vl(n){return"script[async]"+n}function nE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ht(l),Bt(l,"style",h),Gc(l,a.precedence,n),i.instance=l;case"stylesheet":h=Xa(a.href);var d=n.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=tE(a),(h=Ln.get(h))&&Nm(l,h),d=(n.ownerDocument||n).createElement("link"),ht(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Bt(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,n),i.instance=d;case"script":return d=Wa(a.src),(h=n.querySelector(Vl(d)))?(i.instance=h,ht(h),h):(l=a,(h=Ln.get(d))&&(l=v({},a),xm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),ht(h),Bt(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,n));return i.instance}function Gc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Nm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function xm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Kc=null;function rE(n,i,a){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(a,l)}else h=Kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[ms]||d[St]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function iE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function eR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Pl=null;function tR(){}function nR(n,i,a){if(Pl===null)throw Error(s(475));var l=Pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Xa(a.href),d=n.querySelector(Ml(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Qc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=n.ownerDocument||n,a=tE(a),(h=Ln.get(h))&&Nm(a,h),d=d.createElement("link"),ht(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Qc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function rR(){if(Pl===null)throw Error(s(475));var n=Pl;return n.stylesheets&&n.count===0&&Mm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Mm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Yc=null;function Mm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Yc=new Map,i.forEach(iR,n),Yc=null,Qc.call(n))}function iR(n,i){if(!(i.state.loading&4)){var a=Yc.get(n);if(a)var l=a.get(null);else{a=new Map,Yc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var kl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function sR(n,i,a,l,h,d,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function aE(n,i,a,l,h,d,E,w,I,j,X,ee){return n=new sR(n,i,a,E,w,I,j,ee),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),n.current=d,d.stateNode=n,i=md(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},_d(d),n}function oE(n){return n?(n=Ca,n):Ca}function lE(n,i,a,l,h,d){h=oE(h),l.context===null?l.context=h:l.pendingContext=h,l=Ei(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ti(n,l,i),a!==null&&(vn(a,n,i),fl(a,n,i))}function uE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Vm(n,i){uE(n,i),(n=n.alternate)&&uE(n,i)}function cE(n){if(n.tag===13){var i=Ia(n,67108864);i!==null&&vn(i,n,67108864),Vm(n,67108864)}}var $c=!0;function aR(n,i,a,l){var h=$.T;$.T=null;var d=ue.p;try{ue.p=2,Pm(n,i,a,l)}finally{ue.p=d,$.T=h}}function oR(n,i,a,l){var h=$.T;$.T=null;var d=ue.p;try{ue.p=8,Pm(n,i,a,l)}finally{ue.p=d,$.T=h}}function Pm(n,i,a,l){if($c){var h=km(l);if(h===null)wm(n,i,l,Xc,a),fE(n,l);else if(uR(h,n,i,a,l))l.stopPropagation();else if(fE(n,l),i&4&&-1<lR.indexOf(n)){for(;h!==null;){var d=Xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Un(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-Qt(E);w.entanglements[1]|=I,E&=~I}cr(d),(Ge&6)===0&&(Mc=An()+500,Dl(0))}}break;case 13:w=Ia(d,2),w!==null&&vn(w,d,2),Pc(),Vm(d,2)}if(d=km(l),d===null&&wm(n,i,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wm(n,i,l,null,a)}}function km(n){return n=Cn(n),Lm(n)}var Xc=null;function Lm(n){if(Xc=null,n=Rr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Xc=n,null}function hE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qf()){case Vo:return 2;case aa:return 8;case us:case jf:return 32;case oa:return 268435456;default:return 32}default:return 32}}var Um=!1,Vi=null,Pi=null,ki=null,Ll=new Map,Ul=new Map,Li=[],lR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(n,i){switch(n){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function zl(n,i,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Xn(i),i!==null&&cE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function uR(n,i,a,l,h){switch(i){case"focusin":return Vi=zl(Vi,n,i,a,l,h),!0;case"dragenter":return Pi=zl(Pi,n,i,a,l,h),!0;case"mouseover":return ki=zl(ki,n,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ll.set(d,zl(Ll.get(d)||null,n,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ul.set(d,zl(Ul.get(d)||null,n,i,a,l,h)),!0}return!1}function dE(n){var i=Rr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,Pu(n.priority,function(){if(a.tag===13){var l=_n();l=hi(l);var h=Ia(a,l);h!==null&&vn(h,a,l),Vm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=km(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Or=l,a.target.dispatchEvent(l),Or=null}else return i=Xn(a),i!==null&&cE(i),n.blockedOn=a,!1;i.shift()}return!0}function mE(n,i,a){Wc(n)&&a.delete(i)}function cR(){Um=!1,Vi!==null&&Wc(Vi)&&(Vi=null),Pi!==null&&Wc(Pi)&&(Pi=null),ki!==null&&Wc(ki)&&(ki=null),Ll.forEach(mE),Ul.forEach(mE)}function Zc(n,i){n.blockedOn===i&&(n.blockedOn=null,Um||(Um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cR)))}var Jc=null;function pE(n){Jc!==n&&(Jc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jc===n&&(Jc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Lm(l||a)===null)continue;break}var d=Xn(a);d!==null&&(n.splice(i,3),i-=3,Ld(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ql(n){function i(I){return Zc(I,n)}Vi!==null&&Zc(Vi,n),Pi!==null&&Zc(Pi,n),ki!==null&&Zc(ki,n),Ll.forEach(i),Ul.forEach(i);for(var a=0;a<Li.length;a++){var l=Li[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Li.length&&(a=Li[0],a.blockedOn===null);)dE(a),a.blockedOn===null&&Li.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[gt]||null;if(typeof d=="function")E||pE(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[gt]||null)w=E.formAction;else if(Lm(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),pE(a)}}}function zm(n){this._internalRoot=n}eh.prototype.render=zm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();lE(a,l,n,i,null,null)},eh.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;lE(n.current,2,null,n,null,null),Pc(),i[Rn]=null}};function eh(n){this._internalRoot=n}eh.prototype.unstable_scheduleHydration=function(n){if(n){var i=fi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Li.length&&i!==0&&i<Li[a].priority;a++);Li.splice(a,0,n),a===0&&dE(n)}};var gE=e.version;if(gE!=="19.1.1")throw Error(s(527,gE,"19.1.1"));ue.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var hR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{lt=th.inject(hR),Fe=th}catch{}}return Bl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=x_,d=M_,E=V_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=aE(n,1,!1,null,null,a,l,h,d,E,w,null),n[Rn]=i.current,Tm(n),new zm(i)},Bl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=x_,E=M_,w=V_,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=aE(n,1,!0,i,a??null,l,h,d,E,w,I,j),i.context=oE(null),a=i.current,l=_n(),l=hi(l),h=Ei(l),h.callback=null,Ti(a,h,l),a=l,i.current.lanes=a,Ar(i,a),cr(i),n[Rn]=i.current,Tm(n),new eh(i)},Bl.version="19.1.1",Bl}var RE;function TR(){if(RE)return Bm.exports;RE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bm.exports=ER(),Bm.exports}var wR=TR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IE="popstate";function SR(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return hp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:iu(o)}return AR(e,t,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bR(){return Math.random().toString(36).substring(2,10)}function CE(r,e){return{usr:r.state,key:r.key,idx:e}}function hp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:t,key:e&&e.key||s||bR()}}function iu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Eo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function AR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function T(){m="POP";let U=v(),G=U==null?null:U-g;g=U,p&&p({action:m,location:B.location,delta:G})}function b(U,G){m="PUSH";let ie=hp(B.location,U,G);g=v()+1;let Y=CE(ie,g),se=B.createHref(ie);try{f.pushState(Y,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(se)}u&&p&&p({action:m,location:B.location,delta:1})}function O(U,G){m="REPLACE";let ie=hp(B.location,U,G);g=v();let Y=CE(ie,g),se=B.createHref(ie);f.replaceState(Y,"",se),u&&p&&p({action:m,location:B.location,delta:0})}function k(U){return RR(U)}let B={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(IE,T),p=U,()=>{o.removeEventListener(IE,T),p=null}},createHref(U){return e(o,U)},createURL:k,encodeLocation(U){let G=k(U);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:b,replace:O,go(U){return f.go(U)}};return B}function RR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:iu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function NT(r,e,t="/"){return IR(r,e,t,!1)}function IR(r,e,t,s){let o=typeof e=="string"?Eo(e):e,u=ei(o.pathname||"/",t);if(u==null)return null;let f=xT(r);CR(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=zR(u);m=LR(f[p],g,s)}return m}function xT(r,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zr([s,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),xT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:PR(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of MT(u.path))o(u,f,m)}),e}function MT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=MT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function CR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:kR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var DR=/^:[\w-]+$/,OR=3,NR=2,xR=1,MR=10,VR=-2,DE=r=>r==="*";function PR(r,e){let t=r.split("/"),s=t.length;return t.some(DE)&&(s+=VR),e&&(s+=NR),t.filter(o=>!DE(o)).reduce((o,u)=>o+(DR.test(u)?OR:u===""?xR:MR),s)}function kR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function LR(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Zr([u,T.pathname]),pathnameBase:HR(Zr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=Zr([u,T.pathnameBase]))}return f}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=UR(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},b)=>{if(v==="*"){let k=m[b]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=m[b];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function UR(r,e=!1,t=!0){vr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ei(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function qR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Eo(r):r;return{pathname:t?t.startsWith("/")?t:jR(t,e):e,search:FR(s),hash:GR(o)}}function jR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Km(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VT(r){let e=BR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function PT(r,e,t,s=!1){let o;typeof r=="string"?o=Eo(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=qR(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Zr=r=>r.join("/").replace(/\/\/+/g,"/"),HR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),FR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,GR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function KR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var kT=["POST","PUT","PATCH","DELETE"];new Set(kT);var QR=["GET",...kT];new Set(QR);var To=Q.createContext(null);To.displayName="DataRouter";var uf=Q.createContext(null);uf.displayName="DataRouterState";Q.createContext(!1);var LT=Q.createContext({isTransitioning:!1});LT.displayName="ViewTransition";var YR=Q.createContext(new Map);YR.displayName="Fetchers";var $R=Q.createContext(null);$R.displayName="Await";var wr=Q.createContext(null);wr.displayName="Navigation";var gu=Q.createContext(null);gu.displayName="Location";var li=Q.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var $p=Q.createContext(null);$p.displayName="RouteError";function XR(r,{relative:e}={}){st(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Q.useContext(wr),{hash:o,pathname:u,search:f}=_u(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Zr([t,u])),s.createHref({pathname:m,search:f,hash:o})}function yu(){return Q.useContext(gu)!=null}function ea(){return st(yu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(gu).location}var UT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(r){Q.useContext(wr).static||Q.useLayoutEffect(r)}function cf(){let{isDataRoute:r}=Q.useContext(li);return r?u1():WR()}function WR(){st(yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(To),{basename:e,navigator:t}=Q.useContext(wr),{matches:s}=Q.useContext(li),{pathname:o}=ea(),u=JSON.stringify(VT(s)),f=Q.useRef(!1);return zT(()=>{f.current=!0}),Q.useCallback((p,g={})=>{if(vr(f.current,UT),!f.current)return;if(typeof p=="number"){t.go(p);return}let v=PT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Zr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,r])}Q.createContext(null);function _u(r,{relative:e}={}){let{matches:t}=Q.useContext(li),{pathname:s}=ea(),o=JSON.stringify(VT(t));return Q.useMemo(()=>PT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ZR(r,e){return qT(r,e)}function qT(r,e,t,s){st(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(wr),{matches:u}=Q.useContext(li),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let G=v&&v.path||"";jT(p,!v||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=ea(),b;if(e){let G=typeof e=="string"?Eo(e):e;st(g==="/"||G.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${G.pathname}" was given in the \`location\` prop.`),b=G}else b=T;let O=b.pathname||"/",k=O;if(g!=="/"){let G=g.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let B=NT(r,{pathname:k});vr(v||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),vr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=r1(B&&B.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Zr([g,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:Zr([g,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,s);return e&&U?Q.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},U):U}function JR(){let r=l1(),e=KR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,f)}var e1=Q.createElement(JR,null),t1=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(li.Provider,{value:this.props.routeContext},Q.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n1({routeContext:r,match:e,children:t}){let s=Q.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(li.Provider,{value:r},t)}function r1(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:T}=t,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let T,b=!1,O=null,k=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||e1,f&&(m<0&&v===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):m===v&&(b=!0,k=g.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,v+1)),U=()=>{let G;return T?G=O:b?G=k:g.route.Component?G=Q.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,Q.createElement(n1,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Q.createElement(t1,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:U(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):U()},null)}function Xp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(r){let e=Q.useContext(To);return st(e,Xp(r)),e}function s1(r){let e=Q.useContext(uf);return st(e,Xp(r)),e}function a1(r){let e=Q.useContext(li);return st(e,Xp(r)),e}function Wp(r){let e=a1(r),t=e.matches[e.matches.length-1];return st(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function o1(){return Wp("useRouteId")}function l1(){let r=Q.useContext($p),e=s1("useRouteError"),t=Wp("useRouteError");return r!==void 0?r:e.errors?.[t]}function u1(){let{router:r}=i1("useNavigate"),e=Wp("useNavigate"),t=Q.useRef(!1);return zT(()=>{t.current=!0}),Q.useCallback(async(o,u={})=>{vr(t.current,UT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var OE={};function jT(r,e,t){!e&&!OE[r]&&(OE[r]=!0,vr(!1,t))}Q.memo(c1);function c1({routes:r,future:e,state:t}){return qT(r,void 0,t,e)}function Za(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){st(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Eo(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:b="default"}=t,O=Q.useMemo(()=>{let k=ei(p,f);return k==null?null:{location:{pathname:k,search:g,hash:v,state:T,key:b},navigationType:s}},[f,p,g,v,T,b,s]);return vr(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:Q.createElement(wr.Provider,{value:m},Q.createElement(gu.Provider,{children:e,value:O}))}function f1({children:r,location:e}){return ZR(fp(r),e)}function fp(r,e=[]){let t=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){t.push.apply(t,fp(s.props.children,u));return}st(s.type===Za,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=fp(s.props.children,u)),t.push(f)}),t}var dh="get",mh="application/x-www-form-urlencoded";function hf(r){return r!=null&&typeof r.tagName=="string"}function d1(r){return hf(r)&&r.tagName.toLowerCase()==="button"}function m1(r){return hf(r)&&r.tagName.toLowerCase()==="form"}function p1(r){return hf(r)&&r.tagName.toLowerCase()==="input"}function g1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function y1(r,e){return r.button===0&&(!e||e==="_self")&&!g1(r)}var nh=null;function _1(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var v1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(r){return r!=null&&!v1.has(r)?(vr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function E1(r,e){let t,s,o,u,f;if(m1(r)){let m=r.getAttribute("action");s=m?ei(m,e):null,t=r.getAttribute("method")||dh,o=Qm(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(d1(r)||p1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ei(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Qm(r.getAttribute("formenctype"))||Qm(m.getAttribute("enctype"))||mh,u=new FormData(m,r),!_1()){let{name:g,type:v,value:T}=r;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(hf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dh,s=null,o=mh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function T1(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ei(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function w1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function b1(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await w1(u,t);return f.links?f.links():[]}return[]}));return C1(s.flat(1).filter(S1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function NE(r,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function A1(r,e,{includeHydrateFallback:t}={}){return R1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function R1(r){return[...new Set(r)]}function I1(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function C1(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(I1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function BT(){let r=Q.useContext(To);return Zp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function D1(){let r=Q.useContext(uf);return Zp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jp=Q.createContext(void 0);Jp.displayName="FrameworkContext";function HT(){let r=Q.useContext(Jp);return Zp(r,"You must render this element inside a <HydratedRouter> element"),r}function O1(r,e){let t=Q.useContext(Jp),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,b=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let B=G=>{G.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return b.current&&U.observe(b.current),()=>{U.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let O=()=>{o(!0)},k=()=>{o(!1),f(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Hl(m,O),onBlur:Hl(p,k),onMouseEnter:Hl(g,O),onMouseLeave:Hl(v,k),onTouchStart:Hl(T,O)}]:[!1,b,{}]}function Hl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function N1({page:r,...e}){let{router:t}=BT(),s=Q.useMemo(()=>NT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?Q.createElement(M1,{page:r,matches:s,...e}):null}function x1(r){let{manifest:e,routeModules:t}=HT(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return b1(r,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,t]),s}function M1({page:r,matches:e,...t}){let s=ea(),{manifest:o,routeModules:u}=HT(),{basename:f}=BT(),{loaderData:m,matches:p}=D1(),g=Q.useMemo(()=>NE(r,e,p,o,s,"data"),[r,e,p,o,s]),v=Q.useMemo(()=>NE(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,B=!1;if(e.forEach(G=>{let ie=o.routes[G.route.id];!ie||!ie.hasLoader||(!g.some(Y=>Y.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||ie.hasClientLoader?B=!0:k.add(G.route.id))}),k.size===0)return[];let U=T1(r,f,"data");return B&&k.size>0&&U.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,e,r,u]),b=Q.useMemo(()=>A1(v,o),[v,o]),O=x1(v);return Q.createElement(Q.Fragment,null,T.map(k=>Q.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),b.map(k=>Q.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),O.map(({key:k,link:B})=>Q.createElement("link",{key:k,...B})))}function V1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FT&&(window.__reactRouterVersion="7.7.1")}catch{}function P1({basename:r,children:e,window:t}){let s=Q.useRef();s.current==null&&(s.current=SR({window:t,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(h1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KT=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...b},O){let{basename:k}=Q.useContext(wr),B=typeof g=="string"&&GT.test(g),U,G=!1;if(typeof g=="string"&&B&&(U=g,FT))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=ei(M.pathname,k);M.origin===R.origin&&V!=null?g=V+M.search+M.hash:G=!0}catch{vr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=XR(g,{relative:o}),[Y,se,re]=O1(s,b),he=U1(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function D(R){e&&e(R),R.defaultPrevented||he(R)}let A=Q.createElement("a",{...b,...re,href:U||ie,onClick:G||u?e:D,ref:V1(O,se),target:p,"data-discover":!B&&t==="render"?"true":void 0});return Y&&!B?Q.createElement(Q.Fragment,null,A,Q.createElement(N1,{page:ie})):A});KT.displayName="Link";var wo=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let T=_u(f,{relative:g.relative}),b=ea(),O=Q.useContext(uf),{navigator:k,basename:B}=Q.useContext(wr),U=O!=null&&H1(T)&&m===!0,G=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,ie=b.pathname,Y=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),Y=Y?Y.toLowerCase():null,G=G.toLowerCase()),Y&&B&&(Y=ei(Y,B)||Y);const se=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let re=ie===G||!o&&ie.startsWith(G)&&ie.charAt(se)==="/",he=Y!=null&&(Y===G||!o&&Y.startsWith(G)&&Y.charAt(G.length)==="/"),D={isActive:re,isPending:he,isTransitioning:U},A=re?e:void 0,R;typeof s=="function"?R=s(D):R=[s,re?"active":null,he?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return Q.createElement(KT,{...g,"aria-current":A,className:R,ref:v,style:M,to:f,viewTransition:m},typeof p=="function"?p(D):p)});wo.displayName="NavLink";var k1=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=dh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...b},O)=>{let k=j1(),B=B1(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&GT.test(m),ie=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let se=Y.nativeEvent.submitter,re=se?.getAttribute("formmethod")||f;k(se||Y.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return Q.createElement("form",{ref:O,method:U,action:B,onSubmit:s?p:ie,...b,"data-discover":!G&&r==="render"?"true":void 0})});k1.displayName="Form";function L1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QT(r){let e=Q.useContext(To);return st(e,L1(r)),e}function U1(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=cf(),p=ea(),g=_u(r,{relative:u});return Q.useCallback(v=>{if(y1(v,e)){v.preventDefault();let T=t!==void 0?t:iu(p)===iu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,r,o,u,f])}var z1=0,q1=()=>`__${String(++z1)}__`;function j1(){let{router:r}=QT("useSubmit"),{basename:e}=Q.useContext(wr),t=o1();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=E1(s,e);if(o.navigate===!1){let v=o.fetcherKey||q1();await r.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function B1(r,{relative:e}={}){let{basename:t}=Q.useContext(wr),s=Q.useContext(li);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(r||".",{relative:e})},f=ea();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Zr([t,u.pathname])),iu(u)}function H1(r,{relative:e}={}){let t=Q.useContext(LT);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=QT("useViewTransitionState"),o=_u(r,{relative:e});if(!t.isTransitioning)return!1;let u=ei(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=ei(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(o.pathname,f)!=null||Vh(o.pathname,u)!=null}var F1=OT(),Ym={exports:{}},$m={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function G1(){if(xE)return $m;xE=1;var r=lf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,f=r.useMemo,m=r.useDebugValue;return $m.useSyncExternalStoreWithSelector=function(p,g,v,T,b){var O=o(null);if(O.current===null){var k={hasValue:!1,value:null};O.current=k}else k=O.current;O=f(function(){function U(re){if(!G){if(G=!0,ie=re,re=T(re),b!==void 0&&k.hasValue){var he=k.value;if(b(he,re))return Y=he}return Y=re}if(he=Y,t(ie,re))return he;var D=T(re);return b!==void 0&&b(he,D)?(ie=re,he):(ie=re,Y=D)}var G=!1,ie,Y,se=v===void 0?null:v;return[function(){return U(g())},se===null?void 0:function(){return U(se())}]},[g,v,T,b]);var B=s(p,O[0],O[1]);return u(function(){k.hasValue=!0,k.value=B},[B]),m(B),B},$m}var ME;function K1(){return ME||(ME=1,Ym.exports=G1()),Ym.exports}var Q1=K1();function Y1(r){r()}function $1(){let r=null,e=null;return{clear(){r=null,e=null},notify(){Y1(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=r;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!s||r===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var VE={notify(){},get:()=>[]};function X1(r,e){let t,s=VE,o=0,u=!1;function f(B){v();const U=s.subscribe(B);let G=!1;return()=>{G||(G=!0,U(),T())}}function m(){s.notify()}function p(){k.onStateChange&&k.onStateChange()}function g(){return u}function v(){o++,t||(t=r.subscribe(p),s=$1())}function T(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=VE)}function b(){u||(u=!0,v())}function O(){u&&(u=!1,T())}const k={addNestedSub:f,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:O,getListeners:()=>s};return k}var W1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z1=W1(),J1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eI=J1(),tI=()=>Z1||eI?Q.useLayoutEffect:Q.useEffect,nI=tI(),rI=Symbol.for("react-redux-context"),iI=typeof globalThis<"u"?globalThis:{};function sI(){if(!Q.createContext)return{};const r=iI[rI]??=new Map;let e=r.get(Q.createContext);return e||(e=Q.createContext(null),r.set(Q.createContext,e)),e}var Wi=sI();function aI(r){const{children:e,context:t,serverState:s,store:o}=r,u=Q.useMemo(()=>{const p=X1(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),f=Q.useMemo(()=>o.getState(),[o]);nI(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const m=t||Wi;return Q.createElement(m.Provider,{value:u},e)}var oI=aI;function eg(r=Wi){return function(){return Q.useContext(r)}}var YT=eg();function $T(r=Wi){const e=r===Wi?YT:eg(r),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var lI=$T();function uI(r=Wi){const e=r===Wi?lI:$T(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var cI=uI(),hI=(r,e)=>r===e;function fI(r=Wi){const e=r===Wi?YT:eg(r),t=(s,o={})=>{const{equalityFn:u=hI}=typeof o=="function"?{equalityFn:o}:o,f=e(),{store:m,subscription:p,getServerState:g}=f;Q.useRef(!0);const v=Q.useCallback({[s.name](b){return s(b)}}[s.name],[s]),T=Q1.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,v,u);return Q.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var dI=fI();const ta=cI.withTypes(),Er=dI.withTypes(),PE=[100,200,300,400,500];function mI({topics:r,onQuestionClick:e}){const t=Er(f=>f.topics.selectedIndexByTitleAndPrice),s=Er(f=>f.topics.answeredStatusByTitleAndPrice),o=(f,m)=>{const p=t[f.title]?.[m];return typeof p=="number"?f.questions[p]:void 0},u=({topic:f,price:m,compact:p})=>{const g=o(f,m),v=s[f.title]?.[m],T=v==="correct"||v==="wrong",b=v==="correct"?"board-cell--correct":v==="wrong"?"board-cell--wrong":"";return Z.jsxs("button",{onClick:()=>g&&e({title:f.title,price:m,question:g.question,answer:g.answer}),disabled:!g||T,className:["board-cell",b,T?"opacity-90 cursor-not-allowed":"cursor-pointer",p?"px-3 py-4 text-lg":""].join(" "),onMouseMove:O=>{const k=O.currentTarget.getBoundingClientRect();O.currentTarget.style.setProperty("--mx",`${O.clientX-k.left}px`),O.currentTarget.style.setProperty("--my",`${O.clientY-k.top}px`)},children:[Z.jsx("span",{className:"status-mark"}),m]})};return Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"hidden md:block w-full",children:Z.jsx("div",{className:"mx-auto max-w-6xl flex flex-col gap-3",children:r.map((f,m)=>Z.jsxs("div",{className:"grid grid-cols-[repeat(6,minmax(110px,1fr))] gap-3",children:[Z.jsx("div",{className:"title-cell",children:f.title}),PE.map(p=>Z.jsx(u,{topic:f,price:p},p))]},m))})}),Z.jsx("div",{className:"md:hidden w-full",children:Z.jsx("div",{className:"mx-auto max-w-md flex flex-col gap-4",children:r.map((f,m)=>Z.jsxs("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl shadow-[0_10px_30px_rgba(0,0,0,.45)] p-4",children:[Z.jsx("div",{className:"text-slate-100 font-semibold mb-3",children:f.title}),Z.jsx("div",{className:"grid grid-cols-3 gap-3",children:PE.map(p=>Z.jsx(u,{topic:f,price:p,compact:!0},p))})]},m))})})]})}function Ht(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var pI=typeof Symbol=="function"&&Symbol.observable||"@@observable",kE=pI,Xm=()=>Math.random().toString(36).substring(7).split("").join("."),gI={INIT:`@@redux/INIT${Xm()}`,REPLACE:`@@redux/REPLACE${Xm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xm()}`},Ph=gI;function tg(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function ng(r,e,t){if(typeof r!="function")throw new Error(Ht(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ht(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ht(1));return t(ng)(r,e)}let s=r,o=e,u=new Map,f=u,m=0,p=!1;function g(){f===u&&(f=new Map,u.forEach((U,G)=>{f.set(G,U)}))}function v(){if(p)throw new Error(Ht(3));return o}function T(U){if(typeof U!="function")throw new Error(Ht(4));if(p)throw new Error(Ht(5));let G=!0;g();const ie=m++;return f.set(ie,U),function(){if(G){if(p)throw new Error(Ht(6));G=!1,g(),f.delete(ie),u=null}}}function b(U){if(!tg(U))throw new Error(Ht(7));if(typeof U.type>"u")throw new Error(Ht(8));if(typeof U.type!="string")throw new Error(Ht(17));if(p)throw new Error(Ht(9));try{p=!0,o=s(o,U)}finally{p=!1}return(u=f).forEach(ie=>{ie()}),U}function O(U){if(typeof U!="function")throw new Error(Ht(10));s=U,b({type:Ph.REPLACE})}function k(){const U=T;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(Ht(11));function ie(){const se=G;se.next&&se.next(v())}return ie(),{unsubscribe:U(ie)}},[kE](){return this}}}return b({type:Ph.INIT}),{dispatch:b,subscribe:T,getState:v,replaceReducer:O,[kE]:k}}function yI(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Ph.INIT})>"u")throw new Error(Ht(12));if(typeof t(void 0,{type:Ph.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ht(13))})}function XT(r){const e=Object.keys(r),t={};for(let u=0;u<e.length;u++){const f=e[u];typeof r[f]=="function"&&(t[f]=r[f])}const s=Object.keys(t);let o;try{yI(t)}catch(u){o=u}return function(f={},m){if(o)throw o;let p=!1;const g={};for(let v=0;v<s.length;v++){const T=s[v],b=t[T],O=f[T],k=b(O,m);if(typeof k>"u")throw m&&m.type,new Error(Ht(14));g[T]=k,p=p||k!==O}return p=p||s.length!==Object.keys(f).length,p?g:f}}function kh(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...s)=>e(t(...s)))}function _I(...r){return e=>(t,s)=>{const o=e(t,s);let u=()=>{throw new Error(Ht(15))};const f={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=r.map(p=>p(f));return u=kh(...m)(o.dispatch),{...o,dispatch:u}}}function vI(r){return tg(r)&&"type"in r&&typeof r.type=="string"}var WT=Symbol.for("immer-nothing"),LE=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function Fn(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var co=Object.getPrototypeOf;function Qs(r){return!!r&&!!r[Sn]}function ti(r){return r?ZT(r)||Array.isArray(r)||!!r[LE]||!!r.constructor?.[LE]||df(r)||mf(r):!1}var EI=Object.prototype.constructor.toString();function ZT(r){if(!r||typeof r!="object")return!1;const e=co(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===EI}function Lh(r,e){ff(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,s)=>e(s,t,r))}function ff(r){const e=r[Sn];return e?e.type_:Array.isArray(r)?1:df(r)?2:mf(r)?3:0}function dp(r,e){return ff(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function JT(r,e,t){const s=ff(r);s===2?r.set(e,t):s===3?r.add(t):r[e]=t}function TI(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function df(r){return r instanceof Map}function mf(r){return r instanceof Set}function Hs(r){return r.copy_||r.base_}function mp(r,e){if(df(r))return new Map(r);if(mf(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=ZT(r);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(r);delete s[Sn];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const f=o[u],m=s[f];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[f]={configurable:!0,writable:!0,enumerable:m.enumerable,value:r[f]})}return Object.create(co(r),s)}else{const s=co(r);if(s!==null&&t)return{...r};const o=Object.create(s);return Object.assign(o,r)}}function rg(r,e=!1){return pf(r)||Qs(r)||!ti(r)||(ff(r)>1&&(r.set=r.add=r.clear=r.delete=wI),Object.freeze(r),e&&Object.entries(r).forEach(([t,s])=>rg(s,!0))),r}function wI(){Fn(2)}function pf(r){return Object.isFrozen(r)}var SI={};function Ys(r){const e=SI[r];return e||Fn(0,r),e}var su;function ew(){return su}function bI(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UE(r,e){e&&(Ys("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function pp(r){gp(r),r.drafts_.forEach(AI),r.drafts_=null}function gp(r){r===su&&(su=r.parent_)}function zE(r){return su=bI(su,r)}function AI(r){const e=r[Sn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qE(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Sn].modified_&&(pp(e),Fn(4)),ti(r)&&(r=Uh(e,r),e.parent_||zh(e,r)),e.patches_&&Ys("Patches").generateReplacementPatches_(t[Sn].base_,r,e.patches_,e.inversePatches_)):r=Uh(e,t,[]),pp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==WT?r:void 0}function Uh(r,e,t){if(pf(e))return e;const s=e[Sn];if(!s)return Lh(e,(o,u)=>jE(r,s,e,o,u,t)),e;if(s.scope_!==r)return e;if(!s.modified_)return zh(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,f=!1;s.type_===3&&(u=new Set(o),o.clear(),f=!0),Lh(u,(m,p)=>jE(r,s,o,m,p,t,f)),zh(r,o,!1),t&&r.patches_&&Ys("Patches").generatePatches_(s,t,r.patches_,r.inversePatches_)}return s.copy_}function jE(r,e,t,s,o,u,f){if(Qs(o)){const m=u&&e&&e.type_!==3&&!dp(e.assigned_,s)?u.concat(s):void 0,p=Uh(r,o,m);if(JT(t,s,p),Qs(p))r.canAutoFreeze_=!1;else return}else f&&t.add(o);if(ti(o)&&!pf(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Uh(r,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&zh(r,o)}}function zh(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&rg(e,t)}function RI(r,e){const t=Array.isArray(r),s={type_:t?1:0,scope_:e?e.scope_:ew(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=ig;t&&(o=[s],u=au);const{revoke:f,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=f,m}var ig={get(r,e){if(e===Sn)return r;const t=Hs(r);if(!dp(t,e))return II(r,t,e);const s=t[e];return r.finalized_||!ti(s)?s:s===Wm(r.base_,e)?(Zm(r),r.copy_[e]=_p(s,r)):s},has(r,e){return e in Hs(r)},ownKeys(r){return Reflect.ownKeys(Hs(r))},set(r,e,t){const s=tw(Hs(r),e);if(s?.set)return s.set.call(r.draft_,t),!0;if(!r.modified_){const o=Wm(Hs(r),e),u=o?.[Sn];if(u&&u.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(TI(t,o)&&(t!==void 0||dp(r.base_,e)))return!0;Zm(r),yp(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Wm(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Zm(r),yp(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Hs(r),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Fn(11)},getPrototypeOf(r){return co(r.base_)},setPrototypeOf(){Fn(12)}},au={};Lh(ig,(r,e)=>{au[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});au.deleteProperty=function(r,e){return au.set.call(this,r,e,void 0)};au.set=function(r,e,t){return ig.set.call(this,r[0],e,t,r[0])};function Wm(r,e){const t=r[Sn];return(t?Hs(t):r)[e]}function II(r,e,t){const s=tw(e,t);return s?"value"in s?s.value:s.get?.call(r.draft_):void 0}function tw(r,e){if(!(e in r))return;let t=co(r);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=co(t)}}function yp(r){r.modified_||(r.modified_=!0,r.parent_&&yp(r.parent_))}function Zm(r){r.copy_||(r.copy_=mp(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var CI=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const f=this;return function(p=u,...g){return f.produce(p,v=>t.call(this,v,...g))}}typeof t!="function"&&Fn(6),s!==void 0&&typeof s!="function"&&Fn(7);let o;if(ti(e)){const u=zE(this),f=_p(e,void 0);let m=!0;try{o=t(f),m=!1}finally{m?pp(u):gp(u)}return UE(u,s),qE(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===WT&&(o=void 0),this.autoFreeze_&&rg(o,!0),s){const u=[],f=[];Ys("Patches").generateReplacementPatches_(e,o,u,f),s(u,f)}return o}else Fn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(f,...m)=>this.produceWithPatches(f,p=>e(p,...m));let s,o;return[this.produce(e,t,(f,m)=>{s=f,o=m}),s,o]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){ti(r)||Fn(8),Qs(r)&&(r=DI(r));const e=zE(this),t=_p(r,void 0);return t[Sn].isManual_=!0,gp(e),t}finishDraft(r,e){const t=r&&r[Sn];(!t||!t.isManual_)&&Fn(9);const{scope_:s}=t;return UE(s,e),qE(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}t>-1&&(e=e.slice(t+1));const s=Ys("Patches").applyPatches_;return Qs(r)?s(r,e):this.produce(r,o=>s(o,e))}};function _p(r,e){const t=df(r)?Ys("MapSet").proxyMap_(r,e):mf(r)?Ys("MapSet").proxySet_(r,e):RI(r,e);return(e?e.scope_:ew()).drafts_.push(t),t}function DI(r){return Qs(r)||Fn(10,r),nw(r)}function nw(r){if(!ti(r)||pf(r))return r;const e=r[Sn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=mp(r,e.scope_.immer_.useStrictShallowCopy_)}else t=mp(r,!0);return Lh(t,(s,o)=>{JT(t,s,nw(o))}),e&&(e.finalized_=!1),t}var bn=new CI,rw=bn.produce;bn.produceWithPatches.bind(bn);bn.setAutoFreeze.bind(bn);bn.setUseStrictShallowCopy.bind(bn);bn.applyPatches.bind(bn);bn.createDraft.bind(bn);bn.finishDraft.bind(bn);function iw(r){return({dispatch:t,getState:s})=>o=>u=>typeof u=="function"?u(t,s,r):o(u)}var OI=iw(),NI=iw,xI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kh:kh.apply(null,arguments)},MI=r=>r&&typeof r.match=="function";function Xl(r,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(Jr(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:s[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=s=>vI(s)&&s.type===r,t}var sw=class Gl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Gl.prototype)}static get[Symbol.species](){return Gl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Gl(...e[0].concat(this)):new Gl(...e.concat(this))}};function BE(r){return ti(r)?rw(r,()=>{}):r}function rh(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function VI(r){return typeof r=="boolean"}var PI=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let f=new sw;return t&&(VI(t)?f.push(OI):f.push(NI(t.extraArgument))),f},kI="RTK_autoBatch",HE=r=>e=>{setTimeout(e,r)},LI=(r={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,u=!1,f=!1;const m=new Set,p=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HE(10):r.type==="callback"?r.queueNotification:HE(r.timeout),g=()=>{f=!1,u&&(u=!1,m.forEach(v=>v()))};return Object.assign({},s,{subscribe(v){const T=()=>o&&v(),b=s.subscribe(T);return m.add(v),()=>{b(),m.delete(v)}},dispatch(v){try{return o=!v?.meta?.[kI],u=!o,u&&(f||(f=!0,p(g))),s.dispatch(v)}finally{o=!0}}})},UI=r=>function(t){const{autoBatch:s=!0}=t??{};let o=new sw(r);return s&&o.push(LI(typeof s=="object"?s:void 0)),o};function zI(r){const e=PI(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=r||{};let m;if(typeof t=="function")m=t;else if(tg(t))m=XT(t);else throw new Error(Jr(1));let p;typeof s=="function"?p=s(e):p=e();let g=kh;o&&(g=xI({trace:!1,...typeof o=="object"&&o}));const v=_I(...p),T=UI(v);let b=typeof f=="function"?f(T):T();const O=g(...b);return ng(m,u,O)}function aw(r){const e={},t=[];let s;const o={addCase(u,f){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(Jr(28));if(m in e)throw new Error(Jr(29));return e[m]=f,o},addMatcher(u,f){return t.push({matcher:u,reducer:f}),o},addDefaultCase(u){return s=u,o}};return r(o),[e,t,s]}function qI(r){return typeof r=="function"}function jI(r,e){let[t,s,o]=aw(e),u;if(qI(r))u=()=>BE(r());else{const m=BE(r);u=()=>m}function f(m=u(),p){let g=[t[p.type],...s.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[o]),g.reduce((v,T)=>{if(T)if(Qs(v)){const O=T(v,p);return O===void 0?v:O}else{if(ti(v))return rw(v,b=>T(b,p));{const b=T(v,p);if(b===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return v},m)}return f.getInitialState=u,f}var BI=(r,e)=>MI(r)?r.match(e):r(e);function HI(...r){return e=>r.some(t=>BI(t,e))}var FI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GI=(r=21)=>{let e="",t=r;for(;t--;)e+=FI[Math.random()*64|0];return e},KI=["name","message","stack","code"],Jm=class{constructor(r,e){this.payload=r,this.meta=e}_type},FE=class{constructor(r,e){this.payload=r,this.meta=e}_type},QI=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of KI)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},GE="External signal was aborted",na=(()=>{function r(e,t,s){const o=Xl(e+"/fulfilled",(p,g,v,T)=>({payload:p,meta:{...T||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),u=Xl(e+"/pending",(p,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:p,requestStatus:"pending"}})),f=Xl(e+"/rejected",(p,g,v,T,b)=>({payload:T,error:(s&&s.serializeError||QI)(p||"Rejected"),meta:{...b||{},arg:v,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(v,T,b)=>{const O=s?.idGenerator?s.idGenerator(p):GI(),k=new AbortController;let B,U;function G(Y){U=Y,k.abort()}g&&(g.aborted?G(GE):g.addEventListener("abort",()=>G(GE),{once:!0}));const ie=async function(){let Y;try{let re=s?.condition?.(p,{getState:T,extra:b});if($I(re)&&(re=await re),re===!1||k.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const he=new Promise((D,A)=>{B=()=>{A({name:"AbortError",message:U||"Aborted"})},k.signal.addEventListener("abort",B)});v(u(O,p,s?.getPendingMeta?.({requestId:O,arg:p},{getState:T,extra:b}))),Y=await Promise.race([he,Promise.resolve(t(p,{dispatch:v,getState:T,extra:b,requestId:O,signal:k.signal,abort:G,rejectWithValue:(D,A)=>new Jm(D,A),fulfillWithValue:(D,A)=>new FE(D,A)})).then(D=>{if(D instanceof Jm)throw D;return D instanceof FE?o(D.payload,O,p,D.meta):o(D,O,p)})])}catch(re){Y=re instanceof Jm?f(null,O,p,re.payload,re.meta):f(re,O,p)}finally{B&&k.signal.removeEventListener("abort",B)}return s&&!s.dispatchConditionRejection&&f.match(Y)&&Y.meta.condition||v(Y),Y}();return Object.assign(ie,{abort:G,requestId:O,arg:p,unwrap(){return ie.then(YI)}})}}return Object.assign(m,{pending:u,rejected:f,fulfilled:o,settled:HI(f,o),typePrefix:e})}return r.withTypes=()=>r,r})();function YI(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function $I(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var XI=Symbol.for("rtk-slice-createasyncthunk");function WI(r,e){return`${r}/${e}`}function ZI({creators:r}={}){const e=r?.asyncThunk?.[XI];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(Jr(11));const f=(typeof s.reducers=="function"?s.reducers(eC()):s.reducers)||{},m=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(Y,se){const re=typeof Y=="string"?Y:Y.type;if(!re)throw new Error(Jr(12));if(re in p.sliceCaseReducersByType)throw new Error(Jr(13));return p.sliceCaseReducersByType[re]=se,g},addMatcher(Y,se){return p.sliceMatchers.push({matcher:Y,reducer:se}),g},exposeAction(Y,se){return p.actionCreators[Y]=se,g},exposeCaseReducer(Y,se){return p.sliceCaseReducersByName[Y]=se,g}};m.forEach(Y=>{const se=f[Y],re={reducerName:Y,type:WI(o,Y),createNotation:typeof s.reducers=="function"};nC(se)?iC(re,se,g,e):tC(re,se,g)});function v(){const[Y={},se=[],re=void 0]=typeof s.extraReducers=="function"?aw(s.extraReducers):[s.extraReducers],he={...Y,...p.sliceCaseReducersByType};return jI(s.initialState,D=>{for(let A in he)D.addCase(A,he[A]);for(let A of p.sliceMatchers)D.addMatcher(A.matcher,A.reducer);for(let A of se)D.addMatcher(A.matcher,A.reducer);re&&D.addDefaultCase(re)})}const T=Y=>Y,b=new Map,O=new WeakMap;let k;function B(Y,se){return k||(k=v()),k(Y,se)}function U(){return k||(k=v()),k.getInitialState()}function G(Y,se=!1){function re(D){let A=D[Y];return typeof A>"u"&&se&&(A=rh(O,re,U)),A}function he(D=T){const A=rh(b,se,()=>new WeakMap);return rh(A,D,()=>{const R={};for(const[M,V]of Object.entries(s.selectors??{}))R[M]=JI(V,D,()=>rh(O,D,U),se);return R})}return{reducerPath:Y,getSelectors:he,get selectors(){return he(re)},selectSlice:re}}const ie={name:o,reducer:B,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:U,...G(u),injectInto(Y,{reducerPath:se,...re}={}){const he=se??u;return Y.inject({reducerPath:he,reducer:B},re),{...ie,...G(he,!0)}}};return ie}}function JI(r,e,t,s){function o(u,...f){let m=e(u);return typeof m>"u"&&s&&(m=t()),r(m,...f)}return o.unwrapped=r,o}var gf=ZI();function eC(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function tC({type:r,reducerName:e,createNotation:t},s,o){let u,f;if("reducer"in s){if(t&&!rC(s))throw new Error(Jr(17));u=s.reducer,f=s.prepare}else u=s;o.addCase(r,u).exposeCaseReducer(e,u).exposeAction(e,f?Xl(r,f):Xl(r))}function nC(r){return r._reducerDefinitionType==="asyncThunk"}function rC(r){return r._reducerDefinitionType==="reducerWithPrepare"}function iC({type:r,reducerName:e},t,s,o){if(!o)throw new Error(Jr(18));const{payloadCreator:u,fulfilled:f,pending:m,rejected:p,settled:g,options:v}=t,T=o(r,u,v);s.exposeAction(e,T),f&&s.addCase(T.fulfilled,f),m&&s.addCase(T.pending,m),p&&s.addCase(T.rejected,p),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:f||ih,pending:m||ih,rejected:p||ih,settled:g||ih})}function ih(){}function Jr(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const sC=()=>{};var KE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],f=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(b=64)),s.push(t[v],t[T],t[b],t[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ow(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new oC;const b=u<<2|m>>4;if(s.push(b),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const k=g<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(r){const e=ow(r);return lw.encodeByteArray(e,!0)},qh=function(r){return lC(r).replace(/\./g,"")},uw=function(r){try{return lw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof KE>"u")return;const r=KE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uw(r[1]);return e&&JSON.parse(e)},yf=()=>{try{return sC()||cC()||hC()||fC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cw=r=>yf()?.emulatorHosts?.[r],dC=r=>{const e=cw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},hw=()=>yf()?.config,fw=r=>yf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dw(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qh(JSON.stringify(t)),qh(JSON.stringify(f)),""].join(".")}const Wl={};function gC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?r.emulator.push(e):r.prod.push(e);return r}function yC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let QE=!1;function mw(r,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Wl[r]===e||Wl[r]||QE)return;Wl[r]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=gC().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{QE=!0,f()},b}function v(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=yC(s),O=t("text"),k=document.getElementById(O)||document.createElement("span"),B=t("learnmore"),U=document.getElementById(B)||document.createElement("a"),G=t("preprendIcon"),ie=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;m(Y),v(U,B);const se=g();p(ie,G),Y.append(ie,k,U,se),document.body.appendChild(Y)}u?(k.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function vC(){const r=yf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SC(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bC(){return!vC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AC(){try{return typeof indexedDB=="object"}catch{return!1}}function RC(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="FirebaseError";class ui extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=IC,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?CC(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ui(o,m,s)}}function CC(r,e){return r.replace(DC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DC=/\{\$([^}]+)}/g;function OC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $s(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(YE(u)&&YE(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function YE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function NC(r,e){const t=new xC(r,e);return t.subscribe.bind(t)}class xC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");MC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=ep),o.error===void 0&&(o.error=ep),o.complete===void 0&&(o.complete=ep);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new mC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kC(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(r){return r===Fs?void 0:r}function kC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const UC={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},zC=xe.INFO,qC={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},jC=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=qC[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=zC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const BC=(r,e)=>e.some(t=>r instanceof t);let $E,XE;function HC(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FC(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pw=new WeakMap,vp=new WeakMap,gw=new WeakMap,tp=new WeakMap,ag=new WeakMap;function GC(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(Gi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&pw.set(t,r)}).catch(()=>{}),ag.set(e,r),e}function KC(r){if(vp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});vp.set(r,e)}let Ep={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return vp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||gw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QC(r){Ep=r(Ep)}function YC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(np(this),e,...t);return gw.set(s,e.sort?e.sort():[e]),Gi(s)}:FC().includes(r)?function(...e){return r.apply(np(this),e),Gi(pw.get(this))}:function(...e){return Gi(r.apply(np(this),e))}}function $C(r){return typeof r=="function"?YC(r):(r instanceof IDBTransaction&&KC(r),BC(r,HC())?new Proxy(r,Ep):r)}function Gi(r){if(r instanceof IDBRequest)return GC(r);if(tp.has(r))return tp.get(r);const e=$C(r);return e!==r&&(tp.set(r,e),ag.set(e,r)),e}const np=r=>ag.get(r);function XC(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Gi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Gi(f.result),p.oldVersion,p.newVersion,Gi(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const WC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],rp=new Map;function WE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=ZC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return rp.set(e,u),u}QC(r=>({...r,get:(e,t,s)=>WE(e,t)||r.get(e,t,s),has:(e,t)=>!!WE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(e2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function e2(r){return r.getComponent()?.type==="VERSION"}const Tp="@firebase/app",ZE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new sg("@firebase/app"),t2="@firebase/app-compat",n2="@firebase/analytics-compat",r2="@firebase/analytics",i2="@firebase/app-check-compat",s2="@firebase/app-check",a2="@firebase/auth",o2="@firebase/auth-compat",l2="@firebase/database",u2="@firebase/data-connect",c2="@firebase/database-compat",h2="@firebase/functions",f2="@firebase/functions-compat",d2="@firebase/installations",m2="@firebase/installations-compat",p2="@firebase/messaging",g2="@firebase/messaging-compat",y2="@firebase/performance",_2="@firebase/performance-compat",v2="@firebase/remote-config",E2="@firebase/remote-config-compat",T2="@firebase/storage",w2="@firebase/storage-compat",S2="@firebase/firestore",b2="@firebase/ai",A2="@firebase/firestore-compat",R2="firebase",I2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",C2={[Tp]:"fire-core",[t2]:"fire-core-compat",[r2]:"fire-analytics",[n2]:"fire-analytics-compat",[s2]:"fire-app-check",[i2]:"fire-app-check-compat",[a2]:"fire-auth",[o2]:"fire-auth-compat",[l2]:"fire-rtdb",[u2]:"fire-data-connect",[c2]:"fire-rtdb-compat",[h2]:"fire-fn",[f2]:"fire-fn-compat",[d2]:"fire-iid",[m2]:"fire-iid-compat",[p2]:"fire-fcm",[g2]:"fire-fcm-compat",[y2]:"fire-perf",[_2]:"fire-perf-compat",[v2]:"fire-rc",[E2]:"fire-rc-compat",[T2]:"fire-gcs",[w2]:"fire-gcs-compat",[S2]:"fire-fst",[A2]:"fire-fst-compat",[b2]:"fire-vertex","fire-js":"fire-js",[R2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,D2=new Map,Sp=new Map;function JE(r,e){try{r.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ho(r){const e=r.name;if(Sp.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Sp.set(e,r);for(const t of jh.values())JE(t,r);for(const t of D2.values())JE(t,r);return!0}function og(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function fr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new vu("app","Firebase",O2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=I2;function yw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:wp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ki.create("bad-app-name",{appName:String(o)});if(t||(t=hw()),!t)throw Ki.create("no-options");const u=jh.get(o);if(u){if($s(t,u.options)&&$s(s,u.config))return u;throw Ki.create("duplicate-app",{appName:o})}const f=new LC(o);for(const p of Sp.values())f.addComponent(p);const m=new N2(t,s,f);return jh.set(o,m),m}function _w(r=wp){const e=jh.get(r);if(!e&&r===wp&&hw())return yw();if(!e)throw Ki.create("no-app",{appName:r});return e}function Qi(r,e,t){let s=C2[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(f.join(" "));return}ho(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebase-heartbeat-database",M2=1,ou="firebase-heartbeat-store";let ip=null;function vw(){return ip||(ip=XC(x2,M2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ki.create("idb-open",{originalErrorMessage:r.message})})),ip}async function V2(r){try{const t=(await vw()).transaction(ou),s=await t.objectStore(ou).get(Ew(r));return await t.done,s}catch(e){if(e instanceof ui)ni.warn(e.message);else{const t=Ki.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}}async function e0(r,e){try{const s=(await vw()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,Ew(r)),await s.done}catch(t){if(t instanceof ui)ni.warn(t.message);else{const s=Ki.create("idb-set",{originalErrorMessage:t?.message});ni.warn(s.message)}}}function Ew(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1024,k2=30;class L2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new z2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>k2){const o=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t0(),{heartbeatsToSend:t,unsentEntries:s}=U2(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ni.warn(e),""}}}function t0(){return new Date().toISOString().substring(0,10)}function U2(r,e=P2){const t=[];let s=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),n0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),n0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AC()?RC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await V2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return e0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function n0(r){return qh(JSON.stringify({version:2,heartbeats:r})).length}function q2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r){ho(new Xs("platform-logger",e=>new JC(e),"PRIVATE")),ho(new Xs("heartbeat",e=>new L2(e),"PRIVATE")),Qi(Tp,ZE,r),Qi(Tp,ZE,"esm2020"),Qi("fire-js","")}j2("");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,Tw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function R(){}R.prototype=A.prototype,D.D=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(M,V,L){for(var C=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)C[Lt-2]=arguments[Lt];return A.prototype[V].apply(M,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,R){R||(R=0);var M=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)M[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],V=D.g[2];var L=D.g[3],C=A+(L^R&(V^L))+M[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=L+(V^A&(R^V))+M[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=V+(R^L&(A^R))+M[2]+606105819&4294967295,V=L+(C<<17&4294967295|C>>>15),C=R+(A^V&(L^A))+M[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(L^R&(V^L))+M[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(V^A&(R^V))+M[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=V+(R^L&(A^R))+M[6]+2821735955&4294967295,V=L+(C<<17&4294967295|C>>>15),C=R+(A^V&(L^A))+M[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(L^R&(V^L))+M[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(V^A&(R^V))+M[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=V+(R^L&(A^R))+M[10]+4294925233&4294967295,V=L+(C<<17&4294967295|C>>>15),C=R+(A^V&(L^A))+M[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(L^R&(V^L))+M[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(V^A&(R^V))+M[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=V+(R^L&(A^R))+M[14]+2792965006&4294967295,V=L+(C<<17&4294967295|C>>>15),C=R+(A^V&(L^A))+M[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(V^L&(R^V))+M[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^V&(A^R))+M[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(L^A))+M[11]+643717713&4294967295,V=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(V^L))+M[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^L&(R^V))+M[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^V&(A^R))+M[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(L^A))+M[15]+3634488961&4294967295,V=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(V^L))+M[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^L&(R^V))+M[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^V&(A^R))+M[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(L^A))+M[3]+4107603335&4294967295,V=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(V^L))+M[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^L&(R^V))+M[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^V&(A^R))+M[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(L^A))+M[7]+1735328473&4294967295,V=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(V^L))+M[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(R^V^L)+M[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^V)+M[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=V+(L^A^R)+M[11]+1839030562&4294967295,V=L+(C<<16&4294967295|C>>>16),C=R+(V^L^A)+M[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^L)+M[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^V)+M[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=V+(L^A^R)+M[7]+4139469664&4294967295,V=L+(C<<16&4294967295|C>>>16),C=R+(V^L^A)+M[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^L)+M[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^V)+M[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=V+(L^A^R)+M[3]+3572445317&4294967295,V=L+(C<<16&4294967295|C>>>16),C=R+(V^L^A)+M[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^L)+M[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^V)+M[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=V+(L^A^R)+M[15]+530742520&4294967295,V=L+(C<<16&4294967295|C>>>16),C=R+(V^L^A)+M[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(V^(R|~L))+M[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~V))+M[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=V+(A^(L|~R))+M[14]+2878612391&4294967295,V=L+(C<<15&4294967295|C>>>17),C=R+(L^(V|~A))+M[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~L))+M[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~V))+M[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=V+(A^(L|~R))+M[10]+4293915773&4294967295,V=L+(C<<15&4294967295|C>>>17),C=R+(L^(V|~A))+M[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~L))+M[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~V))+M[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=V+(A^(L|~R))+M[6]+2734768916&4294967295,V=L+(C<<15&4294967295|C>>>17),C=R+(L^(V|~A))+M[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~L))+M[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~V))+M[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=V+(A^(L|~R))+M[2]+718787259&4294967295,V=L+(C<<15&4294967295|C>>>17),C=R+(L^(V|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var R=A-this.blockSize,M=this.B,V=this.h,L=0;L<A;){if(V==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<A;)if(M[V++]=D.charCodeAt(L++),V==this.blockSize){o(this,M),V=0;break}}else for(;L<A;)if(M[V++]=D[L++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var R=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=R&255,R/=256;for(this.u(D),D=Array(16),A=R=0;4>A;++A)for(var M=0;32>M;M+=8)D[R++]=this.g[A]>>>M&255;return D};function u(D,A){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function f(D,A){this.h=A;for(var R=[],M=!0,V=D.length-1;0<=V;V--){var L=D[V]|0;M&&L==A||(R[V]=L,M=!1)}this.g=R}var m={};function p(D){return-128<=D&&128>D?u(D,function(A){return new f([A|0],0>A?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return U(g(-D));for(var A=[],R=1,M=0;D>=R;M++)A[M]=D/R|0,R*=4294967296;return new f(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return U(v(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),M=T,V=0;V<D.length;V+=8){var L=Math.min(8,D.length-V),C=parseInt(D.substring(V,V+L),A);8>L?(L=g(Math.pow(A,L)),M=M.j(L).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var T=p(0),b=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(B(this))return-U(this).m();for(var D=0,A=1,R=0;R<this.g.length;R++){var M=this.i(R);D+=(0<=M?M:4294967296+M)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(B(this))return"-"+U(this).toString(D);for(var A=g(Math.pow(D,6)),R=this,M="";;){var V=se(R,A).g;R=G(R,V.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=V,k(R))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function B(D){return D.h==-1}r.l=function(D){return D=G(this,D),B(D)?-1:k(D)?0:1};function U(D){for(var A=D.g.length,R=[],M=0;M<A;M++)R[M]=~D.g[M];return new f(R,~D.h).add(b)}r.abs=function(){return B(this)?U(this):this},r.add=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0,V=0;V<=A;V++){var L=M+(this.i(V)&65535)+(D.i(V)&65535),C=(L>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=C>>>16,L&=65535,C&=65535,R[V]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function G(D,A){return D.add(U(A))}r.j=function(D){if(k(this)||k(D))return T;if(B(this))return B(D)?U(this).j(U(D)):U(U(this).j(D));if(B(D))return U(this.j(U(D)));if(0>this.l(O)&&0>D.l(O))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,R=[],M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<D.g.length;V++){var L=this.i(M)>>>16,C=this.i(M)&65535,Lt=D.i(V)>>>16,ot=D.i(V)&65535;R[2*M+2*V]+=C*ot,ie(R,2*M+2*V),R[2*M+2*V+1]+=L*ot,ie(R,2*M+2*V+1),R[2*M+2*V+1]+=C*Lt,ie(R,2*M+2*V+1),R[2*M+2*V+2]+=L*Lt,ie(R,2*M+2*V+2)}for(M=0;M<A;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=A;M<2*A;M++)R[M]=0;return new f(R,0)};function ie(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Y(D,A){this.g=D,this.h=A}function se(D,A){if(k(A))throw Error("division by zero");if(k(D))return new Y(T,T);if(B(D))return A=se(U(D),A),new Y(U(A.g),U(A.h));if(B(A))return A=se(D,U(A)),new Y(U(A.g),A.h);if(30<D.g.length){if(B(D)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,M=A;0>=M.l(D);)R=re(R),M=re(M);var V=he(R,1),L=he(M,1);for(M=he(M,2),R=he(R,2);!k(M);){var C=L.add(M);0>=C.l(D)&&(V=V.add(R),L=C),M=he(M,1),R=he(R,1)}return A=G(D,V.j(A)),new Y(V,A)}for(V=T;0<=D.l(A);){for(R=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=g(R),C=L.j(A);B(C)||0<C.l(D);)R-=M,L=g(R),C=L.j(A);k(L)&&(L=b),V=V.add(L),D=G(D,C)}return new Y(V,D)}r.A=function(D){return se(this,D).h},r.and=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)&D.i(M);return new f(R,this.h&D.h)},r.or=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)|D.i(M);return new f(R,this.h|D.h)},r.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)^D.i(M);return new f(R,this.h^D.h)};function re(D){for(var A=D.g.length+1,R=[],M=0;M<A;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(R,D.h)}function he(D,A){var R=A>>5;A%=32;for(var M=D.g.length-R,V=[],L=0;L<M;L++)V[L]=0<A?D.i(L+R)>>>A|D.i(L+R+1)<<32-A:D.i(L+R);return new f(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Tw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Yi=f}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,Kl,Sw,ph,bp,bw,Aw,Rw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,K){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return y.prototype[z].apply(S,oe)}}function B(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const z=c.length||0,K=S.length||0;c.length=z+K;for(let oe=0;oe<K;oe++)c[z+oe]=S[oe]}else c.push(S)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var re=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function he(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Lt{constructor(){this.h=this.g=null}add(y,_){const S=ot.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new G(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,je=new Lt,N=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{se(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}k(Ce,ae);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Yn(c,y,_,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=z,this.key=++Je,this.da=this.fa=!1}function ci(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,_,S,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var oe=os(c,y,S,z);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Yn(y,this.src,K,!!S,z),y.fa=_,c.push(y)),y};function as(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(S,z,1),K&&(ci(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function os(c,y,_,S){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return z}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Mo={};function xu(c,y,_,S,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)xu(c,y[K],_,S,z);return null}return _=Mu(_),c&&c[Dt]?c.K(y,_,g(S)?!!S.capture:!1,z):An(c,y,_,!1,S,z)}function An(c,y,_,S,z,K){if(!y)throw Error("Invalid event type");var oe=g(z)?!!z.capture:!!z,Pe=oa(c);if(Pe||(c[ls]=Pe=new Sr(c)),_=Pe.add(y,_,S,oe,K),_.proxy)return _;if(S=qf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ye||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(us(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qf(){function c(_){return y.call(c.src,c.listener,_)}const y=jf;return c}function Vo(c,y,_,S,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Vo(c,y[K],_,S,z);else S=g(S)?!!S.capture:!!S,_=Mu(_),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=os(K,_,S,z),-1<_&&(ci(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=oa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,_,S,z)),(_=-1<c?y[c]:null)&&aa(_))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])as(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(us(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=oa(y))?(as(_,c),_.h==0&&(_.src=null,y[ls]=null)):ci(c)}}}function us(c){return c in Mo?Mo[c]:Mo[c]="on"+c}function jf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&aa(c),c=_.call(S,y)}return c}function oa(c){return c=c[ls],c instanceof Sr?c:null}var Po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(y){return c.handleEvent(y)}),c[Po])}function lt(){ce.call(this),this.i=new Sr(this),this.M=this,this.F=null}k(lt,ce),lt.prototype[Dt]=!0,lt.prototype.removeEventListener=function(c,y,_,S){Vo(this,c,y,_,S)};function Fe(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var z=y;y=new ae(S,c),M(y,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var oe=y.g=_[K];z=hn(oe,S,!0,y)&&z}if(oe=y.g=c,z=hn(oe,S,!0,y)&&z,z=hn(oe,S,!1,y)&&z,_)for(K=0;K<_.length;K++)oe=y.g=_[K],z=hn(oe,S,!1,y)&&z}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)ci(_[S]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},lt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function hn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var oe=y[K];if(oe&&!oe.da&&oe.capture==_){var Pe=oe.listener,bt=oe.ha||oe.src;oe.fa&&as(c.i,oe),z=Pe.call(bt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Qt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Vu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Bf extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){ce.call(this),this.h=c,this.g={}}k(cs,ce);var hs=[];function fs(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&aa(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,la=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Lo(c){return c.h||(c.h=c.i())}function Uo(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ae.call(this,"d")}k(Ar,ae);function zo(){ae.call(this,"c")}k(zo,ae);var $n={},qo=null;function hi(){return qo=qo||new lt}$n.La="serverreachability";function ua(c){ae.call(this,$n.La,c)}k(ua,ae);function fi(c){const y=hi();Fe(y,new ua(y))}$n.STAT_EVENT="statevent";function Pu(c,y){ae.call(this,$n.STAT_EVENT,c),this.stat=y}k(Pu,ae);function nt(c){const y=hi();Fe(y,new Pu(y,c))}$n.Ma="timingevent";function St(c,y){ae.call(this,$n.Ma,c),this.size=y}k(St,ae);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function jo(c,y,_,S,z,K){c.info(function(){if(c.g)if(K)for(var oe="",Pe=K.split("&"),bt=0;bt<Pe.length;bt++){var ke=Pe[bt].split("=");if(1<ke.length){var Nt=ke[0];ke=ke[1];var At=Nt.split("_");oe=2<=At.length&&At[1]=="type"?oe+(Nt+"="+ke+"&"):oe+(Nt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+_+`
`+oe})}function Hf(c,y,_,S,z,K,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+oe})}function di(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,_)+(S?" "+S:"")})}function ku(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return Un(_)}catch{return y}}var mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Wn(){}k(Wn,ko),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Xn=new Wn;function en(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Bo={},ca={};function zn(c,y,_){c.L=1,c.v=vs(fn(y)),c.m=_,c.P=!0,Ir(c,null)}function Ir(c,y){c.F=Date.now(),ps(c),c.A=fn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Yo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ht,c.g=Zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Bf(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(hs[0]=z.toString()),z=hs);for(var K=0;K<z.length;K++){var oe=xu(_,z[K],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fi(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const At=On(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||At!=4||y==7||(y==8||0>=Pr?fi(3):fi(2)),pi(this);var _=this.g.Z();this.X=_;t:if(Lu(this)){var S=Fu(this.g);c="";var z=S.length,K=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Zn(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Hf(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,bt=this.g;if((Pe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)di(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,_);else{this.o=!1,this.s=3,nt(12),Ut(this),Zn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=Uu(this,oe),zt==ca){At==4&&(this.s=4,nt(14),_=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Bo){this.s=4,nt(15),di(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else di(this.i,this.l,zt,null),gs(this,zt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||oe.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)di(this.i,this.l,oe,"[Invalid Chunked Response]"),Ut(this),Zn(this);else if(0<oe.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Is(Nt),Nt.M=!0,nt(11))}}else di(this.i,this.l,oe,null),gs(this,oe);At==4&&Ut(this),this.o&&!this.J&&(At==4?$u(this.j,this):(this.o=!1,ps(this)))}else Yf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ut(this),Zn(this)}}}catch{}finally{}};function Lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Uu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ca:(_=Number(y.substring(_,S)),isNaN(_)?Bo:(S+=1,S+_>y.length?ca:(y=y.slice(S,S+_),c.C=S+_,y)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function ps(c){c.S=Date.now()+c.I,zu(c,c.I)}function zu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(b(c.ba,c),y)}function pi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(fi(),nt(17)),Ut(this),this.s=2,Zn(this)):zu(this,this.S-c)};function Zn(c){c.j.G==0||c.J||$u(c.j,c)}function Ut(c){pi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ho(_.h,c))){if(!c.K&&Ho(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)wa(_),Ea(_);else break e;Jo(_),nt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(b(_.Za,_),6e3));if(1>=fa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vr(_,11)}else if((c.K||_.g==c)&&wa(_),!ie(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Nt=ke[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const At=ke[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Pr=ke[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(S=1.5*Pr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const zt=c.g;if(zt){const sr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var K=S.h;K.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(da(K,K.h),K.h=null))}if(S.D){const tl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.ya=tl,Qe(S.I,S.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var oe=c;if(S.qa=Wu(S,S.J?S.ia:null,S.W),oe.K){tn(S.h,oe);var Pe=oe,bt=S.L;bt&&(Pe.I=bt),Pe.B&&(pi(Pe),ps(Pe)),S.g=oe}else Qu(S);0<_.i.length&&Ta(_)}else ke[0]!="stop"&&ke[0]!="close"||Vr(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Vr(_,7):Wo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}fi(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function Cr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ha(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fa(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function da(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Cr.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return B(c.i)}function Ff(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Go(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ma(c),S=Ff(c),z=S.length,K=0;K<z;K++)y.call(void 0,S[K],_&&_[K],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var K=c[_].substring(0,S);z=c[_].substring(S+1)}else K=c[_];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,gi(this,c.s),this.l=c.l;var y=c.i,_=new Or;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Dr(this,_),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,_s(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),gi(this,y[4]),this.l=In(y[5]||"",!0),Dr(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,Ko,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,Ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?Kf:Qo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,pa)),c.join("")};function fn(c){return new yt(c)}function _s(c,y,_){c.j=_?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Dr(c,y,_){y instanceof Or?(c.i=y,Bu(c.i,c.h)):(_||(y=Es(y,Qf)),c.i=new Or(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function vs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Qo=/[#\?:]/g,Kf=/[#\?]/g,Qf=/[#\?@]/g,pa=/#/g;function Or(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Gf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Or.prototype,r.add=function(c,y){Cn(this),this.i=null,c=Jn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Nr(c,y){Cn(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xr(c,y){return Cn(c),y=Jn(c,y),c.g.has(y)}r.forEach=function(c,y){Cn(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(y,z,S,this)},this)},this)},r.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const z=c[S];for(let K=0;K<z.length;K++)_.push(y[S])}return _},r.V=function(c){Cn(this);let y=[];if(typeof c=="string")xr(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Cn(this),this.i=null,c=Jn(this,c),xr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yo(c,y,_){Nr(c,y),0<_.length&&(c.i=null,c.g.set(Jn(c,y),B(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var z=K;oe[S]!==""&&(z+="="+encodeURIComponent(String(oe[S]))),c.push(z)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(Nr(this,S),Yo(this,z,_))},c)),c.j=y}function Ts(c,y){const _=new Rn;if(m.Image){const S=new Image;S.onload=O(Dn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=O(Dn,_,"TestLoadImage: error",!1,y,S),S.onabort=O(Dn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(Dn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qn(c,y){const _=new Rn,S=new AbortController,z=setTimeout(()=>{S.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function ws(){this.g=new ds}function er(c,y,_){const S=_||"";try{Go(c,function(z,K){let oe=z;g(z)&&(oe=Un(z)),y.push(S+K+"="+encodeURIComponent(oe))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function yi(c){this.l=c.Ub||null,this.j=c.eb||!1}k(yi,ko),yi.prototype.g=function(){return new Mr(this.l,this.j)},yi.prototype.i=function(c){return function(){return c}}({});function Mr(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Mr,lt),r=Mr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,nr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tr(this):nr(this),this.readyState==3&&$o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,tr(this))},r.Qa=function(c){this.g&&(this.response=c,tr(this))},r.ga=function(){this.g&&tr(this)};function tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return he(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Xo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(He,lt);var ga=/^https?$/i,Ss=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Lo(this.o):Lo(Xn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Hu(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Hu(this,K)}};function Hu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ya(c),rr(c)}function ya(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),rr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},r.bb=function(){_a(this)};function _a(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),On(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=oe===0){var z=String(c.D).match(ys)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!ga.test(z?z.toLowerCase():"")}_=S}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var K=2<On(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ya(c)}}finally{rr(c)}}}}function rr(c,y){if(c.g){bs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=S}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),la(y)}};function Fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ie(c[S]))continue;var _=V(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}D(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function va(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(c&&c.concurrentRequestLimit),this.Da=new ws,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=va.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){nt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Wu(this,null,this.W),Ta(this)};function Wo(c){if(Gu(c),c.G==3){var y=c.U++,_=fn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Rs(c,_),y=new en(c,c.j,y),y.L=2,y.v=vs(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}Xu(c)}function Ea(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function Gu(c){Ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ta(c){if(!ha(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||N(),ge||(ue(),ge=!0),je.add(y,c),c.B=0}}function $f(c,y){return fa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(b(c.Ga,c,y),el(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=A(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ku(this,z,y),_=fn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Rs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Xo(K)))+"&"+y:this.m&&Ot(_,this.m,K)),da(this.h,z),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),z.T=!0,zn(z,_,null)):zn(z,_,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||ha(this.h)||Zo(this))};function Zo(c,y){var _;y?_=y.l:_=c.U++;const S=fn(c.I);Qe(S,"SID",c.K),Qe(S,"RID",_),Qe(S,"AID",c.T),Rs(c,S),c.m&&c.o&&Ot(S,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),da(c.h,_),zn(_,S,y)}function Rs(c,y){c.H&&he(c.H,function(_,S){Qe(y,S,_)}),c.l&&Go({},function(_,S){Qe(y,S,_)})}function Ku(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const oe=["count="+_];K==-1?0<_?(K=z[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let Pe=!0;for(let bt=0;bt<_;bt++){let ke=z[bt].g;const Nt=z[bt].map;if(ke-=K,0>ke)K=Math.max(0,z[bt].g-100),Pe=!1;else try{er(Nt,oe,"req"+ke+"_")}catch{S&&S(Nt)}}if(Pe){S=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||N(),ge||(ue(),ge=!0),je.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(b(c.Fa,c),el(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ea(this),Yu(this))};function Is(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(fn(y)),_.m=null,_.P=!0,Ir(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ea(this),Jo(this),nt(19))};function wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,y){var _=null;if(c.g==y){wa(c),Is(c),c.g=null;var S=2}else if(Ho(c.h,y))_=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=hi(),Fe(S,new St(S,_)),Ta(c)}else Qu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&$f(c,y)||S==2&&Jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Vr(c,5);break;case 4:Vr(c,10);break;case 3:Vr(c,6);break;default:Vr(c,2)}}}function el(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vr(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const z=!S;S=new yt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(S,"https"),vs(S),z?Ts(S.toString(),_):qn(S.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(y),Xu(c),Gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,_){var S=_ instanceof yt?fn(_):new yt(_);if(S.g!="")y&&(S.g=y+"."+S.g),gi(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new yt(null);S&&_s(K,S),y&&(K.g=y),z&&gi(K,z),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&Qe(S,_,y),Qe(S,"VER",c.la),Rs(c,S),S}function Zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new yi({eb:_})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Sa(){}Sa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){lt.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ir(this)}k(nn,lt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Wo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new qu(y.Ya++,c)),y.G==3&&Ta(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,nn.aa.N.call(this)};function ec(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(ec,Ar);function tc(){zo.call(this),this.status=1}k(tc,zo);function ir(c){this.g=c}k(ir,Ju),ir.prototype.ua=function(){Fe(this.g,"a")},ir.prototype.ta=function(c){Fe(this.g,new ec(c))},ir.prototype.sa=function(c){Fe(this.g,new tc)},ir.prototype.ra=function(){Fe(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Rw=function(){return new Sa},Aw=function(){return hi()},bw=$n,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,ph=mi,Rr.COMPLETE="complete",Sw=Rr,Uo.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Kl=Uo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,ww=He}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",s0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new sg("@firebase/firestore");function Ja(){return Ws.logLevel}function fe(r,...e){if(Ws.logLevel<=xe.DEBUG){const t=e.map(lg);Ws.debug(`Firestore (${Ao}): ${r}`,...t)}}function ri(r,...e){if(Ws.logLevel<=xe.ERROR){const t=e.map(lg);Ws.error(`Firestore (${Ao}): ${r}`,...t)}}function fo(r,...e){if(Ws.logLevel<=xe.WARN){const t=e.map(lg);Ws.warn(`Firestore (${Ao}): ${r}`,...t)}}function lg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Iw(r,s,t)}function Iw(r,e,t){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ri(s),new Error(s)}function ze(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||Iw(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class H2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new Cw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class G2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new G2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new a0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Y2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function Ap(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return sp(o)===sp(u)?Me(o,u):sp(o)?1:-1}return Me(r.length,e.length)}const $2=55296,X2=57343;function sp(r){const e=r.charCodeAt(0);return e>=$2&&e<=X2}function mo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="__name__";class hr{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=hr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Me(e.length,t.length)}static compareSegments(e,t){const s=hr.isNumericId(e),o=hr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?hr.extractNumericId(e).compare(hr.extractNumericId(t)):Ap(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class We extends hr{construct(e,t,s){return new We(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new We(t)}static emptyPath(){return new We([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends hr{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new Gt([o0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(We.fromString(e))}static fromName(e){return new pe(We.fromString(e).popFirst(5))}static empty(){return new pe(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r,e,t){if(!t)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Z2(r,e,t,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function l0(r){if(!pe.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u0(r){if(pe.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ow(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _f(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_f(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Tu(r,e){if(!Ow(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new le(W.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=-62135596800,h0=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*h0);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<c0)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:wt("string",tt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new tt(0,0))}static max(){return new Te(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function J2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new Zi(o,pe.empty(),e)}function eD(r){return new Zi(r.readTime,r.key,lu)}class Zi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Zi(Te.min(),pe.empty(),lu)}static max(){return new Zi(Te.max(),pe.empty(),lu)}}function tD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==nD)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{f[g]=v,++m,m===u&&s(f)},v=>o(v))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function iD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function wu(r){return r==null}function Bh(r){return r===0&&1/r==-1/0}function sD(r){return typeof r=="number"&&Number.isInteger(r)&&!Bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="";function aD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=f0(e)),e=oD(r.get(t),e);return f0(e)}function oD(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case Nw:t+="";break;default:t+=u}}return t}function f0(r){return r+Nw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function is(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function xw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(e){return new m0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class m0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new Ct(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Mw("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(r){if(ze(!!r,39018),typeof r=="string"){let e=0;const t=lD.exec(r);if(ze(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="server_timestamp",Pw="__type__",kw="__previous_value__",Lw="__local_write_time__";function hg(r){return(r?.mapValue?.fields||{})[Pw]?.stringValue===Vw}function Ef(r){const e=r.mapValue.fields[kw];return hg(e)?Ef(e):e}function uu(r){const e=Ji(r.mapValue.fields[Lw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t,s,o,u,f,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Hh="(default)";class cu{constructor(e,t){this.projectId=e,this.database=t||Hh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__type__",cD="__max__",oh={mapValue:{}},zw="__vector__",Fh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hg(r)?4:fD(r)?9007199254740991:hD(r)?10:11:_e(28295,{value:r})}function Tr(r,e){if(r===e)return!0;const t=ts(r);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uu(r).isEqual(uu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ji(o.timestampValue),m=Ji(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?Bh(f)===Bh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(d0(f)!==d0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Tr(f[p],m[p])))return!1;return!0}(r,e);default:return _e(52216,{left:r})}}function hu(r,e){return(r.values||[]).find(t=>Tr(t,e))!==void 0}function po(r,e){if(r===e)return 0;const t=ts(r),s=ts(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return p0(r.timestampValue,e.timestampValue);case 4:return p0(uu(r),uu(e));case 5:return Ap(r.stringValue,e.stringValue);case 6:return function(u,f){const m=es(u),p=es(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Me(m[g],p[g]);if(v!==0)return v}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(mt(u.latitude),mt(f.latitude));return m!==0?m:Me(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return g0(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Fh]?.arrayValue,v=p[Fh]?.arrayValue,T=Me(g?.values?.length||0,v?.values?.length||0);return T!==0?T:g0(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===oh.mapValue&&f===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(f===oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=Ap(p[T],v[T]);if(b!==0)return b;const O=po(m[p[T]],g[v[T]]);if(O!==0)return O}return Me(p.length,v.length)}(r.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function p0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const t=Ji(r),s=Ji(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function g0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=po(t[o],s[o]);if(u)return u}return Me(t.length,s.length)}function go(r){return Rp(r)}function Rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ji(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return es(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Rp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Rp(t.fields[f])}`;return o+"}"}(r.mapValue):_e(61005,{value:r})}function gh(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(r);return e?16+gh(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+gh(f)}),o}(r.mapValue);default:throw _e(13486,{value:r})}}function y0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ip(r){return!!r&&"integerValue"in r}function fg(r){return!!r&&"arrayValue"in r}function _0(r){return!!r&&"nullValue"in r}function v0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function hD(r){return(r?.mapValue?.fields||{})[Uw]?.stringValue===zw}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return is(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zl(r.arrayValue.values[t]);return e}return{...r}}function fD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=Zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){is(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new sn(Zl(this.value))}}function qw(r){const e=[];return is(r.fields,(t,s)=>{const o=new Gt([t]);if(yh(s)){const u=qw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new kt(e,0,Te.min(),Te.min(),Te.min(),sn.empty(),0)}static newFoundDocument(e,t,s,o){return new kt(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new kt(e,2,t,Te.min(),Te.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new kt(e,3,t,Te.min(),Te.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.position=e,this.inclusive=t}}function E0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),t.key):s=po(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function T0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Tr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function dD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{}class Tt extends jw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new pD(e,t,s):t==="array-contains"?new _D(e,s):t==="in"?new vD(e,s):t==="not-in"?new ED(e,s):t==="array-contains-any"?new TD(e,s):new Tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new gD(e,s):new yD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(po(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends jw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Kn(e,t)}matches(e){return Bw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bw(r){return r.op==="and"}function Hw(r){return mD(r)&&Bw(r)}function mD(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function Cp(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+go(r.value);if(Hw(r))return r.filters.map(e=>Cp(e)).join(",");{const e=r.filters.map(t=>Cp(t)).join(",");return`${r.op}(${e})`}}function Fw(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)}(r,e):r instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&Fw(f,o.filters[m]),!0):!1}(r,e):void _e(19439)}function Gw(r){return r instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`}(r):r instanceof Kn?function(t){return t.op.toString()+" {"+t.getFilters().map(Gw).join(" ,")+"}"}(r):"Filter"}class pD extends Tt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class gD extends Tt{constructor(e,t){super(e,"in",t),this.keys=Kw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yD extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Kw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kw(r,e){return(e.arrayValue?.values||[]).map(t=>pe.fromName(t.referenceValue))}class _D extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&hu(t.arrayValue,this.value)}}class vD extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hu(this.value.arrayValue,t)}}class ED extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hu(this.value.arrayValue,t)}}class TD extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>hu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function w0(r,e=null,t=[],s=[],o=null,u=null,f=null){return new wD(r,e,t,s,o,u,f)}function dg(r){const e=Ae(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Cp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),wu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>go(s)).join(",")),e.Te=t}return e.Te}function mg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!dD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Fw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!T0(r.startAt,e.startAt)&&T0(r.endAt,e.endAt)}function Dp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SD(r,e,t,s,o,u,f,m){return new Co(r,e,t,s,o,u,f,m)}function pg(r){return new Co(r)}function S0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Qw(r){return r.collectionGroup!==null}function Jl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,s))}),t.has(Gt.keyField().canonicalString())||e.Ie.push(new fu(Gt.keyField(),s))}return e.Ie}function mr(r){const e=Ae(r);return e.Ee||(e.Ee=bD(e,Jl(r))),e.Ee}function bD(r,e){if(r.limitType==="F")return w0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)});const t=r.endAt?new Gh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Gh(r.startAt.position,r.startAt.inclusive):null;return w0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Op(r,e){const t=r.filters.concat([e]);return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Np(r,e,t){return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Tf(r,e){return mg(mr(r),mr(e))&&r.limitType===e.limitType}function Yw(r){return`${dg(mr(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Gw(o)).join(", ")}]`),wu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>go(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(mr(r))}; limitType=${r.limitType})`}function wf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=E0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Jl(s),o)||s.endAt&&!function(f,m,p){const g=E0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Jl(s),o))}(r,e)}function AD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $w(r){return(e,t)=>{let s=!1;for(const o of Jl(r)){const u=RD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function RD(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):_e(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new at(pe.comparator);function si(){return ID}const Xw=new at(pe.comparator);function Ql(...r){let e=Xw;for(const t of r)e=e.insert(t.key,t);return e}function Ww(r){let e=Xw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Gs(){return eu()}function Zw(){return eu()}function eu(){return new ra(r=>r.toString(),(r,e)=>r.isEqual(e))}const CD=new at(pe.comparator),DD=new Ct(pe.comparator);function Ve(...r){let e=DD;for(const t of r)e=e.add(t);return e}const OD=new Ct(Me);function ND(){return OD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function Jw(r){return{integerValue:""+r}}function xD(r,e){return sD(e)?Jw(e):gg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function MD(r,e,t){return r instanceof Kh?function(o,u){const f={fields:{[Pw]:{stringValue:Vw},[Lw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=Ef(u)),u&&(f.fields[kw]=u),{mapValue:f}}(t,e):r instanceof du?tS(r,e):r instanceof mu?nS(r,e):function(o,u){const f=eS(o,u),m=b0(f)+b0(o.Ae);return Ip(f)&&Ip(o.Ae)?Jw(m):gg(o.serializer,m)}(r,e)}function VD(r,e,t){return r instanceof du?tS(r,e):r instanceof mu?nS(r,e):t}function eS(r,e){return r instanceof Qh?function(s){return Ip(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Kh extends Sf{}class du extends Sf{constructor(e){super(),this.elements=e}}function tS(r,e){const t=rS(e);for(const s of r.elements)t.some(o=>Tr(o,s))||t.push(s);return{arrayValue:{values:t}}}class mu extends Sf{constructor(e){super(),this.elements=e}}function nS(r,e){let t=rS(e);for(const s of r.elements)t=t.filter(o=>!Tr(o,s));return{arrayValue:{values:t}}}class Qh extends Sf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function b0(r){return mt(r.integerValue||r.doubleValue)}function rS(r){return fg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function PD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?mo(s.elements,o.elements,Tr):s instanceof Qh&&o instanceof Qh?Tr(s.Ae,o.Ae):s instanceof Kh&&o instanceof Kh}(r.transform,e.transform)}class kD{constructor(e,t){this.version=e,this.transformResults=t}}class an{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bf{}function iS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yg(r.key,an.none()):new Su(r.key,r.data,an.none());{const t=r.data,s=sn.empty();let o=new Ct(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ss(r.key,s,new Tn(o.toArray()),an.none())}}function LD(r,e,t){r instanceof Su?function(o,u,f){const m=o.value.clone(),p=R0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ss?function(o,u,f){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=R0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(sS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function tu(r,e,t,s){return r instanceof Su?function(u,f,m,p){if(!_h(u.precondition,f))return m;const g=u.value.clone(),v=I0(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ss?function(u,f,m,p){if(!_h(u.precondition,f))return m;const g=I0(u.fieldTransforms,p,f),v=f.data;return v.setAll(sS(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(u,f,m){return _h(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,t)}function UD(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=eS(s.transform,o||null);u!=null&&(t===null&&(t=sn.empty()),t.set(s.field,u))}return t||null}function A0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,f)=>PD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Su extends bf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends bf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function R0(r,e,t){const s=new Map;ze(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,VD(f,m,t[o]))}return s}function I0(r,e,t){const s=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);s.set(o.field,MD(u,f,e))}return s}class yg extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aS extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&LD(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=tu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=tu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Zw();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=iS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(t,s)=>A0(t,s))&&mo(this.baseMutations,e.baseMutations,(t,s)=>A0(t,s))}}class _g{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return CD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new _g(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ue;function oS(r){switch(r){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function lS(r){if(r===void 0)return ri("GRPC error has no .code"),W.UNKNOWN;switch(r){case Et.OK:return W.OK;case Et.CANCELLED:return W.CANCELLED;case Et.UNKNOWN:return W.UNKNOWN;case Et.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Et.INTERNAL:return W.INTERNAL;case Et.UNAVAILABLE:return W.UNAVAILABLE;case Et.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Et.NOT_FOUND:return W.NOT_FOUND;case Et.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Et.ABORTED:return W.ABORTED;case Et.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Et.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:r})}}(Ue=Et||(Et={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new Yi([4294967295,4294967295],0);function C0(r){const e=BD().encode(r),t=new Tw;return t.update(e),new Uint8Array(t.digest())}function D0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yi([t,s],0),new Yi([o,u],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Yl(`Invalid padding: ${t}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Yi.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Yi.fromNumber(s)));return o.compare(HD)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=C0(e),[s,o]=D0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new vg(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const t=C0(e),[s,o]=D0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Af(Te.min(),o,new at(Me),si(),Ve())}}class bu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new bu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class uS{constructor(e,t){this.targetId=e,this.Ce=t}}class cS{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class O0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),s=Ve();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}}),new bu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=N0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FD{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=lh(),this.He=lh(),this.Ye=new at(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Dp(u))if(s===0){const f=new pe(u.path);this.et(t,f,kt.newNoDocument(f,Te.min()))}else ze(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=es(s).toUint8Array()}catch(p){if(p instanceof Mw)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vg(f,o,u)}catch(p){return fo(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Dp(m.target)){const p=new pe(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,kt.newNoDocument(p,e))}u.Be&&(t.set(f,u.ke()),u.qe())}});let s=Ve();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Af(e,t,this.Ye,this.je,s);return this.je=si(),this.Je=lh(),this.He=lh(),this.Ye=new at(Me),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new O0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ct(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ct(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new O0),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lh(){return new at(pe.comparator)}function N0(){return new at(pe.comparator)}const GD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QD={and:"AND",or:"OR"};class YD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(r,e){return r.useProto3Json||wu(e)?e:{value:e}}function Yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $D(r,e){return Yh(r,e.toTimestamp())}function wn(r){return ze(!!r,49232),Te.fromTimestamp(function(t){const s=Ji(t);return new tt(s.seconds,s.nanos)}(r))}function Eg(r,e){return Mp(r,e).canonicalString()}function Mp(r,e){const t=function(o){return new We(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function fS(r){const e=We.fromString(r);return ze(_S(e),10190,{key:e.toString()}),e}function $h(r,e){return Eg(r.databaseId,e.path)}function nu(r,e){const t=fS(e);if(t.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(mS(t))}function dS(r,e){return Eg(r.databaseId,e)}function XD(r){const e=fS(r);return e.length===4?We.emptyPath():mS(e)}function Vp(r){return new We(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mS(r){return ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function x0(r,e,t){return{name:$h(r,e),fields:t.value.mapValue.fields}}function WD(r,e){return"found"in e?function(s,o){ze(!!o.found,43571),o.found.name,o.found.updateTime;const u=nu(s,o.found.name),f=wn(o.found.updateTime),m=o.found.createTime?wn(o.found.createTime):Te.min(),p=new sn({mapValue:{fields:o.found.fields}});return kt.newFoundDocument(u,f,m,p)}(r,e):"missing"in e?function(s,o){ze(!!o.missing,3894),ze(!!o.readTime,22933);const u=nu(s,o.missing),f=wn(o.readTime);return kt.newNoDocument(u,f)}(r,e):_e(7234,{result:e})}function ZD(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(ze(v===void 0||typeof v=="string",58123),Kt.fromBase64String(v||"")):(ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Kt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const v=g.code===void 0?W.UNKNOWN:lS(g.code);return new le(v,g.message||"")}(f);t=new cS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nu(r,s.document.name),u=wn(s.document.updateTime),f=s.document.createTime?wn(s.document.createTime):Te.min(),m=new sn({mapValue:{fields:s.document.fields}}),p=kt.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new vh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nu(r,s.document),u=s.readTime?wn(s.readTime):Te.min(),f=kt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new vh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nu(r,s.document),u=s.removedTargetIds||[];t=new vh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new jD(o,u),m=s.targetId;t=new uS(m,f)}}return t}function pS(r,e){let t;if(e instanceof Su)t={update:x0(r,e.key,e.value)};else if(e instanceof yg)t={delete:$h(r,e.key)};else if(e instanceof ss)t={update:x0(r,e.key,e.data),updateMask:oO(e.fieldMask)};else{if(!(e instanceof aS))return _e(16599,{Vt:e.type});t={verify:$h(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Kh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$D(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)}(r,e.precondition)),t}function JD(r,e){return r&&r.length>0?(ze(e!==void 0,14353),r.map(t=>function(o,u){let f=o.updateTime?wn(o.updateTime):wn(u);return f.isEqual(Te.min())&&(f=wn(u)),new kD(f,o.transformResults||[])}(t,e))):[]}function eO(r,e){return{documents:[dS(r,e.path)]}}function tO(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=dS(r,o);const u=function(g){if(g.length!==0)return yS(Kn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:to(b.field),direction:iO(b.dir)}}(v))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=xp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function nO(r){let e=XD(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(T){const b=gS(T);return b instanceof Kn&&Hw(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(T){return T.map(b=>function(k){return new fu(no(k.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(T){let b;return b=typeof T=="object"?T.value:T,wu(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,O=T.values||[];return new Gh(O,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,O=T.values||[];return new Gh(O,b)}(t.endAt)),SD(e,o,f,u,m,"F",p,g)}function rO(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=no(t.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(t.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(t.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(r):r.fieldFilter!==void 0?function(t){return Tt.create(no(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Kn.create(t.compositeFilter.filters.map(s=>gS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(r):_e(30097,{filter:r})}function iO(r){return GD[r]}function sO(r){return KD[r]}function aO(r){return QD[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Gt.fromServerFormat(r.fieldPath)}function yS(r){return r instanceof Tt?function(t){if(t.op==="=="){if(v0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NAN"}};if(_0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NAN"}};if(_0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(t.field),op:sO(t.op),value:t.value}}}(r):r instanceof Kn?function(t){const s=t.getFilters().map(o=>yS(o));return s.length===1?s[0]:{compositeFilter:{op:aO(t.op),filters:s}}}(r):_e(54877,{filter:r})}function oO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _S(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,s,o,u=Te.min(),f=Te.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.yt=e}}function uO(r){const e=nO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.Cn=new hO}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Zi.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class hO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ct(We.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(vS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LruGarbageCollector",fO=1048576;function P0([r,e],[t,s]){const o=Me(r,t);return o===0?Me(e,s):o}class dO{constructor(e){this.Ir=e,this.buffer=new Ct(P0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();P0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(V0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?fe(V0,"Ignoring IndexedDB error during garbage collection: ",t):await Ro(t)}await this.Vr(3e5)})}}class pO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(vf.ce);const s=new dO(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(M0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),Ja()<=xe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function gO(r,e){return new pO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&tu(s.mutation,o,Tn.empty(),tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=Gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Gs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=si();const f=eu(),m=function(){return eu()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ss)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),tu(v.mutation,g,v.mutation.getFieldMask(),tt.now())):f.set(g.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),t.forEach((g,v)=>m.set(g,new _O(v,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=eu();let o=new at((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Tn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=Zw();v.forEach(b=>{if(!u.has(b)){const O=iS(t.get(b),s.get(b));O!==null&&T.set(b,O),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(Gs());let m=lu,p=u;return f.next(g=>te.forEach(g,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(v=>({batchId:m,changes:Ww(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(T,b){return new Co(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,b)=>{f=f.insert(T,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,kt.newInvalidDocument(v)))});let m=Ql();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&tu(v.mutation,g,Tn.empty(),tt.now()),wf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wn(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:uO(o.bundledQuery),readTime:wn(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.overlays=new at(pe.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Gs();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=Gs(),u=t.length+1,f=new pe(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new at((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Gs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return te.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qD(t,s));let u=this.qr.get(t);u===void 0&&(u=Ve(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.Qr=new Ct(Pt.$r),this.Ur=new Ct(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Pt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new pe(new We([])),s=new Pt(t,e),o=new Pt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new pe(new We([])),s=new Pt(t,e),o=new Pt(t,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Pt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return pe.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Pt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new zD(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?cg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(Me);return t.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new pe(u),0);let m=new Ct(Me);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),te.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(t.mutations,o=>{const u=new Pt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Pt(t,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.ri=e,this.docs=function(){return new at(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():kt.newInvalidDocument(t))}getEntries(e,t){let s=si();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():kt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=si();const f=t.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||tD(eD(v),s)<=0||(o.has(v.key)||wf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){_e(9500)}ii(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new AO(this)}getSize(e){return te.resolve(this.size)}}class AO extends yO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.persistence=e,this.si=new ra(t=>dg(t),mg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Tg,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.ui={},this.overlays={},this.ci=new vf(0),this.li=!1,this.li=!0,this.hi=new wO,this.referenceDelegate=e(this),this.Pi=new RO(this),this.indexManager=new cO,this.remoteDocumentCache=function(o){return new bO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new lO(t),this.Ii=new EO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new SO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new IO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class IO extends rD{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ri=new Tg,this.Vi=null}static mi(e){return new wg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const o=pe.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Te.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xh{constructor(e,t){this.persistence=e,this.pi=new ra(s=>aD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=gO(this,t)}static mi(e,t){return new Xh(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return te.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}br(e,t,s){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return bC()?8:iD(Zt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new CO;return this.Ss(e,t,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,f,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(Ja()<=xe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ja()<=xe.DEBUG&&fe("QueryEngine","Query:",eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=xe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):te.resolve())}ys(e,t){if(S0(t))return te.resolve(null);let s=mr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Np(t,null,"F"),s=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,m);return this.Cs(t,g,f,p.readTime)?this.ys(e,Np(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return S0(t)||o.isEqual(Te.min())?te.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(t,u);return this.Cs(t,f,s,o)?te.resolve(null):(Ja()<=xe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(t)),this.vs(e,f,t,J2(o,lu)).next(m=>m))})}Ds(e,t){let s=new Ct($w(e));return t.forEach((o,u)=>{wf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return Ja()<=xe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",eo(t)),this.ps.getDocumentsMatchingQuery(e,t,Zi.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="LocalStore",OO=3e8;class NO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new at(Me),this.xs=new ra(u=>dg(u),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function xO(r,e,t,s){return new NO(r,e,t,s)}async function TS(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function MO(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const T=g.batch,b=T.keys();let O=te.resolve();return b.forEach(k=>{O=O.next(()=>v.getEntry(p,k)).next(B=>{const U=g.docVersions.get(k);ze(U!==null,48541),B.version.compareTo(U)<0&&(T.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function wS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function VO(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((v,T)=>{const b=o.get(T);if(!b)return;m.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(u,v.addedDocuments,T)));let O=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(T,O),function(B,U,G){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=OO?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(b,O,v)&&m.push(t.Pi.updateTargetData(u,O))});let p=si(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(PO(u,f,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!s.isEqual(Te.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next(T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=o,u))}function PO(r,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=si();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(bg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function kO(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=cg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LO(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Pi.allocateTargetId(s).next(f=>(o=new Fi(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Pp(r,e,t){const s=Ae(r),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Io(f))throw f;fe(bg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function k0(r,e,t){const s=Ae(r);let o=Te.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const T=Ae(p),b=T.xs.get(v);return b!==void 0?te.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,v)}(s,f,mr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:Te.min(),t?u:Ve())).next(m=>(UO(s,AD(e),m),{documents:m,Qs:u})))}function UO(r,e,t){let s=r.Os.get(e)||Te.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class L0{constructor(){this.activeTargetIds=ND()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zO{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(U0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function kp(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",jO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const f=kp(),m=this.zo(e,t.toUriEncodedString());fe(ap,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=So(g);return this.Jo(e,m,p,s,v).then(T=>(fe(ap,`Received RPC '${e}' ${f}: `,T),T),T=>{throw fo(ap,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T})}Ho(e,t,s,o,u,f){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=jO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class FO extends BO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const f=kp();return new Promise((m,p)=>{const g=new ww;g.setWithCredentials(!0),g.listenOnce(Sw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const T=g.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case ph.TIMEOUT:fe(Xt,`RPC '${e}' ${f} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const b=g.getStatus();if(fe(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const k=O?.error;if(k&&k.status&&k.message){const B=function(G){const ie=G.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN}(k.status);p(new le(B,k.message))}else p(new le(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);fe(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(t,"POST",v,s,15)})}T_(e,t,s){const o=kp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Rw(),m=Aw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=f.createWebChannel(v,p);this.I_(T);let b=!1,O=!1;const k=new HO({Yo:U=>{O?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(b||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),B=(U,G,ie)=>{U.listen(G,Y=>{try{ie(Y)}catch(se){setTimeout(()=>{throw se},0)}})};return B(T,Kl.EventType.OPEN,()=>{O||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),k.o_())}),B(T,Kl.EventType.CLOSE,()=>{O||(O=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(T))}),B(T,Kl.EventType.ERROR,U=>{O||(O=!0,fo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),k.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))}),B(T,Kl.EventType.MESSAGE,U=>{if(!O){const G=U.data[0];ze(!!G,16349);const ie=G,Y=ie?.error||ie[0]?.error;if(Y){fe(Xt,`RPC '${e}' stream ${o} received error:`,Y);const se=Y.status;let re=function(A){const R=Et[A];if(R!==void 0)return lS(R)}(se),he=Y.message;re===void 0&&(re=W.INTERNAL,he="Unknown error status: "+se+" with message "+Y.message),O=!0,k.a_(new le(re,he)),T.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,G),k.u_(G)}}),B(m,bw.STAT_EVENT,U=>{U.stat===bp.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===bp.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r){return new YD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="PersistentStream";class SS{constructor(e,t,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ag(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fe(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GO extends SS{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?wn(f.readTime):Te.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=Dp(p)?{documents:eO(u,p)}:{query:tO(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=hS(u,f.resumeToken);const g=xp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Yh(u,f.snapshotVersion.toTimestamp());const g=xp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=rO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.q_(t)}}class KO extends SS{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=JD(e.writeResults,e.commitTime),s=wn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Vp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>pS(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{}class YO extends QO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Mp(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Mp(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class XO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{ia(this)&&(fe(Zs,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ea.add(4),await Au(g),g.Ra.set("Unknown"),g.Ea.delete(4),await If(g)}(this))})}),this.Ra=new $O(s,o)}}async function If(r){if(ia(r))for(const e of r.da)await e(!0)}async function Au(r){for(const e of r.da)await e(!1)}function bS(r,e){const t=Ae(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dg(t)?Cg(t):Do(t).O_()&&Ig(t,e))}function Rg(r,e){const t=Ae(r),s=Do(t);t.Ia.delete(e),s.O_()&&AS(t,e),t.Ia.size===0&&(s.O_()?s.L_():ia(t)&&t.Ra.set("Unknown"))}function Ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Do(r).Y_(e)}function AS(r,e){r.Va.Ue(e),Do(r).Z_(e)}function Cg(r){r.Va=new FD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Ra.ua()}function Dg(r){return ia(r)&&!Do(r).x_()&&r.Ia.size>0}function ia(r){return Ae(r).Ea.size===0}function RS(r){r.Va=void 0}async function WO(r){r.Ra.set("Online")}async function ZO(r){r.Ia.forEach((e,t)=>{Ig(r,e)})}async function JO(r,e){RS(r),Dg(r)?(r.Ra.ha(e),Cg(r)):r.Ra.set("Unknown")}async function eN(r,e,t){if(r.Ra.set("Online"),e instanceof cS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){fe(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wh(r,s)}else if(e instanceof vh?r.Va.Ze(e):e instanceof uS?r.Va.st(e):r.Va.tt(e),!t.isEqual(Te.min()))try{const s=await wS(r.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Kt.EMPTY_BYTE_STRING,v.snapshotVersion)),AS(u,p);const T=new Fi(v.target,p,g,v.sequenceNumber);Ig(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){fe(Zs,"Failed to raise snapshot:",s),await Wh(r,s)}}async function Wh(r,e,t){if(!Io(e))throw e;r.Ea.add(1),await Au(r),r.Ra.set("Offline"),t||(t=()=>wS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Zs,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await If(r)})}function IS(r,e){return e().catch(t=>Wh(r,t,e))}async function Cf(r){const e=Ae(r),t=ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;tN(e);)try{const o=await kO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,nN(e,o)}catch(o){await Wh(e,o)}CS(e)&&DS(e)}function tN(r){return ia(r)&&r.Ta.length<10}function nN(r,e){r.Ta.push(e);const t=ns(r);t.O_()&&t.X_&&t.ea(e.mutations)}function CS(r){return ia(r)&&!ns(r).x_()&&r.Ta.length>0}function DS(r){ns(r).start()}async function rN(r){ns(r).ra()}async function iN(r){const e=ns(r);for(const t of r.Ta)e.ea(t.mutations)}async function sN(r,e,t){const s=r.Ta.shift(),o=_g.from(s,e,t);await IS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Cf(r)}async function aN(r,e){e&&ns(r).X_&&await async function(s,o){if(function(f){return oS(f)&&f!==W.ABORTED}(o.code)){const u=s.Ta.shift();ns(s).B_(),await IS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(s)}}(r,e),CS(r)&&DS(r)}async function j0(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),fe(Zs,"RemoteStore received new credentials");const s=ia(t);t.Ea.add(3),await Au(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await If(t)}async function oN(r,e){const t=Ae(r);e?(t.Ea.delete(2),await If(t)):e||(t.Ea.add(2),await Au(t),t.Ra.set("Unknown"))}function Do(r){return r.ma||(r.ma=function(t,s,o){const u=Ae(t);return u.sa(),new GO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:WO.bind(null,r),t_:ZO.bind(null,r),r_:JO.bind(null,r),H_:eN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Dg(r)?Cg(r):r.Ra.set("Unknown")):(await r.ma.stop(),RS(r))})),r.ma}function ns(r){return r.fa||(r.fa=function(t,s,o){const u=Ae(t);return u.sa(),new KO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:rN.bind(null,r),r_:aN.bind(null,r),ta:iN.bind(null,r),na:sN.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Cf(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(Zs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Og(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(r,e){if(ri("AsyncQueue",`${e}: ${r}`),Io(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Ql(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.ga=new at(pe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class _o{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new _o(e,t,so.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uN{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=H0(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new le(W.ABORTED,"Firestore shutting down"))}}function H0(){return new ra(r=>Yw(r),Tf)}async function OS(r,e){const t=Ae(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new lN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=Ng(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&xg(t)}async function NS(r,e){const t=Ae(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function cN(r,e){const t=Ae(r);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&xg(t)}function hN(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function xg(r){r.Ca.forEach(e=>{e.next()})}var Lp,F0;(F0=Lp||(Lp={})).Ma="default",F0.Cache="cache";class xS{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class VS{constructor(e){this.key=e}}class fN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=$w(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new B0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const b=o.get(v),O=wf(this.query,T)?T:null,k=!!b&&this.mutatedKeys.has(b.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;b&&O?b.data.isEqual(O.data)?k!==B&&(s.track({type:3,doc:O}),U=!0):this.su(b,O)||(s.track({type:2,doc:O}),U=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!b&&O?(s.track({type:0,doc:O}),U=!0):b&&!O&&(s.track({type:1,doc:b}),U=!0,(p||g)&&(m=!0)),U&&(O?(f=f.add(O),u=B?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((v,T)=>function(O,k){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:U})}};return B(O)-B(k)}(v.type,T.type)||this.eu(v.doc,T.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new VS(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new MS(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mg="SyncEngine";class dN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mN{constructor(e){this.key=e,this.hu=!1}}class pN{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra(m=>Yw(m),Tf),this.Iu=new Map,this.Eu=new Set,this.du=new at(pe.comparator),this.Au=new Map,this.Ru=new Tg,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gN(r,e,t=!0){const s=qS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await PS(s,e,t,!0),o}async function yN(r,e){const t=qS(r);await PS(t,e,!0,!1)}async function PS(r,e,t,s){const o=await LO(r.localStore,mr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await _N(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&bS(r.remoteStore,o),m}async function _N(r,e,t,s,o){r.pu=(T,b,O)=>async function(B,U,G,ie){let Y=U.view.ru(G);Y.Cs&&(Y=await k0(B.localStore,U.query,!1).then(({documents:D})=>U.view.ru(D,Y)));const se=ie&&ie.targetChanges.get(U.targetId),re=ie&&ie.targetMismatches.get(U.targetId)!=null,he=U.view.applyChanges(Y,B.isPrimaryClient,se,re);return K0(B,U.targetId,he.au),he.snapshot}(r,T,b,O);const u=await k0(r.localStore,e,!0),f=new fN(e,u.Qs),m=f.ru(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);K0(r,t,g.au);const v=new dN(e,t,f);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function vN(r,e,t){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Tf(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Rg(s.remoteStore,o.targetId),Up(s,o.targetId)}).catch(Ro)):(Up(s,o.targetId),await Pp(s.localStore,o.targetId,!0))}async function EN(r,e){const t=Ae(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Rg(t.remoteStore,s.targetId))}async function TN(r,e,t){const s=CN(r);try{const o=await function(f,m){const p=Ae(f),g=tt.now(),v=m.reduce((O,k)=>O.add(k.key),Ve());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=si(),B=Ve();return p.Ns.getEntries(O,v).next(U=>{k=U,k.forEach((G,ie)=>{ie.isValidDocument()||(B=B.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,k)).next(U=>{T=U;const G=[];for(const ie of m){const Y=UD(ie,T.get(ie.key).overlayedDocument);Y!=null&&G.push(new ss(ie.key,Y,qw(Y.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,G,m)}).next(U=>{b=U;const G=U.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(O,U.batchId,G)})}).then(()=>({batchId:b.batchId,changes:Ww(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new at(Me)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,t),await Ru(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=Ng(o,"Failed to persist write");t.reject(u)}}async function kS(r,e){const t=Ae(r);try{const s=await VO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Au.get(u);f&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ze(f.hu,14607):o.removedDocuments.size>0&&(ze(f.hu,42227),f.hu=!1))}),await Ru(t,s,e)}catch(s){await Ro(s)}}function G0(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((v,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)}),g&&xg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wN(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new at(pe.comparator);f=f.insert(u,kt.newNoDocument(u,Te.min()));const m=Ve().add(u),p=new Af(Te.min(),new Map,new at(Me),f,m);await kS(s,p),s.du=s.du.remove(u),s.Au.delete(e),Vg(s)}else await Pp(s.localStore,e,!1).then(()=>Up(s,e,t)).catch(Ro)}async function SN(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await MO(t.localStore,e);US(t,s,null),LS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(t,o)}catch(o){await Ro(o)}}async function bN(r,e,t){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(ze(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);US(s,e,t),LS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ru(s,o)}catch(o){await Ro(o)}}function LS(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function US(r,e,t){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Up(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||zS(r,s)})}function zS(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Rg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Vg(r))}function K0(r,e,t){for(const s of t)s instanceof MS?(r.Ru.addReference(s.key,e),AN(r,s)):s instanceof VS?(fe(Mg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||zS(r,s.key)):_e(19791,{wu:s})}function AN(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(fe(Mg,"New document in limbo: "+t),r.Eu.add(s),Vg(r))}function Vg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new pe(We.fromString(e)),s=r.fu.next();r.Au.set(s,new mN(t)),r.du=r.du.insert(t,s),bS(r.remoteStore,new Fi(mr(pg(t.path)),s,"TargetPurposeLimboResolution",vf.ce))}}async function Ru(r,e,t){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Sg.As(p.targetId,g);u.push(v)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,b=>te.forEach(b.Es,O=>v.persistence.referenceDelegate.addReference(T,b.targetId,O)).next(()=>te.forEach(b.ds,O=>v.persistence.referenceDelegate.removeReference(T,b.targetId,O)))))}catch(T){if(!Io(T))throw T;fe(bg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const O=v.Ms.get(b),k=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(b,B)}}}(s.localStore,u))}async function RN(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){fe(Mg,"User change. New user:",e.toKey());const s=await TS(t.localStore,e);t.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new le(W.CANCELLED,f))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(t,s.Ls)}}function IN(r,e){const t=Ae(r),s=t.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=t.Iu.get(e);if(!u)return o;for(const f of u){const m=t.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function qS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wN.bind(null,e),e.Pu.H_=cN.bind(null,e.eventManager),e.Pu.yu=hN.bind(null,e.eventManager),e}function CN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xO(this.persistence,new DO,e.initialUser,this.serializer)}Cu(e){return new ES(wg.mi,this.serializer)}Du(e){return new zO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class DN extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ES(s=>Xh.mi(s,t),this.serializer)}}class zp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uN}()}createDatastore(e){const t=Rf(e.databaseInfo.databaseId),s=function(u){return new FO(u)}(e.databaseInfo);return function(u,f,m,p){return new YO(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new XO(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>G0(this.syncEngine,t,0),function(){return z0.v()?new z0:new qO}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,v){const T=new pN(o,u,f,m,p,g);return v&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ae(t);fe(Zs,"RemoteStore shutting down."),s.Ea.add(5),await Au(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(o,u){const f=Ae(o),m={documents:u.map(T=>$h(f.serializer,T))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,We.emptyPath(),m,u.length),g=new Map;p.forEach(T=>{const b=WD(f.serializer,T);g.set(b.key.toString(),b)});const v=[];return u.forEach(T=>{const b=g.get(T.toString());ze(!!b,55234,{key:T}),v.push(b)}),v}(this.datastore,e);return t.forEach(s=>this.recordVersion(s)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new yg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,s)=>{const o=pe.fromPath(s);this.mutations.push(new aS(o,this.precondition(o)))}),await async function(s,o){const u=Ae(s),f={writes:o.map(m=>pS(u.serializer,m))};await u.Go("Commit",u.serializer.databaseId,We.emptyPath(),f)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});t=Te.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new le(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Te.min())?an.exists(!1):an.updateTime(t):an.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Te.min()))throw new le(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(t)}return an.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Ag(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new ON(this.datastore),t=this.Hu(e);t&&t.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(o=>{this.Yu(o)}))}).catch(s=>{this.Yu(s)})})}Hu(e){try{const t=this.updateFunction(e);return!wu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!oS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class xN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ng(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function lp(r,e){r.asyncQueue.verifyOperationInProgress(),fe(rs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await TS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Q0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await MN(r);fe(rs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>j0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>j0(e.remoteStore,o)),r._onlineComponents=e}async function MN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(rs,"Using user provided OfflineComponentProvider");try{await lp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),await lp(r,new Zh)}}else fe(rs,"Using default OfflineComponentProvider"),await lp(r,new DN(void 0));return r._offlineComponents}async function Pg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(rs,"Using user provided OnlineComponentProvider"),await Q0(r,r._uninitializedComponentsProvider._online)):(fe(rs,"Using default OnlineComponentProvider"),await Q0(r,new zp))),r._onlineComponents}function VN(r){return Pg(r).then(e=>e.syncEngine)}function PN(r){return Pg(r).then(e=>e.datastore)}async function BS(r){const e=await Pg(r),t=e.eventManager;return t.onListen=gN.bind(null,e.syncEngine),t.onUnlisten=vN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EN.bind(null,e.syncEngine),t}function kN(r,e,t={}){const s=new dr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new jS({next:b=>{v.Nu(),f.enqueueAndForget(()=>NS(u,T));const O=b.docs.has(m);!O&&b.fromCache?g.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&b.fromCache&&p&&p.source==="server"?g.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new xS(pg(m.path),v,{includeMetadataChanges:!0,qa:!0});return OS(u,T)}(await BS(r),r.asyncQueue,e,t,s)),s.promise}function LN(r,e,t={}){const s=new dr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new jS({next:b=>{v.Nu(),f.enqueueAndForget(()=>NS(u,T)),b.fromCache&&p.source==="server"?g.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new xS(m,v,{includeMetadataChanges:!0,qa:!0});return OS(u,T)}(await BS(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="firestore.googleapis.com",$0=!0;class X0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FS,this.ssl=$0}else this.host=e.host,this.ssl=e.ssl??$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fO)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new B2;switch(s.type){case"firstParty":return new K2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Y0.get(t);s&&(fe("ComponentProvider","Removing Datastore"),Y0.delete(t),s.terminate())}(this),Promise.resolve()}}function UN(r,e,t,s={}){r=ii(r,Df);const o=So(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(dw(`https://${m}`),mw("Firestore",!0)),u.host!==FS&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!$s(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Wt.MOCK_USER;else{g=pC(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(T)}r._authCredentials=new H2(new Cw(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Tu(t,pt._jsonSchema))return new pt(e,s||null,new pe(We.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:wt("string",pt._jsonSchemaVersion),referencePath:wt("string")};class $i extends sa{constructor(e,t,s){super(e,t,pg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new pe(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function Oo(r,e,...t){if(r=Jt(r),Dw("collection","path",e),r instanceof Df){const s=We.fromString(e,...t);return u0(s),new $i(r,null,s)}{if(!(r instanceof pt||r instanceof $i))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(We.fromString(e,...t));return u0(s),new $i(r.firestore,null,s)}}function Iu(r,e,...t){if(r=Jt(r),arguments.length===1&&(e=ug.newId()),Dw("doc","path",e),r instanceof Df){const s=We.fromString(e,...t);return l0(s),new pt(r,null,new pe(s))}{if(!(r instanceof pt||r instanceof $i))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(We.fromString(e,...t));return l0(s),new pt(r.firestore,r instanceof $i?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ag(this,"async_queue_retry"),this._c=()=>{const s=op();s&&fe(W0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new dr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;fe(W0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",J0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Og.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function J0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class No extends Df{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function zN(r,e){const t=typeof r=="object"?r:_w(),s=typeof r=="string"?r:Hh,o=og(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=dC("firestore");u&&UN(o,...u)}return o}function Of(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qN(r),r._firestoreClient}function qN(r){const e=r._freezeSettings(),t=function(o,u,f,m){return new uD(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,HS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xN(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(Kt.fromBase64String(e))}catch(t){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new En(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:wt("string",En._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:wt("string",pr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new gr(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:wt("string",gr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=/^__.*__$/;class BN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new Su(e,this.data,t,this.fieldTransforms)}}class GS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class Lg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KS(this.Ac)&&jN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Rf(e)}Cc(e,t,s,o=!1){return new Lg({Ac:e,methodName:t,Dc:s,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xf(r){const e=r._freezeSettings(),t=Rf(r._databaseId);return new HN(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ug(r,e,t,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,t,o);zg("Data must be an object, but it was:",f,s);const m=QS(s,f);let p,g;if(u.merge)p=new Tn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=qp(e,T,t);if(!f.contains(b))throw new le(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$S(v,b)||v.push(b)}p=new Tn(v),g=f.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=f.fieldTransforms;return new BN(new sn(m),p,g)}class Mf extends kg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mf}}function FN(r,e,t,s){const o=r.Cc(1,e,t);zg("Data must be an object, but it was:",o,s);const u=[],f=sn.empty();is(s,(p,g)=>{const v=qg(e,p,t);g=Jt(g);const T=o.yc(v);if(g instanceof Mf)u.push(v);else{const b=Cu(g,T);b!=null&&(u.push(v),f.set(v,b))}});const m=new Tn(u);return new GS(f,m,o.fieldTransforms)}function GN(r,e,t,s,o,u){const f=r.Cc(1,e,t),m=[qp(e,s,t)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(qp(e,u[b])),p.push(u[b+1]);const g=[],v=sn.empty();for(let b=m.length-1;b>=0;--b)if(!$S(g,m[b])){const O=m[b];let k=p[b];k=Jt(k);const B=f.yc(O);if(k instanceof Mf)g.push(O);else{const U=Cu(k,B);U!=null&&(g.push(O),v.set(O,U))}}const T=new Tn(g);return new GS(v,T,f.fieldTransforms)}function KN(r,e,t,s=!1){return Cu(t,r.Cc(s?4:3,e))}function Cu(r,e){if(YS(r=Jt(r)))return zg("Unsupported field value:",e,r),QS(r,e);if(r instanceof kg)return function(s,o){if(!KS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Cu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:Yh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(s instanceof pr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof En)return{bytesValue:hS(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gr)return function(f,m){return{mapValue:{fields:{[Uw]:{stringValue:zw},[Fh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return gg(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${_f(s)}`)}(r,e)}function QS(r,e){const t={};return xw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(r,(s,o)=>{const u=Cu(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function YS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof pr||r instanceof En||r instanceof pt||r instanceof kg||r instanceof gr)}function zg(r,e,t){if(!YS(t)||!Ow(t)){const s=_f(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function qp(r,e,t){if((e=Jt(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return qg(r,e);throw Jh("Field path arguments must be of type string or ",r,!1,void 0,t)}const QN=new RegExp("[~\\*/\\[\\]]");function qg(r,e,t){if(e.search(QN)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nf(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Jh(r,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+r+p)}function $S(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YN extends ef{data(){return super.data()}}function Vf(r,e){return typeof e=="string"?qg(r,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class XS extends jg{}function WS(r,e,...t){let s=[];e instanceof jg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof Bg).length,m=u.filter(p=>p instanceof Pf).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Pf extends XS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Pf(e,t,s)}_apply(e){const t=this._parse(e);return ZS(e._query,t),new sa(e.firestore,e.converter,Op(e._query,t))}_parse(e){const t=xf(e.firestore);return function(u,f,m,p,g,v,T){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){nT(T,v);const k=[];for(const B of T)k.push(tT(p,u,B));b={arrayValue:{values:k}}}else b=tT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||nT(T,v),b=KN(m,f,T,v==="in"||v==="not-in");return Tt.create(g,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function eT(r,e,t){const s=e,o=Vf("where",r);return Pf._create(o,s,t)}class Bg extends jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)ZS(f,p),f=Op(f,p)}(e._query,t),new sa(e.firestore,e.converter,Op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends XS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hg(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,f)}(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Co(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function XN(r,e="asc"){const t=e,s=Vf("orderBy",r);return Hg._create(s,t)}function tT(r,e,t){if(typeof(t=Jt(t))=="string"){if(t==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qw(e)&&t.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(We.fromString(t));if(!pe.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return y0(r,new pe(s))}if(t instanceof pt)return y0(r,t._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function nT(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(r,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JS{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return is(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[Fh].arrayValue?.values?.map(s=>mt(s.doubleValue));return new gr(t)}convertGeoPoint(e){return new pr(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=We.fromString(e);ze(_S(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||ri(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class WN extends JS{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}class ro{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xi extends ef{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xi._jsonSchema={type:wt("string",Xi._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Eh extends Xi{data(e={}){return super.data(e)}}class ao{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Eh(this._firestore,this._userDataWriter,s.key,s,new ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:ZN(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r){r=ii(r,pt);const e=ii(r.firestore,No);return kN(Of(e),r._key).then(t=>ex(e,r,t))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:wt("string",ao._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Gg extends JS{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function kf(r){r=ii(r,sa);const e=ii(r.firestore,No),t=Of(e),s=new Gg(e);return $N(r._query),LN(t,r._query).then(o=>new ao(e,s,r,o))}function eb(r,e,t){r=ii(r,pt);const s=ii(r.firestore,No),o=Fg(r.converter,e,t);return nb(s,[Ug(xf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,an.none())])}function tb(r,e){const t=ii(r.firestore,No),s=Iu(r),o=Fg(r.converter,e);return nb(t,[Ug(xf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,an.exists(!1))]).then(()=>s)}function nb(r,e){return function(s,o){const u=new dr;return s.asyncQueue.enqueueAndForget(async()=>TN(await VN(s),o,u)),u.promise}(Of(r),e)}function ex(r,e,t){const s=t.docs.get(e._key),o=new Gg(r);return new Xi(r,o,e._key,s,new ro(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={maxAttempts:5};function $l(r,e){if((r=Jt(r)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xf(e)}get(e){const t=$l(e,this._firestore),s=new WN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||o.length!==1)return _e(24041);const u=o[0];if(u.isFoundDocument())return new ef(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new ef(this._firestore,s,t._key,null,t.converter);throw _e(18433,{doc:u})})}set(e,t,s){const o=$l(e,this._firestore),u=Fg(o.converter,t,s),f=Ug(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,t,s,...o){const u=$l(e,this._firestore);let f;return f=typeof(t=Jt(t))=="string"||t instanceof Nf?GN(this._dataReader,"Transaction.update",u._key,t,s,o):FN(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=$l(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx extends nx{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$l(e,this._firestore),s=new Gg(this._firestore);return super.get(e).then(o=>new Xi(this._firestore,s,t._key,o._document,new ro(!1,!1),t.converter))}}function ix(r,e,t){r=ii(r,No);const s={...tx,...t};return function(u){if(u.maxAttempts<1)throw new le(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,f,m){const p=new dr;return u.asyncQueue.enqueueAndForget(async()=>{const g=await PN(u);new NN(u.asyncQueue,g,m,f,p).ju()}),p.promise}(Of(r),o=>e(new rx(r,o)),s)}(function(e,t=!0){(function(o){Ao=o})(bo),ho(new Xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new No(new F2(s.getProvider("auth-internal")),new Q2(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Qi(i0,s0,e),Qi(i0,s0,"esm2020")})();var sx="firebase",ax="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(sx,ax,"app");function rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ox=rb,ib=new vu("auth","Firebase",rb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new sg("@firebase/auth");function lx(r,...e){tf.logLevel<=xe.WARN&&tf.warn(`Auth (${bo}): ${r}`,...e)}function Th(r,...e){tf.logLevel<=xe.ERROR&&tf.error(`Auth (${bo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,...e){throw Kg(r,...e)}function yr(r,...e){return Kg(r,...e)}function sb(r,e,t){const s={...ox(),[e]:t};return new vu("auth","Firebase",s).create(e,{appName:r.name})}function Ks(r){return sb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return ib.create(r,...e)}function Se(r,e,...t){if(!r)throw Kg(e,...t)}function Xr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function oi(r,e){r||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){return typeof self<"u"&&self.location?.href||""}function ux(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ux()||TC()||"connection"in navigator)?navigator.onLine:!0}function hx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=_C()||wC()}get(){return cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(r,e){oi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mx=new Du(3e4,6e4);function Yg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function xo(r,e,t,s,o={}){return ob(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Eu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return EC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(g.credentials="include"),ab.fetch()(await lb(r,r.config.apiHost,t,m),g)})}async function ob(r,e,t){r._canInitEmulator=!1;const s={...fx,...e};try{const o=new gx(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ch(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ch(r,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw sb(r,v,g);ai(r,v)}}catch(o){if(o instanceof ui)throw o;ai(r,"network-request-failed",{message:String(o)})}}async function px(r,e,t,s,o={}){const u=await xo(r,e,t,s,o);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function lb(r,e,t,s){const o=`${e}${t}?${s}`,u=r,f=u.config.emulator?Qg(r.config,o):`${r.config.apiScheme}://${o}`;return dx.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class gx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(yr(this.auth,"network-request-failed")),mx.get())})}}function ch(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=yr(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(r,e){return xo(r,"POST","/v1/accounts:delete",e)}async function nf(r,e){return xo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _x(r,e=!1){const t=Jt(r),s=await t.getIdToken(e),o=$g(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ru(up(o.auth_time)),issuedAtTime:ru(up(o.iat)),expirationTime:ru(up(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function up(r){return Number(r)*1e3}function $g(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=uw(t);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function iT(r){const e=$g(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ui&&vx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(r){const e=r.auth,t=await r.getIdToken(),s=await pu(r,nf(e,{idToken:t}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ub(o.providerUserInfo):[],f=wx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function Tx(r){const e=Jt(r);await rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ub(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(r,e){const t=await ob(r,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await lb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),ab.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bx(r,e){return xo(r,"POST","/v2/accounts:revokeToken",Yg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=iT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await Sx(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new oo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Ex(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _x(this,e)}reload(){return Tx(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await rf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await pu(this,yx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:O,providerData:k,stsTokenManager:B}=t;Se(T&&B,e,"internal-error");const U=oo.fromJSON(this.name,B);Se(typeof T=="string",e,"internal-error"),zi(s,e.name),zi(o,e.name),Se(typeof b=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),zi(u,e.name),zi(f,e.name),zi(m,e.name),zi(p,e.name),zi(g,e.name),zi(v,e.name);const G=new Gn({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(G.providerData=k.map(ie=>({...ie}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,t,s=!1){const o=new oo;o.updateFromServerResponse(t);const u=new Gn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await rf(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ub(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function Wr(r){oi(r instanceof Function,"Expected a class definition");let e=sT.get(r);return e?(oi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cb.type="NONE";const aT=cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e,t){return`firebase:${r}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nf(this.auth,{idToken:e}).catch(()=>{});return t?Gn._fromGetAccountInfoResponse(this.auth,t,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(Wr(aT),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wr(aT);const f=wh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const b=await nf(e,{idToken:v}).catch(()=>{});if(!b)break;T=await Gn._fromGetAccountInfoResponse(e,b,v)}else T=Gn._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gb(e))return"Blackberry";if(yb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||db(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function hb(r=Zt()){return/firefox\//i.test(r)}function fb(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function db(r=Zt()){return/crios\//i.test(r)}function mb(r=Zt()){return/iemobile/i.test(r)}function pb(r=Zt()){return/android/i.test(r)}function gb(r=Zt()){return/blackberry/i.test(r)}function yb(r=Zt()){return/webos/i.test(r)}function Xg(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Ax(r=Zt()){return Xg(r)&&!!window.navigator?.standalone}function Rx(){return SC()&&document.documentMode===10}function _b(r=Zt()){return Xg(r)||pb(r)||yb(r)||gb(r)||/windows phone/i.test(r)||mb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r,e=[]){let t;switch(r){case"Browser":t=oT(Zt());break;case"Worker":t=`${oT(Zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(r,e={}){return xo(r,"GET","/v2/passwordPolicy",Yg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=6;class Ox{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Dx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ib,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nf(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ks(this));const t=e?Jt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cx(this),t=new Ox(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await bx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wg(r){return Jt(r)}class lT{constructor(e){this.auth=e,this.observer=null,this.addObserver=NC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xx(r){Zg=r}function Mx(r){return Zg.loadJS(r)}function Vx(){return Zg.gapiScript}function Px(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r,e){const t=og(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if($s(u,e??{}))return o;ai(o,"already-initialized")}return t.initialize({options:e})}function Lx(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Wr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Ux(r,e,t){const s=Wg(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Eb(e),{host:f,port:m}=zx(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se($s(g,s.config.emulator)&&$s(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,So(f)?(dw(`${u}//${f}${p}`),mw("Auth",!0)):qx()}function Eb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zx(r){const e=Eb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:uT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:uT(f)}}}function uT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return px(r,"POST","/v1/accounts:signInWithIdp",Yg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="http://localhost";class Js extends Tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ou{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Js._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ji.credential(t,s)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Ou{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ou{constructor(){super("twitter.com")}static credential(e,t){return Js._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Hi.credential(t,s)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),f=cT(s);return new vo({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=cT(s);return new vo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function cT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends ui{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new sf(e,t,s,o)}}function Sb(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(r,u,e,s):u})}async function Bx(r,e,t=!1){const s=await pu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return vo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(r,e,t=!1){const{auth:s}=r;if(fr(s.app))return Promise.reject(Ks(s));const o="reauthenticate";try{const u=await pu(r,Sb(s,o,e,r),t);Se(u.idToken,s,"internal-error");const f=$g(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),vo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(r,e,t=!1){if(fr(r.app))return Promise.reject(Ks(r));const s="signIn",o=await Sb(r,s,e),u=await vo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function Gx(r,e,t,s){return Jt(r).onIdTokenChanged(e,t,s)}function Kx(r,e,t){return Jt(r).beforeAuthStateChanged(e,t)}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1e3,Yx=10;class Ab extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Rx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Yx):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ab.type="LOCAL";const $x=Ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rb.type="SESSION";const Ib=Rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await Xx(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Jg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function Zx(r){_r().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function Jx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eM(){return navigator?.serviceWorker?.controller||null}function tM(){return Cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebaseLocalStorageDb",nM=1,of="firebaseLocalStorage",Ob="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uf(r,e){return r.transaction([of],e?"readwrite":"readonly").objectStore(of)}function rM(){const r=indexedDB.deleteDatabase(Db);return new Nu(r).toPromise()}function Hp(){const r=indexedDB.open(Db,nM);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(of,{keyPath:Ob})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(of)?e(s):(s.close(),await rM(),e(await Hp()))})})}async function hT(r,e,t){const s=Uf(r,!0).put({[Ob]:e,value:t});return new Nu(s).toPromise()}async function iM(r,e){const t=Uf(r,!1).get(e),s=await new Nu(t).toPromise();return s===void 0?null:s.value}function fT(r,e){const t=Uf(r,!0).delete(e);return new Nu(t).toPromise()}const sM=800,aM=3;class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>aM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(tM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Jx(),!this.activeServiceWorker)return;this.sender=new Wx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await hT(e,af,"1"),await fT(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>hT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>iM(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nb.type="LOCAL";const oM=Nb;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(r,e){return e?Wr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uM(r){return Fx(r.auth,new ey(r),r.bypassAuthState)}function cM(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),Hx(t,new ey(r),r.bypassAuthState)}async function hM(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),Bx(t,new ey(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uM;case"linkViaPopup":case"linkViaRedirect":return hM;case"reauthViaPopup":case"reauthViaRedirect":return cM;default:ai(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Du(2e3,1e4);class io extends xb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=Jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fM.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="pendingRedirect",Sh=new Map;class mM extends xb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await pM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pM(r,e){const t=_M(e),s=yM(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function gM(r,e){Sh.set(r._key(),e)}function yM(r){return Wr(r._redirectPersistence)}function _M(r){return wh(dM,r.config.apiKey,r.name)}async function vM(r,e,t=!1){if(fr(r.app))return Promise.reject(Ks(r));const s=Wg(r),o=lM(s,e),f=await new mM(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=600*1e3;class TM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Mb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(yr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EM&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(e))}saveEventToCache(e){this.cachedEventUids.add(dT(e)),this.lastProcessedEventTime=Date.now()}}function dT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Mb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function wM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(r,e={}){return xo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AM=/^https?/;async function RM(r){if(r.config.emulator)return;const{authorizedDomains:e}=await SM(r);for(const t of e)try{if(IM(t))return}catch{}ai(r,"unauthorized-domain")}function IM(r){const e=jp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!AM.test(t))return!1;if(bM.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=new Du(3e4,6e4);function mT(){const r=_r().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function DM(r){return new Promise((e,t)=>{function s(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),t(yr(r,"network-request-failed"))},timeout:CM.get()})}if(_r().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_r().gapi?.load)s();else{const o=Px("iframefcb");return _r()[o]=()=>{gapi.load?s():t(yr(r,"network-request-failed"))},Mx(`${Vx()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw bh=null,e})}let bh=null;function OM(r){return bh=bh||DM(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Du(5e3,15e3),xM="__/auth/iframe",MM="emulator/auth/iframe",VM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kM(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Qg(e,MM):`https://${r.config.authDomain}/${xM}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=PM.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Eu(s).slice(1)}`}async function LM(r){const e=await OM(r),t=_r().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:kM(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=yr(r,"network-request-failed"),m=_r().setTimeout(()=>{u(f)},NM.get());function p(){_r().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zM=500,qM=600,jM="_blank",BM="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HM(r,e,t,s=zM,o=qM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...UM,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();t&&(m=db(g)?jM:t),hb(g)&&(e=e||BM,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[O,k])=>`${b}${O}=${k},`,"");if(Ax(g)&&m!=="_self")return FM(e||"",m),new pT(null);const T=window.open(e||"",m,v);Se(T,r,"popup-blocked");try{T.focus()}catch{}return new pT(T)}function FM(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="__/auth/handler",KM="emulator/auth/handler",QM=encodeURIComponent("fac");async function gT(r,e,t,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:bo,eventId:o};if(e instanceof wb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",OC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof Ou){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${QM}=${encodeURIComponent(p)}`:"";return`${YM(r)}?${Eu(m).slice(1)}${g}`}function YM({config:r}){return r.emulator?Qg(r,KM):`https://${r.authDomain}/${GM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class $M{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ib,this._completeRedirectFn=vM,this._overrideRedirectResult=gM}async _openPopup(e,t,s,o){oi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gT(e,t,s,jp(),o);return HM(e,u,Jg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await gT(e,t,s,jp(),o);return Zx(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await LM(e),s=new TM(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cp,{type:cp},o=>{const u=o?.[0]?.[cp];u!==void 0&&t(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _b()||fb()||Xg()}}const XM=$M;var yT="@firebase/auth",_T="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JM(r){ho(new Xs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(r)},g=new Nx(s,o,u,p);return Lx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ho(new Xs("auth-internal",e=>{const t=Wg(e.getProvider("auth").getImmediate());return(s=>new WM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(yT,_T,ZM(r)),Qi(yT,_T,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=300,tV=fw("authIdTokenMaxAge")||eV;let vT=null;const nV=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>tV)return;const o=t?.token;vT!==o&&(vT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rV(r=_w()){const e=og(r,"auth");if(e.isInitialized())return e.getImmediate();const t=kx(r,{popupRedirectResolver:XM,persistence:[oM,$x,Ib]}),s=fw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=nV(u.toString());Kx(t,f,()=>f(t.currentUser)),Gx(t,m=>f(m))}}const o=cw("auth");return o&&Ux(t,`http://${o}`),t}function iV(){return document.getElementsByTagName("head")?.[0]??document}xx({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=yr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",iV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JM("Browser");const sV={apiKey:"AIzaSyD0J6T43PLdDaL2AG56ePG7RUymiH4VgkM",authDomain:"java61-a764a.firebaseapp.com",projectId:"java61-a764a",storageBucket:"java61-a764a.firebasestorage.app",messagingSenderId:"86762858376",appId:"1:86762858376:web:9e1e2619c62b0faff93c3d",measurementId:"G-YDLRFMJVYH"},Vb=yw(sV),Qn=zN(Vb);rV(Vb);const aV={scores:{score:0}},Ah=na("user/fetchScoreUpdateDB",async({price:r,id:e})=>{const t=Iu(Qn,"users",e);return await ix(Qn,async o=>{const u=await o.get(t);if(!u.exists())throw new Error("User not found");const m=(u.data()?.score??0)+r;return o.update(t,{score:m}),m})}),Pb=gf({name:"score",initialState:aV,reducers:{changeScore:(r,e)=>{r.scores.score=e.payload}},extraReducers:r=>{r.addCase(Ah.pending,e=>{e.scores={score:NaN}}).addCase(Ah.fulfilled,(e,{payload:t})=>{e.scores={score:t}}).addCase(Ah.rejected,()=>{console.log("Error!")})}}),{changeScore:kb}=Pb.actions,oV=Pb.reducer,Fp=[{title:"JavaScript",questions:[{price:100,question:"Что такое переменная в JavaScript и как её объявить?",answer:"Именованное хранилище данных, объявляется через var, let или const."},{price:100,question:"Какие примитивные типы данных существуют в JavaScript?",answer:"string, number, boolean, null, undefined, symbol, bigint."},{price:100,question:"Что такое оператор typeof и как его использовать?",answer:"Оператор для определения типа значения, например typeof 5 вернёт 'number'."},{price:100,question:"Что вернёт typeof null?",answer:"object (историческая особенность JavaScript)."},{price:100,question:"Что делает 'use strict' в JavaScript?",answer:"Включает строгий режим, который предотвращает некоторые ошибки и запрещает неявные глобальные переменные."},{price:200,question:"Чем отличается let от var?",answer:"let имеет блочную область видимости, var — функциональную."},{price:200,question:"Чем отличается const от let?",answer:"const создаёт константу, значение нельзя переназначить; let позволяет менять значение."},{price:200,question:"Что такое массив и как проверить, что значение — массив?",answer:"Упорядоченная коллекция элементов; проверка через Array.isArray(value)."},{price:200,question:"Что делает метод forEach в массиве?",answer:"Перебирает все элементы массива и выполняет функцию для каждого элемента."},{price:200,question:"Что делает метод filter в массиве?",answer:"Создаёт новый массив с элементами, которые прошли проверку в функции."},{price:300,question:"Что такое замыкание (closure) в JavaScript?",answer:"Функция, которая запоминает своё лексическое окружение."},{price:300,question:"Что делает метод map в массиве?",answer:"Создаёт новый массив, применяя функцию к каждому элементу исходного массива."},{price:300,question:"Что такое деструктуризация объектов и массивов?",answer:"Синтаксис для извлечения значений из объектов или массивов в отдельные переменные."},{price:300,question:"Что такое стрелочные функции и их отличие от обычных?",answer:"Короткий синтаксис функции, не имеющей собственного this."},{price:300,question:"Что такое шаблонные строки и как использовать?",answer:"Строки с интерполяцией через `${}` для вставки выражений."},{price:400,question:"Что такое hoisting в JavaScript?",answer:"Поднятие объявлений переменных и функций в начало области видимости."},{price:400,question:"Что делает метод reduce в массиве?",answer:"Сводит массив к одному значению, применяя аккумуляторную функцию."},{price:400,question:"Что такое JSON и для чего используется?",answer:"Формат обмена данными, основанный на синтаксисе JS-объектов."},{price:400,question:"Что такое event loop и как он работает?",answer:"Механизм обработки асинхронных операций, событий и очередей в JS."},{price:400,question:"Что такое call stack и как он связан с выполнением функций?",answer:"Стек вызовов функций, отслеживает порядок выполнения и возврат результата."},{price:500,question:"Что такое прототипное наследование?",answer:"Механизм, при котором объекты наследуют свойства и методы через __proto__ или Object.create."},{price:500,question:"Что такое промис и его состояния?",answer:"Объект для асинхронных операций со статусами pending, fulfilled, rejected."},{price:500,question:"Что такое async/await и как использовать?",answer:"Синтаксис для работы с промисами как с синхронным кодом."},{price:500,question:"Что такое генераторы (function*) и yield?",answer:"Функции, выполнение которых можно приостанавливать через yield и возобновлять."},{price:500,question:"Что такое WeakMap и WeakSet и зачем нужны?",answer:"Коллекции, хранящие объекты без предотвращения их удаления сборщиком мусора."}]},{title:"TypeScript",questions:[{price:100,question:"Что такое TypeScript и зачем он нужен?",answer:"Надстройка над JS с типизацией для раннего обнаружения ошибок."},{price:100,question:"Как объявить переменную типа string?",answer:"let name: string;"},{price:100,question:"Какие базовые типы есть в TypeScript?",answer:"string, number, boolean, null, undefined, symbol, bigint, any, unknown, void, never."},{price:100,question:"Что такое any и когда его использовать?",answer:"Любой тип, отключает проверку; использовать редко."},{price:100,question:"Что такое unknown и чем отличается от any?",answer:"Безопасный аналог any, требует проверки типа перед использованием."},{price:200,question:"Что такое tuple и как его объявить?",answer:"Массив фиксированной длины с разными типами: let t: [string, number];"},{price:200,question:"Что такое enum и как его использовать?",answer:"Перечисление именованных констант."},{price:200,question:"Чем interface отличается от type?",answer:"interface можно расширять и реализовывать, type — алиас типов, гибкий в объединениях и пересечениях."},{price:200,question:"Что такое union-тип?",answer:"Переменная может иметь один из нескольких типов."},{price:200,question:"Что такое intersection-тип?",answer:"Комбинирует несколько типов в один."},{price:300,question:"Что такое generics и зачем их используют?",answer:"Параметры типов для универсальных функций и классов."},{price:300,question:"Что такое keyof и как его применять?",answer:"Оператор для получения ключей объекта как типов."},{price:300,question:"Что такое mapped types?",answer:"Преобразование свойств типа: { [K in keyof T]: ... }"},{price:300,question:"Что такое conditional types?",answer:"Типы вида T extends U ? X : Y."},{price:300,question:"Что такое type assertion (as) и зачем использовать?",answer:"Приведение типа значения к другому типу."},{price:400,question:"Что такое Partial и Readonly типы?",answer:"Утилитарные типы для изменения свойств объекта: Partial делает опциональными, Readonly — только для чтения."},{price:400,question:"Что такое type narrowing?",answer:"Сужение типов через проверки (typeof, instanceof, проверку на null и т.п.)."},{price:400,question:"Что такое never и где используется?",answer:"Тип для значений, которые никогда не происходят (ошибка или бесконечный цикл)."},{price:400,question:"Что такое void и где используется?",answer:"Тип функции, не возвращающей значение."},{price:400,question:"Что такое декларации ambient-модулей?",answer:"Файлы .d.ts с типами для внешних библиотек."},{price:500,question:"Что такое infer в условных типах?",answer:"Ключевое слово для вывода типов внутри условных типов."},{price:500,question:"Что такое utility types и примеры их использования?",answer:"Partial, Pick, Omit, Readonly, Record — позволяют менять и комбинировать свойства типов."},{price:500,question:"Что такое template literal types?",answer:"Типы, формируемые через шаблонные строки, например type T = `${string}-${number}`;"},{price:500,question:"Что такое declaration merging?",answer:"Объединение нескольких деклараций с одним именем, например интерфейсов."},{price:500,question:"Как работает type guards?",answer:"Функции или проверки, которые сужают тип переменной."}]},{title:"React",questions:[{price:100,question:"Что такое компонент в React?",answer:"Функция или класс, возвращающий JSX."},{price:100,question:"Что такое JSX?",answer:"Синтаксис для описания UI в виде HTML-подобного кода."},{price:100,question:"Что такое props?",answer:"Входные параметры компонента."},{price:100,question:"Что такое state?",answer:"Состояние компонента, влияющее на рендер."},{price:100,question:"Что делает ReactDOM.render?",answer:"Метод рендеринга компонента в DOM."},{price:200,question:"Что делает useState и как его использовать?",answer:"Хук для хранения и обновления состояния функционального компонента."},{price:200,question:"Что делает useEffect и когда вызывается?",answer:"Хук для побочных эффектов, вызывается после рендера компонента."},{price:200,question:"Что такое controlled component?",answer:"Компонент, управляющий значениями через state и props."},{price:200,question:"Что такое uncontrolled component?",answer:"Компонент, который хранит состояние в DOM, а не в state."},{price:200,question:"Что такое key в списках и зачем нужен?",answer:"Уникальный идентификатор для оптимизации рендера списков."},{price:300,question:"Что такое lifting state up?",answer:"Поднятие состояния на уровень выше для совместного использования между компонентами."},{price:300,question:"Что такое React.memo?",answer:"HOC для мемоизации функциональных компонентов, предотвращает лишний рендер."},{price:300,question:"Что делает useCallback?",answer:"Мемоизация функций между рендерами."},{price:300,question:"Что делает useMemo?",answer:"Мемоизация вычислений между рендерами."},{price:300,question:"Что делает useRef и где применяют?",answer:"Хук для хранения изменяемых значений без перерендера."},{price:400,question:"Что такое context API и как его использовать?",answer:"Механизм передачи данных через дерево компонентов без пропсов."},{price:400,question:"Что такое virtual DOM и зачем нужен?",answer:"Копия DOM в памяти для эффективного обновления UI."},{price:400,question:"Что такое reconciliation?",answer:"Алгоритм React для сравнения virtual DOM и реального DOM."},{price:400,question:"Что такое Suspense и lazy-loading?",answer:"Механизм для асинхронной загрузки компонентов."},{price:400,question:"Что такое server-side rendering (SSR)?",answer:"Рендеринг React на сервере перед отправкой клиенту."},{price:500,question:"Что такое HOC и для чего используется?",answer:"Функция, принимающая компонент и возвращающая новый с расширенными возможностями."},{price:500,question:"Что такое render props?",answer:"Техника передачи функции для рендера внутри компонента."},{price:500,question:"Что такое React Fiber?",answer:"Архитектура React для асинхронного и приоритетного рендера."},{price:500,question:"Что такое portals?",answer:"Механизм рендеринга дочерних компонентов вне DOM-дерева родителя."},{price:500,question:"Что такое error boundaries?",answer:"Компоненты, ловящие ошибки в дереве компонентов и предотвращающие крах приложения."}]},{title:"Redux",questions:[{price:100,question:"Что такое Redux?",answer:"Библиотека для управления состоянием приложения."},{price:100,question:"Что такое action и его структура?",answer:"Объект с обязательным type, описывающий изменение состояния."},{price:100,question:"Что такое reducer?",answer:"Функция, вычисляющая новое состояние на основе action."},{price:100,question:"Что такое store?",answer:"Центральное хранилище состояния приложения."},{price:100,question:"Что делает dispatch?",answer:"Отправляет action в store для изменения состояния."},{price:200,question:"Что такое middleware?",answer:"Функция, расширяющая dispatch и позволяющая выполнять побочные эффекты."},{price:200,question:"Что делает combineReducers?",answer:"Объединяет несколько редьюсеров в один."},{price:200,question:"Что делает subscribe в Redux?",answer:"Позволяет подписаться на изменения состояния store."},{price:200,question:"Что такое selector?",answer:"Функция для выборки данных из состояния store."},{price:200,question:"Что такое pure function и почему редьюсер должен быть таким?",answer:"Функция без побочных эффектов; редьюсер должен возвращать новое состояние без мутаций."},{price:300,question:"Что такое immutability и зачем оно нужно в Redux?",answer:"Неприменяемость объектов; обеспечивает предсказуемость и детектирование изменений."},{price:300,question:"Что такое DevTools для Redux?",answer:"Инструменты разработчика для отладки состояния приложения."},{price:300,question:"Что делает bindActionCreators?",answer:"Оборачивает action creators в dispatch для удобства вызова."},{price:300,question:"Что такое thunk?",answer:"Middleware для работы с асинхронным кодом."},{price:300,question:"Что такое saga?",answer:"Middleware для управления побочными эффектами через генераторы."},{price:400,question:"Что такое normalize state?",answer:"Приведение состояния к плоской структуре для удобства работы."},{price:400,question:"Что такое reselect и зачем использовать?",answer:"Библиотека для мемоизированных селекторов."},{price:400,question:"Что такое optimistic update?",answer:"Предварительное обновление UI до ответа сервера."},{price:400,question:"В чём отличие Redux от Context API?",answer:"Redux масштабируемее, предоставляет DevTools и middleware, Context API проще для маленьких приложений."},{price:400,question:"Что такое Flux и как он связан с Redux?",answer:"Архитектурный паттерн с однонаправленным потоком данных, на котором основан Redux."},{price:500,question:"Какие альтернативы Redux существуют?",answer:"MobX, Zustand, Recoil, Jotai."},{price:500,question:"Что такое middleware listener?",answer:"Позволяет реагировать на события store при изменении состояния."},{price:500,question:"Что такое optimistic concurrency в Redux?",answer:"Обновление состояния с учётом возможных конфликтов с сервером."},{price:500,question:"Что такое batch update?",answer:"Объединение нескольких изменений состояния в одно обновление."},{price:500,question:"Что такое hydration в Redux?",answer:"Загрузка состояния на клиенте из серверного рендера."}]},{title:"RTK",questions:[{price:100,question:"Что такое Redux Toolkit (RTK)?",answer:"Официальный набор инструментов для упрощения работы с Redux."},{price:100,question:"Что делает configureStore?",answer:"Создаёт store с правильной конфигурацией middleware и devtools."},{price:100,question:"Что такое createSlice?",answer:"Функция для создания редьюсера и action creators в одном месте."},{price:100,question:"Что такое createAsyncThunk?",answer:"Функция для создания асинхронных действий с автоматической обработкой pending/fulfilled/rejected."},{price:100,question:"Что делает getDefaultMiddleware?",answer:"Возвращает набор middleware по умолчанию для RTK."},{price:200,question:"Что такое RTK Query?",answer:"Инструмент для работы с серверными данными в Redux."},{price:200,question:"Что такое endpoint в RTK Query?",answer:"Определяет метод запроса к серверу и его тип (query/mutation)."},{price:200,question:"Что такое mutation в RTK Query?",answer:"Запрос на изменение данных на сервере."},{price:200,question:"Что такое query в RTK Query?",answer:"Запрос на получение данных с сервера."},{price:200,question:"Что делает providesTags и invalidatesTags?",answer:"Помогает управлять кешированием и обновлением данных."},{price:300,question:"Что такое cache invalidation?",answer:"Механизм обновления кеша после мутаций."},{price:300,question:"Что такое polling в RTK Query?",answer:"Автоматическое обновление данных через интервалы."},{price:300,question:"Что такое lazy query?",answer:"Запрос, который выполняется вручную по вызову функции."},{price:300,question:"Что делает middleware listener в RTK?",answer:"Позволяет реагировать на события в store."},{price:300,question:"Что такое matchers в RTK?",answer:"Позволяет обрабатывать несколько action по условию."},{price:400,question:"Чем RTK отличается от классического Redux?",answer:"Упрощает конфигурацию, уменьшает шаблонный код, поддерживает Immer."},{price:400,question:"Что такое optimistic update в RTK Query?",answer:"Предварительное обновление состояния до ответа сервера."},{price:400,question:"Что такое transformResponse?",answer:"Позволяет изменять данные ответа перед сохранением в store."},{price:400,question:"Что такое keepUnusedDataFor?",answer:"Настройка времени хранения неиспользуемых данных в кеше."},{price:400,question:"Что такое refetchOnMount?",answer:"Настройка повторного запроса данных при монтировании компонента."},{price:500,question:"Что такое optimistic concurrency в RTK?",answer:"Обновление состояния с учётом возможных конфликтов с сервером."},{price:500,question:"Что такое invalidationTags и как они помогают?",answer:"Позволяют автоматически обновлять кеш после мутаций."},{price:500,question:"Что такое createEntityAdapter?",answer:"Утилита для управления коллекциями сущностей в store."},{price:500,question:"Что такое prefetch в RTK Query?",answer:"Заранее загружает данные до их фактического использования."},{price:500,question:"Что такое enhancedReducers?",answer:"Редьюсеры с дополнительной логикой, например undo/redo."}]}],lV={topics:[],selectedIndexByTitleAndPrice:{},answeredStatusByTitleAndPrice:{}},Gp=na("topics/fetchTopics",async()=>{const r=await kf(Oo(Qn,"topics")),e=[];return r.forEach(t=>{const s=t.data();e.push({title:s.title,questions:s.questions})}),e}),uV=na("topics/seedTopics",async()=>{const r=Fp.map(e=>eb(Iu(Qn,"topics",e.title),e));await Promise.all(r)}),Lb=gf({name:"topics",initialState:lV,reducers:{initializeBoard(r,e){const t=e.payload??r.topics,s=[100,200,300,400,500],o={};t.forEach(u=>{const f={};u.questions.forEach((m,p)=>{f[m.price]||(f[m.price]=[]),f[m.price].push(p)}),o[u.title]={},s.forEach(m=>{const p=f[m]||[];if(p.length>0){const g=Math.floor(Math.random()*p.length);o[u.title][m]=p[g]}})}),r.selectedIndexByTitleAndPrice=o,r.answeredStatusByTitleAndPrice={}},markAnswered(r,e){const{title:t,price:s,result:o}=e.payload;r.answeredStatusByTitleAndPrice[t]||(r.answeredStatusByTitleAndPrice[t]={}),r.answeredStatusByTitleAndPrice[t][s]=o}},extraReducers:r=>{r.addCase(Gp.fulfilled,(e,{payload:t})=>{e.topics=t})}}),{initializeBoard:ET,markAnswered:cV}=Lb.actions,hV=Lb.reducer,fV={items:[],loading:!1},Rh=na("answers/addAnswerToHistory",async({userId:r,answer:e})=>{const t=Oo(Qn,"users",r,"answers"),s=await tb(t,e);return{...e,id:s.id}}),Ih=na("answers/fetchAnswersHistory",async({userId:r})=>{const e=Oo(Qn,"users",r,"answers"),t=WS(e,XN("answeredAt","desc")),s=await kf(t),o=[];return s.forEach(u=>{const f=u.data();o.push({...f,id:u.id})}),o}),dV=gf({name:"answers",initialState:fV,reducers:{},extraReducers:r=>{r.addCase(Rh.pending,e=>{e.loading=!0}).addCase(Rh.fulfilled,(e,{payload:t})=>{e.loading=!1,e.items.unshift(t)}).addCase(Rh.rejected,e=>{e.loading=!1}).addCase(Ih.pending,e=>{e.loading=!0}).addCase(Ih.fulfilled,(e,{payload:t})=>{e.loading=!1,e.items=t}).addCase(Ih.rejected,e=>{e.loading=!1})}}),mV=dV.reducer,pV=({title:r,price:e,question:t,answer:s,onClose:o})=>{const[u,f]=Q.useState(!1),[m,p]=Q.useState(!1),g=ta(),v=Er(B=>B.userLayer.id),T=Er(B=>B.score.scores.score);Q.useEffect(()=>{const B=U=>{U.key==="Escape"&&o()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[o]);const b=B=>{B.target===B.currentTarget&&o()};function O(B){if(!v){alert("Сохранение очков доступно только для авторизованных пользователей");return}g(Ah({price:B,oldScore:T,id:v}))}async function k(B){m||(p(!0),g(cV({title:r,price:e,result:B})),v&&g(Rh({userId:v,answer:{title:r,price:e,question:t,result:B,answeredAt:Date.now()}})),O(B==="correct"?e:-e),p(!1),o())}return Z.jsx("div",{className:"modal-backdrop",onClick:b,role:"dialog","aria-modal":"true","aria-labelledby":"q-title",children:Z.jsxs("div",{className:"modal-card animate-fade-in-up",children:[Z.jsx("h1",{id:"q-title",className:"font-display text-3xl mb-2 text-white",children:r}),Z.jsxs("h2",{className:"text-amber-300 mb-4",children:[e," scores"]}),Z.jsx("p",{className:"text-lg mb-6",children:t}),u?Z.jsxs("div",{className:"space-y-5",children:[Z.jsx("p",{className:"mt-1 text-xl text-green-300",children:s}),Z.jsx("div",{className:"flex items-center justify-center w-full opacity-80",children:"User answered correctly?"}),Z.jsxs("div",{className:"flex justify-center gap-3",children:[Z.jsx("button",{className:"btn-yellow disabled:opacity-60",disabled:m,onClick:()=>k("correct"),children:"YES"}),Z.jsx("button",{className:"btn-ghost disabled:opacity-60",disabled:m,onClick:()=>k("wrong"),children:"NO"})]})]}):Z.jsx("button",{onClick:()=>f(!0),className:"btn-yellow",children:"Show answer"})]})})},TT=()=>{const r=Er(e=>e.score.scores.score);return Z.jsx("div",{className:"header-chip",children:Z.jsxs("div",{className:"flex items-baseline gap-2",children:[Z.jsx("span",{className:"opacity-80",children:"Score"}),Z.jsx("span",{className:"text-2xl font-extrabold text-yellow-300",children:r})]})})},gV={id:"",user:{login:"",password:""}},Ch=na("user/fetchUserSaveInDB",async({login:r,password:e})=>{const t=await tb(Oo(Qn,"users"),{login:r,password:e,score:0,createdAt:Date.now()});if(!t)throw new Error("Error adding user to Firestore");return{id:t.id,login:r}}),Dh=na("user/fetchUserCheckExistInDB",async({login:r,password:e})=>{const t=Oo(Qn,"users"),s=WS(t,eT("login","==",r),eT("password","==",e)),o=await kf(s);if(o.empty)throw new Error("User not found");const u=o.docs[0];return{id:u.id,login:u.data().login,score:u.data().score}}),Ub=gf({name:"user",initialState:gV,reducers:{changeLogin(r,e){r.user.login=e.payload},changeId(r,e){r.id=e.payload}},extraReducers:r=>{r.addCase(Ch.pending,e=>{e.id="Pending....",console.log("Pending...")}).addCase(Ch.fulfilled,(e,t)=>{e.id=t.payload.id,e.user.login=t.payload.login,localStorage.setItem("userId",t.payload.id),console.log("Fulfilled...")}).addCase(Ch.rejected,(e,t)=>{e.id=t.payload+""||"Error!!!",console.log(t.payload),console.log("Rejected...")}).addCase(Dh.pending,e=>{e.id="Pending....",console.log("Check Pending...")}).addCase(Dh.fulfilled,(e,t)=>{e.id=t.payload.id,e.user.login=t.payload.login,localStorage.setItem("userId",t.payload.id),console.log("Check Fulfilled...")}).addCase(Dh.rejected,()=>{console.log("Authentication failed. User remains unauthorized.")})}}),{changeLogin:yV,changeId:_V}=Ub.actions,vV=Ub.reducer;var Fl={},hh={},fh={},wT;function EV(){if(wT)return fh;wT=1,fh.__esModule=!0,fh.default=o;function r(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(m){return typeof m}:r=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},r(u)}function e(){}var t={getItem:e,setItem:e,removeItem:e};function s(u){if((typeof self>"u"?"undefined":r(self))!=="object"||!(u in self))return!1;try{var f=self[u],m="redux-persist ".concat(u," test");f.setItem(m,"test"),f.getItem(m),f.removeItem(m)}catch{return!1}return!0}function o(u){var f="".concat(u,"Storage");return s(f)?self[f]:t}return fh}var ST;function TV(){if(ST)return hh;ST=1,hh.__esModule=!0,hh.default=t;var r=e(EV());function e(s){return s&&s.__esModule?s:{default:s}}function t(s){var o=(0,r.default)(s);return{getItem:function(f){return new Promise(function(m,p){m(o.getItem(f))})},setItem:function(f,m){return new Promise(function(p,g){p(o.setItem(f,m))})},removeItem:function(f){return new Promise(function(m,p){m(o.removeItem(f))})}}}return hh}var bT;function wV(){if(bT)return Fl;bT=1,Fl.__esModule=!0,Fl.default=void 0;var r=e(TV());function e(s){return s&&s.__esModule?s:{default:s}}var t=(0,r.default)("local");return Fl.default=t,Fl}var SV=wV();const bV=dR(SV);var ty="persist:",ny="persist/FLUSH",zf="persist/REHYDRATE",ry="persist/PAUSE",iy="persist/PERSIST",sy="persist/PURGE",ay="persist/REGISTER",AV=-1;function Oh(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oh=function(t){return typeof t}:Oh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(r)}function AT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function RV(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AT(t,!0).forEach(function(s){IV(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AT(t).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function IV(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function CV(r,e,t,s){s.debug;var o=RV({},t);return r&&Oh(r)==="object"&&Object.keys(r).forEach(function(u){u!=="_persist"&&e[u]===t[u]&&(o[u]=r[u])}),o}function DV(r){var e=r.blacklist||null,t=r.whitelist||null,s=r.transforms||[],o=r.throttle||0,u="".concat(r.keyPrefix!==void 0?r.keyPrefix:ty).concat(r.key),f=r.storage,m;r.serialize===!1?m=function(re){return re}:typeof r.serialize=="function"?m=r.serialize:m=OV;var p=r.writeFailHandler||null,g={},v={},T=[],b=null,O=null,k=function(re){Object.keys(re).forEach(function(he){G(he)&&g[he]!==re[he]&&T.indexOf(he)===-1&&T.push(he)}),Object.keys(g).forEach(function(he){re[he]===void 0&&G(he)&&T.indexOf(he)===-1&&g[he]!==void 0&&T.push(he)}),b===null&&(b=setInterval(B,o)),g=re};function B(){if(T.length===0){b&&clearInterval(b),b=null;return}var se=T.shift(),re=s.reduce(function(he,D){return D.in(he,se,g)},g[se]);if(re!==void 0)try{v[se]=m(re)}catch(he){console.error("redux-persist/createPersistoid: error serializing state",he)}else delete v[se];T.length===0&&U()}function U(){Object.keys(v).forEach(function(se){g[se]===void 0&&delete v[se]}),O=f.setItem(u,m(v)).catch(ie)}function G(se){return!(t&&t.indexOf(se)===-1&&se!=="_persist"||e&&e.indexOf(se)!==-1)}function ie(se){p&&p(se)}var Y=function(){for(;T.length!==0;)B();return O||Promise.resolve()};return{update:k,flush:Y}}function OV(r){return JSON.stringify(r)}function NV(r){var e=r.transforms||[],t="".concat(r.keyPrefix!==void 0?r.keyPrefix:ty).concat(r.key),s=r.storage;r.debug;var o;return r.deserialize===!1?o=function(f){return f}:typeof r.deserialize=="function"?o=r.deserialize:o=xV,s.getItem(t).then(function(u){if(u)try{var f={},m=o(u);return Object.keys(m).forEach(function(p){f[p]=e.reduceRight(function(g,v){return v.out(g,p,m)},o(m[p]))}),f}catch(p){throw p}else return})}function xV(r){return JSON.parse(r)}function MV(r){var e=r.storage,t="".concat(r.keyPrefix!==void 0?r.keyPrefix:ty).concat(r.key);return e.removeItem(t,VV)}function VV(r){}function RT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function $r(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RT(t,!0).forEach(function(s){PV(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RT(t).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function PV(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kV(r,e){if(r==null)return{};var t=LV(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function LV(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}var UV=5e3;function zV(r,e){var t=r.version!==void 0?r.version:AV;r.debug;var s=r.stateReconciler===void 0?CV:r.stateReconciler,o=r.getStoredState||NV,u=r.timeout!==void 0?r.timeout:UV,f=null,m=!1,p=!0,g=function(T){return T._persist.rehydrated&&f&&!p&&f.update(T),T};return function(v,T){var b=v||{},O=b._persist,k=kV(b,["_persist"]),B=k;if(T.type===iy){var U=!1,G=function(A,R){U||(T.rehydrate(r.key,A,R),U=!0)};if(u&&setTimeout(function(){!U&&G(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(r.key,'"')))},u),p=!1,f||(f=DV(r)),O)return $r({},e(B,T),{_persist:O});if(typeof T.rehydrate!="function"||typeof T.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return T.register(r.key),o(r).then(function(D){var A=r.migrate||function(R,M){return Promise.resolve(R)};A(D,t).then(function(R){G(R)},function(R){G(void 0,R)})},function(D){G(void 0,D)}),$r({},e(B,T),{_persist:{version:t,rehydrated:!1}})}else{if(T.type===sy)return m=!0,T.result(MV(r)),$r({},e(B,T),{_persist:O});if(T.type===ny)return T.result(f&&f.flush()),$r({},e(B,T),{_persist:O});if(T.type===ry)p=!0;else if(T.type===zf){if(m)return $r({},B,{_persist:$r({},O,{rehydrated:!0})});if(T.key===r.key){var ie=e(B,T),Y=T.payload,se=s!==!1&&Y!==void 0?s(Y,v,ie,r):ie,re=$r({},se,{_persist:$r({},O,{rehydrated:!0})});return g(re)}}}if(!O)return e(v,T);var he=e(B,T);return he===B?v:g($r({},he,{_persist:O}))}}function IT(r){return BV(r)||jV(r)||qV()}function qV(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function jV(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}function BV(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}function CT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Kp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CT(t,!0).forEach(function(s){HV(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CT(t).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function HV(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var zb={registry:[],bootstrapped:!1},FV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ay:return Kp({},e,{registry:[].concat(IT(e.registry),[t.key])});case zf:var s=e.registry.indexOf(t.key),o=IT(e.registry);return o.splice(s,1),Kp({},e,{registry:o,bootstrapped:o.length===0});default:return e}};function GV(r,e,t){var s=ng(FV,zb,void 0),o=function(p){s.dispatch({type:ay,key:p})},u=function(p,g,v){var T={type:zf,payload:g,err:v,key:p};r.dispatch(T),s.dispatch(T)},f=Kp({},s,{purge:function(){var p=[];return r.dispatch({type:sy,result:function(v){p.push(v)}}),Promise.all(p)},flush:function(){var p=[];return r.dispatch({type:ny,result:function(v){p.push(v)}}),Promise.all(p)},pause:function(){r.dispatch({type:ry})},persist:function(){r.dispatch({type:iy,register:o,rehydrate:u})}});return f.persist(),f}const KV=()=>({type:"LOGOUT"}),QV=XT({userLayer:vV,score:oV,topics:hV,answers:mV}),YV=(r,e)=>(e.type==="LOGOUT"&&(r=void 0),QV(r,e)),$V={key:"root",storage:bV,whitelist:["userLayer","score","topics","answers"]},XV=zV($V,YV),qb=zI({reducer:XV,middleware:r=>r({serializableCheck:{ignoredActions:[ny,zf,ry,iy,sy,ay]}})}),WV=GV(qb),jb=()=>{const r=Er(f=>f.userLayer.user.login),e=!r||r==="Guest",t=cf(),s=ta(),o=()=>{localStorage.removeItem("userId"),s(KV()),t("/login")},u=()=>{t("/login")};return Z.jsxs("div",{className:"flex items-center gap-4 text-yellow-400 text-right",children:[Z.jsxs("div",{children:[Z.jsx("div",{className:"text-sm",children:"Nickname:"}),Z.jsx("div",{className:"text-lg font-bold",children:r||"Guest"})]}),e?Z.jsx("button",{onClick:u,className:"btn-yellow py-1 px-3",children:"Go to Login Page"}):Z.jsx("button",{onClick:o,className:"btn-yellow py-1 px-3",children:"Logout"})]})};function ZV({open:r,onClose:e,hasUser:t}){return Q.useEffect(()=>{if(!r)return;const s=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=s}},[r]),r?F1.createPortal(Z.jsxs("div",{className:"fixed inset-0 z-[100]",role:"dialog","aria-modal":"true",children:[Z.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:e,"aria-hidden":!0}),Z.jsxs("div",{className:`absolute inset-x-0 bottom-0 w-full max-w-md mx-auto mb-2\r
                   bg-white/5 border border-white/10 backdrop-blur-md rounded-t-2xl\r
                   shadow-[0_20px_60px_rgba(0,0,0,.6)] p-4 pb-6`,children:[Z.jsx("div",{className:"mx-auto h-1.5 w-12 rounded-full bg-white/25 mb-4"}),Z.jsxs("div",{className:"flex flex-col gap-2",children:[t&&Z.jsx(wo,{to:"/history",className:"btn-yellow w-full text-center",onClick:e,children:"History"}),Z.jsx("div",{className:"w-full",children:Z.jsx(jb,{})}),Z.jsx("button",{className:"btn-ghost w-full",onClick:e,children:"Close"})]})]})]}),document.body):null}const JV=()=>{const r=Er(s=>s.userLayer.id),[e,t]=Q.useState(!1);return Q.useEffect(()=>{const s=o=>o.key==="Escape"&&t(!1);return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]),Z.jsxs("div",{className:"sticky top-0 z-40 w-full bg-gradient-to-b from-[#0c0f2f]/80 to-transparent backdrop-blur-sm",children:[Z.jsxs("div",{className:"w-full max-w-6xl mx-auto px-3 sm:px-4 pt-3",children:[Z.jsxs("div",{className:"hidden md:grid grid-cols-3 items-center gap-3 mb-4",children:[Z.jsx("div",{className:"justify-self-start",children:Z.jsx(TT,{})}),Z.jsx("h1",{className:"justify-self-center font-display text-4xl title-gradient",children:"Own Game"}),Z.jsxs("div",{className:"justify-self-end flex items-center gap-3",children:[r&&Z.jsx(wo,{to:"/history",className:"btn-yellow py-1 px-3",children:"History"}),Z.jsx(jb,{})]})]}),Z.jsxs("div",{className:"md:hidden bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl shadow-[0_10px_30px_rgba(0,0,0,.45)] px-4 py-3 mb-4",children:[Z.jsx("h1",{className:"font-display text-3xl title-gradient text-center mb-3",children:"Own Game"}),Z.jsxs("div",{className:"flex items-center justify-between gap-2",children:[Z.jsx(TT,{}),Z.jsx("button",{className:"btn-yellow py-1 px-3 text-sm",onClick:()=>t(!0),"aria-haspopup":"dialog","aria-expanded":e,children:"Menu"})]})]})]}),Z.jsx(ZV,{open:e,onClose:()=>t(!1),hasUser:!!r})]})},eP=()=>{const[r,e]=Q.useState(null),t=()=>{e(null)},s=ta(),o=Er(u=>u.topics.topics);return Q.useEffect(()=>{s(Gp()).then(u=>{Array.isArray(u.payload)&&u.payload.length===0?s(uV()).then(()=>s(Gp())).then(f=>{Array.isArray(f.payload)&&s(ET(f.payload))}):Array.isArray(u.payload)&&s(ET(u.payload))})},[s]),Z.jsxs("div",{className:"w-full",children:[Z.jsx(JV,{}),Z.jsxs("div",{className:"game",children:[!r&&Z.jsx(mI,{topics:o,onQuestionClick:e}),r&&Z.jsx(pV,{title:r.title,price:r.price,question:r.question,answer:r.answer,onClose:t})]})]})},DT=()=>{const r=ta(),e=cf(),t=Q.useRef(null),s=Q.useRef(null);function o(){const f=t.current.value.trim(),m=s.current.value;f&&m?r(Dh({login:f,password:m})).unwrap().then(p=>{typeof p?.score=="number"&&r(kb(p.score)),e("/game")}).catch(()=>{alert("Неверный логин или пароль")}):alert("Please fill in all fields")}function u(){e("/game")}return Z.jsx("div",{className:"game-shell flex flex-col items-center gap-6",children:Z.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[Z.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Sign in"}),Z.jsxs("label",{className:"block mb-4",children:[Z.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),Z.jsx("input",{id:"login-input",className:"input-glass",type:"text",ref:t,placeholder:"Your nickname"})]}),Z.jsxs("label",{className:"block mb-6",children:[Z.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),Z.jsx("input",{id:"password-input",className:"input-glass",type:"password",ref:s,placeholder:"••••••••"})]}),Z.jsxs("div",{className:"flex flex-col gap-3",children:[Z.jsx("button",{className:"btn-yellow",onClick:o,children:"Sign in"}),Z.jsx("button",{className:"btn-ghost",onClick:u,children:"Sign in as a guest"}),Z.jsx(wo,{to:"/register",className:"btn-ghost text-center",children:"Go to registration"})]})]})})},tP=()=>{const r=ta(),e=cf(),t=Q.useRef(null),s=Q.useRef(null);function o(){const u=t.current.value.trim(),f=s.current.value;u&&f?(r(Ch({login:u,password:f})),e("/game")):alert("Please fill in all fields")}return Z.jsx("div",{className:"game-shell flex flex-col items-center justify-center gap-6",children:Z.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[Z.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Registration"}),Z.jsxs("label",{className:"block mb-4",children:[Z.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),Z.jsx("input",{className:"input-glass",type:"text",ref:t,placeholder:"Your nickname"})]}),Z.jsxs("label",{className:"block mb-6",children:[Z.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),Z.jsx("input",{className:"input-glass",type:"password",ref:s,placeholder:"••••••••"})]}),Z.jsxs("div",{className:"flex flex-col gap-3",children:[Z.jsx("button",{className:"btn-yellow",onClick:o,children:"Register"}),Z.jsx(wo,{to:"/login",className:"btn-ghost text-center",children:"Go to Login"})]})]})})};async function nP(){try{const r=localStorage.getItem("topics_migrated_v1"),e=await kf(Oo(Qn,"topics"));if(e.empty){const t=Fp.map(s=>eb(Iu(Qn,"topics",s.title),s));return await Promise.all(t),localStorage.setItem("topics_migrated_v1","true"),{seeded:!0,count:Fp.length}}return r||localStorage.setItem("topics_migrated_v1","true"),{seeded:!1,count:e.size}}catch(r){return console.error("Topics migration failed",r),{seeded:!1,count:0}}}const rP=()=>{const r=ta(),e=Er(o=>o.userLayer.id),{items:t,loading:s}=Er(o=>o.answers);return Q.useEffect(()=>{e&&r(Ih({userId:e}))},[r,e]),e?Z.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 border-custom rounded-lg",children:[Z.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-400",children:"История ответов"}),Z.jsx("div",{className:"mb-4",children:Z.jsx(wo,{to:"/game",className:"btn-yellow py-1 px-3",children:"Вернуться к игре"})}),s&&Z.jsx("div",{children:"Загрузка..."}),!s&&t.length===0&&Z.jsx("div",{children:"Пока нет ответов."}),Z.jsx("div",{className:"flex flex-col gap-2",children:t.map(o=>Z.jsxs("div",{className:`p-3 rounded border-custom ${o.result==="correct"?"bg-green-800/40":"bg-red-800/40"}`,children:[Z.jsxs("div",{className:"flex justify-between",children:[Z.jsxs("div",{className:"font-semibold",children:[o.title," — ",o.price]}),Z.jsx("div",{className:"opacity-80 text-sm",children:new Date(o.answeredAt).toLocaleString()})]}),Z.jsx("div",{className:"mt-1 text-sm opacity-90",children:o.question})]},o.id))})]}):Z.jsx("div",{className:"text-center",children:"Требуется вход для просмотра истории."})},iP=()=>{const r=ta();return Q.useEffect(()=>{nP();const e=localStorage.getItem("userId");if(e){const t=Iu(Qn,"users",e);JN(t).then(s=>{if(s.exists()){const o=s.data();r(kb(o.score??0)),r(yV(o.login??"")),r(_V(s.id))}})}},[]),Z.jsx("div",{className:`min-h-screen bg-gradient-to-b from-[#1a1a4f] to-[#000032]\r
            text-white p-4 flex flex-col items-center gap-6`,children:Z.jsxs(f1,{children:[Z.jsx(Za,{path:"/game",element:Z.jsx(eP,{})}),Z.jsx(Za,{path:"/register",element:Z.jsx(tP,{})}),Z.jsx(Za,{path:"/",element:Z.jsx(DT,{})}),Z.jsx(Za,{path:"/login",element:Z.jsx(DT,{})}),Z.jsx(Za,{path:"/history",element:Z.jsx(rP,{})})]})})};function Nh(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nh=function(t){return typeof t}:Nh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(r)}function sP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function aP(r,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function oP(r,e,t){return e&&aP(r.prototype,e),r}function lP(r,e){return e&&(Nh(e)==="object"||typeof e=="function")?e:xh(r)}function Qp(r){return Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qp(r)}function xh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Yp(r,e)}function Yp(r,e){return Yp=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},Yp(r,e)}function Mh(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Bb=function(r){uP(e,r);function e(){var t,s;sP(this,e);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return s=lP(this,(t=Qp(e)).call.apply(t,[this].concat(u))),Mh(xh(s),"state",{bootstrapped:!1}),Mh(xh(s),"_unsubscribe",void 0),Mh(xh(s),"handlePersistorState",function(){var m=s.props.persistor,p=m.getState(),g=p.bootstrapped;g&&(s.props.onBeforeLift?Promise.resolve(s.props.onBeforeLift()).finally(function(){return s.setState({bootstrapped:!0})}):s.setState({bootstrapped:!0}),s._unsubscribe&&s._unsubscribe())}),s}return oP(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(Q.PureComponent);Mh(Bb,"defaultProps",{children:null,loading:null});const cP="/quiz-game/";wR.createRoot(document.getElementById("root")).render(Z.jsx(Q.StrictMode,{children:Z.jsx(oI,{store:qb,children:Z.jsx(Bb,{loading:null,persistor:WV,children:Z.jsx(P1,{basename:cP,children:Z.jsx(iP,{})})})})}));
