(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function PR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Up={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function MR(){if(M0)return bu;M0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:t,type:i,key:f,ref:o!==void 0?o:null,props:u}}return bu.Fragment=e,bu.jsx=n,bu.jsxs=n,bu}var V0;function VR(){return V0||(V0=1,Up.exports=MR()),Up.exports}var G=VR(),Bp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function LR(){if(L0)return Ie;L0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function U(O,re,ce){this.props=O,this.context=re,this.refs=q,this.updater=ce||D}U.prototype.isReactComponent={},U.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=U.prototype;function se(O,re,ce){this.props=O,this.context=re,this.refs=q,this.updater=ce||D}var X=se.prototype=new $;X.constructor=se,V(X,U.prototype),X.isPureReactComponent=!0;var ae=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function x(O,re,ce,oe,we,De){return ce=De.ref,{$$typeof:t,type:O,key:re,ref:ce!==void 0?ce:null,props:De}}function A(O,re){return x(O.type,re,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function k(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return re[ce]})}var P=/\/+/g;function L(O,re){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):re.toString(36)}function I(){}function Ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ht(O,re,ce,oe,we){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case t:case e:Ae=!0;break;case w:return Ae=O._init,ht(Ae(O._payload),re,ce,oe,we)}}if(Ae)return we=we(O),Ae=oe===""?"."+L(O,0):oe,ae(we)?(ce="",Ae!=null&&(ce=Ae.replace(P,"$&/")+"/"),ht(we,re,ce,"",function(ur){return ur})):we!=null&&(R(we)&&(we=A(we,ce+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(P,"$&/")+"/")+Ae)),re.push(we)),1;Ae=0;var Vt=oe===""?".":oe+":";if(ae(O))for(var nt=0;nt<O.length;nt++)oe=O[nt],De=Vt+L(oe,nt),Ae+=ht(oe,re,ce,De,we);else if(nt=S(O),typeof nt=="function")for(O=nt.call(O),nt=0;!(oe=O.next()).done;)oe=oe.value,De=Vt+L(oe,nt++),Ae+=ht(oe,re,ce,De,we);else if(De==="object"){if(typeof O.then=="function")return ht(Ft(O),re,ce,oe,we);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(O,re,ce){if(O==null)return O;var oe=[],we=0;return ht(O,oe,"","",function(De){return re.call(ce,De,we++)}),oe}function ue(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function He(){}return Ie.Children={map:W,forEach:function(O,re,ce){W(O,function(){re.apply(this,arguments)},ce)},count:function(O){var re=0;return W(O,function(){re++}),re},toArray:function(O){return W(O,function(re){return re})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=se,Ie.StrictMode=i,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ie.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cloneElement=function(O,re,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=V({},O.props),we=O.key,De=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(we=""+re.key),re)!he.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(oe[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ce;else if(1<Ae){for(var Vt=Array(Ae),nt=0;nt<Ae;nt++)Vt[nt]=arguments[nt+2];oe.children=Vt}return x(O.type,we,void 0,void 0,De,oe)},Ie.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,re,ce){var oe,we={},De=null;if(re!=null)for(oe in re.key!==void 0&&(De=""+re.key),re)he.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(we[oe]=re[oe]);var Ae=arguments.length-2;if(Ae===1)we.children=ce;else if(1<Ae){for(var Vt=Array(Ae),nt=0;nt<Ae;nt++)Vt[nt]=arguments[nt+2];we.children=Vt}if(O&&O.defaultProps)for(oe in Ae=O.defaultProps,Ae)we[oe]===void 0&&(we[oe]=Ae[oe]);return x(O,De,void 0,void 0,null,we)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:m,render:O}},Ie.isValidElement=R,Ie.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ue}},Ie.memo=function(O,re){return{$$typeof:g,type:O,compare:re===void 0?null:re}},Ie.startTransition=function(O){var re=ie.T,ce={};ie.T=ce;try{var oe=O(),we=ie.S;we!==null&&we(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(He,ge)}catch(De){ge(De)}finally{ie.T=re}},Ie.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ie.use=function(O){return ie.H.use(O)},Ie.useActionState=function(O,re,ce){return ie.H.useActionState(O,re,ce)},Ie.useCallback=function(O,re){return ie.H.useCallback(O,re)},Ie.useContext=function(O){return ie.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,re){return ie.H.useDeferredValue(O,re)},Ie.useEffect=function(O,re,ce){var oe=ie.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,re)},Ie.useId=function(){return ie.H.useId()},Ie.useImperativeHandle=function(O,re,ce){return ie.H.useImperativeHandle(O,re,ce)},Ie.useInsertionEffect=function(O,re){return ie.H.useInsertionEffect(O,re)},Ie.useLayoutEffect=function(O,re){return ie.H.useLayoutEffect(O,re)},Ie.useMemo=function(O,re){return ie.H.useMemo(O,re)},Ie.useOptimistic=function(O,re){return ie.H.useOptimistic(O,re)},Ie.useReducer=function(O,re,ce){return ie.H.useReducer(O,re,ce)},Ie.useRef=function(O){return ie.H.useRef(O)},Ie.useState=function(O){return ie.H.useState(O)},Ie.useSyncExternalStore=function(O,re,ce){return ie.H.useSyncExternalStore(O,re,ce)},Ie.useTransition=function(){return ie.H.useTransition()},Ie.version="19.1.1",Ie}var U0;function td(){return U0||(U0=1,Bp.exports=LR()),Bp.exports}var K=td(),zp={exports:{}},Eu={},jp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function UR(){return B0||(B0=1,function(t){function e(W,ue){var ge=W.length;W.push(ue);e:for(;0<ge;){var He=ge-1>>>1,O=W[He];if(0<o(O,ue))W[He]=ue,W[ge]=O,ge=He;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ue=W[0],ge=W.pop();if(ge!==ue){W[0]=ge;e:for(var He=0,O=W.length,re=O>>>1;He<re;){var ce=2*(He+1)-1,oe=W[ce],we=ce+1,De=W[we];if(0>o(oe,ge))we<O&&0>o(De,oe)?(W[He]=De,W[we]=ge,He=we):(W[He]=oe,W[ce]=ge,He=ce);else if(we<O&&0>o(De,ge))W[He]=De,W[we]=ge,He=we;else break e}}return ue}function o(W,ue){var ge=W.sortIndex-ue.sortIndex;return ge!==0?ge:W.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var p=[],g=[],w=1,b=null,S=3,D=!1,V=!1,q=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var ue=n(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=W)i(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function ie(W){if(q=!1,ae(W),!V)if(n(p)!==null)V=!0,he||(he=!0,L());else{var ue=n(g);ue!==null&&ht(ie,ue.startTime-W)}}var he=!1,x=-1,A=5,R=-1;function k(){return U?!0:!(t.unstable_now()-R<A)}function P(){if(U=!1,he){var W=t.unstable_now();R=W;var ue=!0;try{e:{V=!1,q&&(q=!1,se(x),x=-1),D=!0;var ge=S;try{t:{for(ae(W),b=n(p);b!==null&&!(b.expirationTime>W&&k());){var He=b.callback;if(typeof He=="function"){b.callback=null,S=b.priorityLevel;var O=He(b.expirationTime<=W);if(W=t.unstable_now(),typeof O=="function"){b.callback=O,ae(W),ue=!0;break t}b===n(p)&&i(p),ae(W)}else i(p);b=n(p)}if(b!==null)ue=!0;else{var re=n(g);re!==null&&ht(ie,re.startTime-W),ue=!1}}break e}finally{b=null,S=ge,D=!1}ue=void 0}}finally{ue?L():he=!1}}}var L;if(typeof X=="function")L=function(){X(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ft=I.port2;I.port1.onmessage=P,L=function(){Ft.postMessage(null)}}else L=function(){$(P,0)};function ht(W,ue){x=$(function(){W(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var ge=S;S=ue;try{return W()}finally{S=ge}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=S;S=W;try{return ue()}finally{S=ge}},t.unstable_scheduleCallback=function(W,ue,ge){var He=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,W={id:w++,callback:ue,priorityLevel:W,startTime:ge,expirationTime:O,sortIndex:-1},ge>He?(W.sortIndex=ge,e(g,W),n(p)===null&&W===n(g)&&(q?(se(x),x=-1):q=!0,ht(ie,ge-He))):(W.sortIndex=O,e(p,W),V||D||(V=!0,he||(he=!0,L()))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var ue=S;return function(){var ge=S;S=ue;try{return W.apply(this,arguments)}finally{S=ge}}}}(qp)),qp}var z0;function BR(){return z0||(z0=1,jp.exports=UR()),jp.exports}var Hp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function zR(){if(j0)return nn;j0=1;var t=td();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,w){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:w}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(p,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,w)},nn.flushSync=function(p){var g=f.T,w=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=g,i.p=w,i.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var w=g.as,b=m(w,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:D}):w==="script"&&i.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,b=m(w,g.crossOrigin);i.d.L(p,w,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var w=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},nn.requestFormReset=function(p){i.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,w){return f.H.useFormState(p,g,w)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var q0;function jR(){if(q0)return Hp.exports;q0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hp.exports=zR(),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function qR(){if(H0)return Eu;H0=1;var t=BR(),e=td(),n=jR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function f(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(u(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=u(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,l=s;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),r;if(d===l)return m(h),s;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var w=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Ft(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case U:return"Profiler";case q:return"StrictMode";case ie:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case X:return(r.displayName||"Context")+".Provider";case se:return(r._context.displayName||"Context")+".Consumer";case ae:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:Ft(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Ft(r(s))}catch{}}return null}var ht=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},He=[],O=-1;function re(r){return{current:r}}function ce(r){0>O||(r.current=He[O],He[O]=null,O--)}function oe(r,s){O++,He[O]=r.current,r.current=s}var we=re(null),De=re(null),Ae=re(null),Vt=re(null);function nt(r,s){switch(oe(Ae,s),oe(De,r),oe(we,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?u0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=u0(s),r=c0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(we),oe(we,r)}function ur(){ce(we),ce(De),ce(Ae)}function xi(r){r.memoizedState!==null&&oe(Vt,r);var s=we.current,a=c0(s,r.type);s!==a&&(oe(De,r),oe(we,a))}function zr(r){De.current===r&&(ce(we),ce(De)),Vt.current===r&&(ce(Vt),gu._currentValue=ge)}var Cs=Object.prototype.hasOwnProperty,Is=t.unstable_scheduleCallback,xs=t.unstable_cancelCallback,dl=t.unstable_shouldYield,gc=t.unstable_requestPaint,Ln=t.unstable_now,Ud=t.unstable_getCurrentPriorityLevel,ml=t.unstable_ImmediatePriority,Ma=t.unstable_UserBlockingPriority,Ds=t.unstable_NormalPriority,Bd=t.unstable_LowPriority,Va=t.unstable_IdlePriority,pl=t.log,yc=t.unstable_setDisableYieldValue,dt=null,Qe=null;function En(r){if(typeof pl=="function"&&yc(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(dt,r)}catch{}}var en=Math.clz32?Math.clz32:Os,wc=Math.log,zd=Math.LN2;function Os(r){return r>>>=0,r===0?32:31-(wc(r)/zd|0)|0}var Ns=256,ks=4194304;function Jn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function La(r,s,a){var l=r.pendingLanes;if(l===0)return 0;var h=0,d=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Jn(l):(_&=E,_!==0?h=Jn(_):a||(a=E&~r,a!==0&&(h=Jn(a))))):(E=l&~d,E!==0?h=Jn(E):_!==0?h=Jn(_):a||(a=l&~r,a!==0&&(h=Jn(a)))),h===0?0:s!==0&&s!==h&&(s&d)===0&&(d=h&-h,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:h}function Ps(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function gl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var r=Ns;return Ns<<=1,(Ns&4194048)===0&&(Ns=256),r}function wl(){var r=ks;return ks<<=1,(ks&62914560)===0&&(ks=4194304),r}function jr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function qr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function vl(r,s,a,l,h,d){var _=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var E=r.entanglements,C=r.expirationTimes,j=r.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-en(a),te=1<<Z;E[Z]=0,C[Z]=-1;var H=j[Z];if(H!==null)for(j[Z]=null,Z=0;Z<H.length;Z++){var F=H[Z];F!==null&&(F.lane&=-536870913)}a&=~te}l!==0&&cr(r,l,0),d!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=d&~(_&~s))}function cr(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-en(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function _l(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var l=31-en(a),h=1<<l;h&s|r[l]&s&&(r[l]|=s),a&=~h}}function Di(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ua(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Oi(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:x0(r.type))}function vc(r,s){var a=ue.p;try{return ue.p=r,s()}finally{ue.p=a}}var ot=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ot,Tt="__reactProps$"+ot,Un="__reactContainer$"+ot,bl="__reactEvents$"+ot,jd="__reactListeners$"+ot,Ni="__reactHandles$"+ot,_c="__reactResources$"+ot,Ms="__reactMarker$"+ot;function ki(r){delete r[Dt],delete r[Tt],delete r[bl],delete r[jd],delete r[Ni]}function Hr(r){var s=r[Dt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Un]||a[Dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=m0(r);r!==null;){if(a=r[Dt])return a;r=m0(r)}return s}r=a,a=r.parentNode}return null}function fr(r){if(r=r[Dt]||r[Un]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function hr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function un(r){var s=r[_c];return s||(s=r[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(r){r[Ms]=!0}var El=new Set,Ba={};function er(r,s){Fr(r,s),Fr(r+"Capture",s)}function Fr(r,s){for(Ba[r]=s,r=0;r<s.length;r++)El.add(s[r])}var bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Vs={};function Tc(r){return Cs.call(Vs,r)?!0:Cs.call(Ec,r)?!1:bc.test(r)?Vs[r]=!0:(Ec[r]=!0,!1)}function Pi(r,s,a){if(Tc(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function dr(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Gt(r,s,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+l)}}var Ls,Sc;function Gr(r){if(Ls===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ls=s&&s[1]||"",Sc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+r+Sc}var za=!1;function ja(r,s){if(!r||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(F){var H=F}Reflect.construct(r,[],te)}else{try{te.call()}catch(F){H=F}r.call(te.prototype)}}else{try{throw Error()}catch(F){H=F}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var C=_.split(`
`),j=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var Z=`
`+C[l].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=l&&0<=h);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Gr(a):""}function Tl(r){switch(r.tag){case 26:case 27:case 5:return Gr(r.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return ja(r.type,!1);case 11:return ja(r.type.render,!1);case 1:return ja(r.type,!0);case 31:return Gr("Activity");default:return""}}function qa(r){try{var s="";do s+=Tl(r),r=r.return;while(r);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Sl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qd(r){var s=Sl(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),l=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ha(r){r._valueTracker||(r._valueTracker=qd(r))}function Al(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return r&&(l=Sl(r)?r.checked?"true":"false":r.value),r=l,r!==a?(s.setValue(r),!0):!1}function Us(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Hd=/[\n"\\]/g;function St(r){return r.replace(Hd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tn(r,s,a,l,h,d,_,E){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+cn(s)):r.value!==""+cn(s)&&(r.value=""+cn(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?Mi(r,_,cn(s)):a!=null?Mi(r,_,cn(a)):l!=null&&r.removeAttribute("value"),h==null&&d!=null&&(r.defaultChecked=!!d),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+cn(E):r.removeAttribute("name")}function Bs(r,s,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(r.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,E||s===r.value||(r.value=s),r.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=E?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_)}function Mi(r,s,a){s==="number"&&Us(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function $r(r,s,a,l){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&l&&(r[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,l&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function We(r,s,a){if(s!=null&&(s=""+cn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+cn(a):""}function zs(r,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(ht(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function Bn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(r,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,a):typeof a!="number"||a===0||js.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function Rl(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&Ac(r,h,l)}else for(var d in s)s.hasOwnProperty(d)&&Ac(r,d,s[d])}function Cl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(r){return Gd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Kr=null;function zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qr=null,Yr=null;function Il(r){var s=fr(r);if(s&&(r=s.stateNode)){var a=r[Tt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Tn(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==r&&l.form===r.form){var h=l[Tt]||null;if(!h)throw Error(i(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===r.form&&Al(l)}break e;case"textarea":We(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&$r(r,!!a.multiple,s,!1)}}}var mr=!1;function Rc(r,s,a){if(mr)return r(s,a);mr=!0;try{var l=r(s);return l}finally{if(mr=!1,(Qr!==null||Yr!==null)&&(_f(),Qr&&(s=Qr,r=Yr,Yr=Qr=null,Il(s),r)))for(s=0;s<r.length;s++)Il(r[s])}}function qs(r,s){var a=r.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(tr)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{jn=!1}var pr=null,Vi=null,Xr=null;function xl(){if(Xr)return Xr;var r,s=Vi,a=s.length,l,h="value"in pr?pr.value:pr.textContent,d=h.length;for(r=0;r<a&&s[r]===h[r];r++);var _=a-r;for(l=1;l<=_&&s[a-l]===h[d-l];l++);return Xr=h.slice(r,1<l?1-l:void 0)}function gr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function yr(){return!0}function Dl(){return!1}function Lt(r){function s(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yr:Dl,this.isPropagationStopped=Dl,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Lt($e),Fs=w({},$e,{view:0,detail:0}),Cc=Lt(Fs),$a,Ka,wr,Gs=w({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wr&&(wr&&r.type==="mousemove"?($a=r.screenX-wr.screenX,Ka=r.screenY-wr.screenY):Ka=$a=0,wr=r),$a)},movementY:function(r){return"movementY"in r?r.movementY:Ka}}),qn=Lt(Gs),Ic=w({},Gs,{dataTransfer:0}),$d=Lt(Ic),$s=w({},Fs,{relatedTarget:0}),Qa=Lt($s),Ol=w({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Lt(Ol),xc=w({},$e,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Xa=Lt(xc),Kd=w({},$e,{data:0}),Nl=Lt(Kd),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Oc[r])?!!s[r]:!1}function Qs(){return kl}var Nc=w({},Fs,{key:function(r){if(r.key){var s=Ks[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=gr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Dc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(r){return r.type==="keypress"?gr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?gr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Wa=Lt(Nc),kc=w({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Lt(kc),Wr=w({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),Pc=Lt(Wr),Mc=w({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vc=Lt(Mc),Lc=w({},Gs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Lt(Lc),fn=w({},$e,{newState:0,oldState:0}),Uc=Lt(fn),Bc=[9,13,27,32],vr=tr&&"CompositionEvent"in window,c=null;tr&&"documentMode"in document&&(c=document.documentMode);var y=tr&&"TextEvent"in window&&!c,v=tr&&(!vr||c&&8<c&&11>=c),T=" ",B=!1;function Q(r,s){switch(r){case"keyup":return Bc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Le=!1;function Ot(r,s){switch(r){case"compositionend":return le(s);case"keypress":return s.which!==32?null:(B=!0,T);case"textInput":return r=s.data,r===T&&B?null:r;default:return null}}function Ue(r,s){if(Le)return r==="compositionend"||!vr&&Q(r,s)?(r=xl(),Xr=Vi=pr=null,Le=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ut[r.type]:s==="textarea"}function Zr(r,s,a,l){Qr?Yr?Yr.push(l):Yr=[l]:Qr=l,s=Rf(s,"onChange"),0<s.length&&(a=new Ga("onChange","change",null,a,l),r.push({event:a,listeners:s}))}var $t=null,_r=null;function Ml(r){i0(r,0)}function zc(r){var s=hr(r);if(Al(s))return r}function Aw(r,s){if(r==="change")return s}var Rw=!1;if(tr){var Qd;if(tr){var Yd="oninput"in document;if(!Yd){var Cw=document.createElement("div");Cw.setAttribute("oninput","return;"),Yd=typeof Cw.oninput=="function"}Qd=Yd}else Qd=!1;Rw=Qd&&(!document.documentMode||9<document.documentMode)}function Iw(){$t&&($t.detachEvent("onpropertychange",xw),_r=$t=null)}function xw(r){if(r.propertyName==="value"&&zc(_r)){var s=[];Zr(s,_r,r,zn(r)),Rc(Ml,s)}}function c1(r,s,a){r==="focusin"?(Iw(),$t=s,_r=a,$t.attachEvent("onpropertychange",xw)):r==="focusout"&&Iw()}function f1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zc(_r)}function h1(r,s){if(r==="click")return zc(s)}function d1(r,s){if(r==="input"||r==="change")return zc(s)}function m1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sn=typeof Object.is=="function"?Object.is:m1;function Vl(r,s){if(Sn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Cs.call(s,h)||!Sn(r[h],s[h]))return!1}return!0}function Dw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ow(r,s){var a=Dw(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=s&&l>=s)return{node:a,offset:s-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dw(a)}}function Nw(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Nw(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function kw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Us(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Us(r.document)}return s}function Xd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var p1=tr&&"documentMode"in document&&11>=document.documentMode,Ja=null,Wd=null,Ll=null,Zd=!1;function Pw(r,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zd||Ja==null||Ja!==Us(l)||(l=Ja,"selectionStart"in l&&Xd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&Vl(Ll,l)||(Ll=l,l=Rf(Wd,"onSelect"),0<l.length&&(s=new Ga("onSelect","select",null,s,a),r.push({event:s,listeners:l}),s.target=Ja)))}function Ys(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var eo={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Jd={},Mw={};tr&&(Mw=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Xs(r){if(Jd[r])return Jd[r];if(!eo[r])return r;var s=eo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Mw)return Jd[r]=s[a];return r}var Vw=Xs("animationend"),Lw=Xs("animationiteration"),Uw=Xs("animationstart"),g1=Xs("transitionrun"),y1=Xs("transitionstart"),w1=Xs("transitioncancel"),Bw=Xs("transitionend"),zw=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function nr(r,s){zw.set(r,s),er(s,[r])}var jw=new WeakMap;function Hn(r,s){if(typeof r=="object"&&r!==null){var a=jw.get(r);return a!==void 0?a:(s={value:r,source:s,stack:qa(s)},jw.set(r,s),s)}return{value:r,source:s,stack:qa(s)}}var Fn=[],to=0,tm=0;function jc(){for(var r=to,s=tm=to=0;s<r;){var a=Fn[s];Fn[s++]=null;var l=Fn[s];Fn[s++]=null;var h=Fn[s];Fn[s++]=null;var d=Fn[s];if(Fn[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&qw(a,h,d)}}function qc(r,s,a,l){Fn[to++]=r,Fn[to++]=s,Fn[to++]=a,Fn[to++]=l,tm|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function nm(r,s,a,l){return qc(r,s,a,l),Hc(r)}function no(r,s){return qc(r,null,null,s),Hc(r)}function qw(r,s,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=r.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(r=d.stateNode,r===null||r._visibility&1||(h=!0)),r=d,d=d.return;return r.tag===3?(d=r.stateNode,h&&s!==null&&(h=31-en(a),r=d.hiddenUpdates,l=r[h],l===null?r[h]=[s]:l.push(s),s.lane=a|536870912),d):null}function Hc(r){if(50<lu)throw lu=0,lp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ro={};function v1(r,s,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(r,s,a,l){return new v1(r,s,a,l)}function rm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jr(r,s){var a=r.alternate;return a===null?(a=An(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Hw(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Fc(r,s,a,l,h,d){var _=0;if(l=r,typeof r=="function")rm(r)&&(_=1);else if(typeof r=="string")_=bR(r,a,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=An(31,a,s,h),r.elementType=R,r.lanes=d,r;case V:return Ws(a.children,h,d,s);case q:_=8,h|=24;break;case U:return r=An(12,a,s,h|2),r.elementType=U,r.lanes=d,r;case ie:return r=An(13,a,s,h),r.elementType=ie,r.lanes=d,r;case he:return r=An(19,a,s,h),r.elementType=he,r.lanes=d,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:case X:_=10;break e;case se:_=9;break e;case ae:_=11;break e;case x:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=An(_,a,s,h),s.elementType=r,s.type=l,s.lanes=d,s}function Ws(r,s,a,l){return r=An(7,r,l,s),r.lanes=a,r}function im(r,s,a){return r=An(6,r,null,s),r.lanes=a,r}function sm(r,s,a){return s=An(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var io=[],so=0,Gc=null,$c=0,Gn=[],$n=0,Zs=null,ei=1,ti="";function Js(r,s){io[so++]=$c,io[so++]=Gc,Gc=r,$c=s}function Fw(r,s,a){Gn[$n++]=ei,Gn[$n++]=ti,Gn[$n++]=Zs,Zs=r;var l=ei;r=ti;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(s)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ei=1<<32-en(s)+h|a<<h|l,ti=d+r}else ei=1<<d|a<<h|l,ti=r}function am(r){r.return!==null&&(Js(r,1),Fw(r,1,0))}function om(r){for(;r===Gc;)Gc=io[--so],io[so]=null,$c=io[--so],io[so]=null;for(;r===Zs;)Zs=Gn[--$n],Gn[$n]=null,ti=Gn[--$n],Gn[$n]=null,ei=Gn[--$n],Gn[$n]=null}var hn=null,mt=null,Fe=!1,ea=null,br=!1,lm=Error(i(519));function ta(r){var s=Error(i(418,""));throw zl(Hn(s,r)),lm}function Gw(r){var s=r.stateNode,a=r.type,l=r.memoizedProps;switch(s[Dt]=r,s[Tt]=l,a){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(a=0;a<cu.length;a++)ke(cu[a],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Bs(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ha(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),zs(s,l.value,l.defaultValue,l.children),Ha(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||l0(s.textContent,a)?(l.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),l.onScroll!=null&&ke("scroll",s),l.onScrollEnd!=null&&ke("scrollend",s),l.onClick!=null&&(s.onclick=Cf),s=!0):s=!1,s||ta(r)}function $w(r){for(hn=r.return;hn;)switch(hn.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:hn=hn.return}}function Ul(r){if(r!==hn)return!1;if(!Fe)return $w(r),Fe=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Sp(r.type,r.memoizedProps)),a=!a),a&&mt&&ta(r),$w(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(s===0){mt=ir(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;r=r.nextSibling}mt=null}}else s===27?(s=mt,Zi(r.type)?(r=Ip,Ip=null,mt=r):mt=s):mt=hn?ir(r.stateNode.nextSibling):null;return!0}function Bl(){mt=hn=null,Fe=!1}function Kw(){var r=ea;return r!==null&&(wn===null?wn=r:wn.push.apply(wn,r),ea=null),r}function zl(r){ea===null?ea=[r]:ea.push(r)}var um=re(null),na=null,ni=null;function Li(r,s,a){oe(um,s._currentValue),s._currentValue=a}function ri(r){r._currentValue=um.current,ce(um)}function cm(r,s,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===a)break;r=r.return}}function fm(r,s,a,l){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<s.length;C++)if(E.context===s[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),cm(d.return,a,r),l||(_=null);break e}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),cm(_,a,r),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===r){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function jl(r,s,a,l){r=null;for(var h=s,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=h.type;Sn(h.pendingProps.value,_.value)||(r!==null?r.push(E):r=[E])}}else if(h===Vt.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}h=h.return}r!==null&&fm(s,r,a,l),s.flags|=262144}function Kc(r){for(r=r.firstContext;r!==null;){if(!Sn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ra(r){na=r,ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return Qw(na,r)}function Qc(r,s){return na===null&&ra(r),Qw(r,s)}function Qw(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ni===null){if(r===null)throw Error(i(308));ni=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ni=ni.next=s;return a}var _1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},b1=t.unstable_scheduleCallback,E1=t.unstable_NormalPriority,kt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new _1,data:new Map,refCount:0}}function ql(r){r.refCount--,r.refCount===0&&b1(E1,function(){r.controller.abort()})}var Hl=null,dm=0,ao=0,oo=null;function T1(r,s){if(Hl===null){var a=Hl=[];dm=0,ao=pp(),oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dm++,s.then(Yw,Yw),s}function Yw(){if(--dm===0&&Hl!==null){oo!==null&&(oo.status="fulfilled");var r=Hl;Hl=null,ao=0,oo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function S1(r,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xw=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&T1(r,s),Xw!==null&&Xw(r,s)};var ia=re(null);function mm(){var r=ia.current;return r!==null?r:rt.pooledCache}function Yc(r,s){s===null?oe(ia,ia.current):oe(ia,s.pool)}function Ww(){var r=mm();return r===null?null:{parent:kt._currentValue,pool:r}}var Fl=Error(i(460)),Zw=Error(i(474)),Xc=Error(i(542)),pm={then:function(){}};function Jw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Wc(){}function ev(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Wc,Wc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,nv(r),r;default:if(typeof s.status=="string")s.then(Wc,Wc);else{if(r=rt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,nv(r),r}throw Gl=s,Fl}}var Gl=null;function tv(){if(Gl===null)throw Error(i(459));var r=Gl;return Gl=null,r}function nv(r){if(r===Fl||r===Xc)throw Error(i(483))}var Ui=!1;function gm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Bi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zi(r,s,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=Hc(r),qw(r,null,a),s}return qc(r,l,s,a),Hc(r)}function $l(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,_l(r,a)}}function wm(r,s){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=s:d=d.next=s}else h=d=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var vm=!1;function Kl(){if(vm){var r=oo;if(r!==null)throw r}}function Ql(r,s,a,l){vm=!1;var h=r.updateQueue;Ui=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,_===null?d=j:_.next=j,_=C;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==_&&(E===null?Z.firstBaseUpdate=j:E.next=j,Z.lastBaseUpdate=C))}if(d!==null){var te=h.baseState;_=0,Z=j=C=null,E=d;do{var H=E.lane&-536870913,F=H!==E.lane;if(F?(Be&H)===H:(l&H)===H){H!==0&&H===ao&&(vm=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Te=r,_e=E;H=s;var et=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){te=Te.call(et,te,H);break e}te=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,H=typeof Te=="function"?Te.call(et,te,H):Te,H==null)break e;te=w({},te,H);break e;case 2:Ui=!0}}H=E.callback,H!==null&&(r.flags|=64,F&&(r.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(j=Z=F,C=te):Z=Z.next=F,_|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Z===null&&(C=te),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Qi|=_,r.lanes=_,r.memoizedState=te}}function rv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function iv(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)rv(a[r],s)}var lo=re(null),Zc=re(0);function sv(r,s){r=ci,oe(Zc,r),oe(lo,s),ci=r|s.baseLanes}function _m(){oe(Zc,ci),oe(lo,lo.current)}function bm(){ci=Zc.current,ce(lo),ce(Zc)}var ji=0,xe=null,Ze=null,At=null,Jc=!1,uo=!1,sa=!1,ef=0,Yl=0,co=null,A1=0;function yt(){throw Error(i(321))}function Em(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Sn(r[a],s[a]))return!1;return!0}function Tm(r,s,a,l,h,d){return ji=d,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?qv:Hv,sa=!1,d=a(l,h),sa=!1,uo&&(d=ov(s,a,l,h)),av(r),d}function av(r){W.H=of;var s=Ze!==null&&Ze.next!==null;if(ji=0,At=Ze=xe=null,Jc=!1,Yl=0,co=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&Kc(r)&&(Bt=!0))}function ov(r,s,a,l){xe=r;var h=0;do{if(uo&&(co=null),Yl=0,uo=!1,25<=h)throw Error(i(301));if(h+=1,At=Ze=null,r.updateQueue!=null){var d=r.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=N1,d=s(a,l)}while(uo);return d}function R1(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?Xl(s):s,r=r.useState()[0],(Ze!==null?Ze.memoizedState:null)!==r&&(xe.flags|=1024),s}function Sm(){var r=ef!==0;return ef=0,r}function Am(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function Rm(r){if(Jc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Jc=!1}ji=0,At=Ze=xe=null,uo=!1,Yl=ef=0,co=null}function gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?xe.memoizedState=At=r:At=At.next=r,At}function Rt(){if(Ze===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var s=At===null?xe.memoizedState:At.next;if(s!==null)At=s,Ze=r;else{if(r===null)throw xe.alternate===null?Error(i(467)):Error(i(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?xe.memoizedState=At=r:At=At.next=r}return At}function Cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(r){var s=Yl;return Yl+=1,co===null&&(co=[]),r=ev(co,r,s),s=xe,(At===null?s.memoizedState:At.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?qv:Hv),r}function tf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Xl(r);if(r.$$typeof===X)return tn(r)}throw Error(i(438,String(r)))}function Im(r){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Cm(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),l=0;l<r;l++)a[l]=k;return s.index++,a}function ii(r,s){return typeof s=="function"?s(r):s}function nf(r){var s=Rt();return xm(s,Ze,r)}function xm(r,s,a){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=r.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}s.baseQueue=h=d,l.pending=null}if(d=r.baseState,h===null)r.memoizedState=d;else{s=h.next;var E=_=null,C=null,j=s,Z=!1;do{var te=j.lane&-536870913;if(te!==j.lane?(Be&te)===te:(ji&te)===te){var H=j.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),te===ao&&(Z=!0);else if((ji&H)===H){j=j.next,H===ao&&(Z=!0);continue}else te={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=te,_=d):C=C.next=te,xe.lanes|=H,Qi|=H;te=j.action,sa&&a(d,te),d=j.hasEagerState?j.eagerState:a(d,te)}else H={lane:te,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=H,_=d):C=C.next=H,xe.lanes|=te,Qi|=te;j=j.next}while(j!==null&&j!==s);if(C===null?_=d:C.next=E,!Sn(d,r.memoizedState)&&(Bt=!0,Z&&(a=oo,a!==null)))throw a;r.memoizedState=d,r.baseState=_,r.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Dm(r){var s=Rt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var l=a.dispatch,h=a.pending,d=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=r(d,_.action),_=_.next;while(_!==h);Sn(d,s.memoizedState)||(Bt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function lv(r,s,a){var l=xe,h=Rt(),d=Fe;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!Sn((Ze||h).memoizedState,a);_&&(h.memoizedState=a,Bt=!0),h=h.queue;var E=fv.bind(null,l,h,r);if(Wl(2048,8,E,[r]),h.getSnapshot!==s||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,fo(9,rf(),cv.bind(null,l,h,a,s),null),rt===null)throw Error(i(349));d||(ji&124)!==0||uv(l,s,a)}return a}function uv(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=Cm(),xe.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function cv(r,s,a,l){s.value=a,s.getSnapshot=l,hv(s)&&dv(r)}function fv(r,s,a){return a(function(){hv(s)&&dv(r)})}function hv(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Sn(r,a)}catch{return!0}}function dv(r){var s=no(r,2);s!==null&&Dn(s,r,2)}function Om(r){var s=gn();if(typeof r=="function"){var a=r;if(r=a(),sa){En(!0);try{a()}finally{En(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:r},s}function mv(r,s,a,l){return r.baseState=a,xm(r,Ze,typeof l=="function"?l:ii)}function C1(r,s,a,l,h){if(af(r))throw Error(i(485));if(r=s.action,r!==null){var d={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,pv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function pv(r,s){var a=s.action,l=s.payload,h=r.state;if(s.isTransition){var d=W.T,_={};W.T=_;try{var E=a(h,l),C=W.S;C!==null&&C(_,E),gv(r,s,E)}catch(j){Nm(r,s,j)}finally{W.T=d}}else try{d=a(h,l),gv(r,s,d)}catch(j){Nm(r,s,j)}}function gv(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yv(r,s,l)},function(l){return Nm(r,s,l)}):yv(r,s,a)}function yv(r,s,a){s.status="fulfilled",s.value=a,wv(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,pv(r,a)))}function Nm(r,s,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,wv(s),s=s.next;while(s!==l)}r.action=null}function wv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function vv(r,s){return s}function _v(r,s){if(Fe){var a=rt.formState;if(a!==null){e:{var l=xe;if(Fe){if(mt){t:{for(var h=mt,d=br;h.nodeType!==8;){if(!d){h=null;break t}if(h=ir(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){mt=ir(h.nextSibling),l=h.data==="F!";break e}}ta(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:s},a.queue=l,a=Bv.bind(null,xe,l),l.dispatch=a,l=Om(!1),d=Lm.bind(null,xe,!1,l.queue),l=gn(),h={state:s,dispatch:null,action:r,pending:null},l.queue=h,a=C1.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=r,[s,a,!1]}function bv(r){var s=Rt();return Ev(s,Ze,r)}function Ev(r,s,a){if(s=xm(r,s,vv)[0],r=nf(ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Xl(s)}catch(_){throw _===Fl?Xc:_}else l=s;s=Rt();var h=s.queue,d=h.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,fo(9,rf(),I1.bind(null,h,a),null)),[l,d,r]}function I1(r,s){r.action=s}function Tv(r){var s=Rt(),a=Ze;if(a!==null)return Ev(s,a,r);Rt(),s=s.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=r,[s,l,!1]}function fo(r,s,a,l){return r={tag:r,create:a,deps:l,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Cm(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,s.lastEffect=r),r}function rf(){return{destroy:void 0,resource:void 0}}function Sv(){return Rt().memoizedState}function sf(r,s,a,l){var h=gn();l=l===void 0?null:l,xe.flags|=r,h.memoizedState=fo(1|s,rf(),a,l)}function Wl(r,s,a,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Em(l,Ze.memoizedState.deps)?h.memoizedState=fo(s,d,a,l):(xe.flags|=r,h.memoizedState=fo(1|s,d,a,l))}function Av(r,s){sf(8390656,8,r,s)}function Rv(r,s){Wl(2048,8,r,s)}function Cv(r,s){return Wl(4,2,r,s)}function Iv(r,s){return Wl(4,4,r,s)}function xv(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Dv(r,s,a){a=a!=null?a.concat([r]):null,Wl(4,4,xv.bind(null,s,r),a)}function km(){}function Ov(r,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Em(s,l[1])?l[0]:(a.memoizedState=[r,s],r)}function Nv(r,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Em(s,l[1]))return l[0];if(l=r(),sa){En(!0);try{r()}finally{En(!1)}}return a.memoizedState=[l,s],l}function Pm(r,s,a){return a===void 0||(ji&1073741824)!==0?r.memoizedState=s:(r.memoizedState=a,r=M_(),xe.lanes|=r,Qi|=r,a)}function kv(r,s,a,l){return Sn(a,s)?a:lo.current!==null?(r=Pm(r,a,l),Sn(r,s)||(Bt=!0),r):(ji&42)===0?(Bt=!0,r.memoizedState=a):(r=M_(),xe.lanes|=r,Qi|=r,s)}function Pv(r,s,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=W.T,E={};W.T=E,Lm(r,!1,s,a);try{var C=h(),j=W.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=S1(C,l);Zl(r,s,Z,xn(r))}else Zl(r,s,l,xn(r))}catch(te){Zl(r,s,{then:function(){},status:"rejected",reason:te},xn())}finally{ue.p=d,W.T=_}}function x1(){}function Mm(r,s,a,l){if(r.tag!==5)throw Error(i(476));var h=Mv(r).queue;Pv(r,h,s,ge,a===null?x1:function(){return Vv(r),a(l)})}function Mv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Vv(r){var s=Mv(r).next.queue;Zl(r,s,{},xn())}function Vm(){return tn(gu)}function Lv(){return Rt().memoizedState}function Uv(){return Rt().memoizedState}function D1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();r=Bi(a);var l=zi(s,r,a);l!==null&&(Dn(l,s,a),$l(l,s,a)),s={cache:hm()},r.payload=s;return}s=s.return}}function O1(r,s,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},af(r)?zv(s,a):(a=nm(r,s,a,l),a!==null&&(Dn(a,r,l),jv(a,s,l)))}function Bv(r,s,a){var l=xn();Zl(r,s,a,l)}function Zl(r,s,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(af(r))zv(s,h);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,_))return qc(r,s,h,0),rt===null&&jc(),!1}catch{}finally{}if(a=nm(r,s,h,l),a!==null)return Dn(a,r,l),jv(a,s,l),!0}return!1}function Lm(r,s,a,l){if(l={lane:2,revertLane:pp(),action:l,hasEagerState:!1,eagerState:null,next:null},af(r)){if(s)throw Error(i(479))}else s=nm(r,a,l,2),s!==null&&Dn(s,r,2)}function af(r){var s=r.alternate;return r===xe||s!==null&&s===xe}function zv(r,s){uo=Jc=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function jv(r,s,a){if((a&4194048)!==0){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,_l(r,a)}}var of={readContext:tn,use:tf,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},qv={readContext:tn,use:tf,useCallback:function(r,s){return gn().memoizedState=[r,s===void 0?null:s],r},useContext:tn,useEffect:Av,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,sf(4194308,4,xv.bind(null,s,r),a)},useLayoutEffect:function(r,s){return sf(4194308,4,r,s)},useInsertionEffect:function(r,s){sf(4,2,r,s)},useMemo:function(r,s){var a=gn();s=s===void 0?null:s;var l=r();if(sa){En(!0);try{r()}finally{En(!1)}}return a.memoizedState=[l,s],l},useReducer:function(r,s,a){var l=gn();if(a!==void 0){var h=a(s);if(sa){En(!0);try{a(s)}finally{En(!1)}}}else h=s;return l.memoizedState=l.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},l.queue=r,r=r.dispatch=O1.bind(null,xe,r),[l.memoizedState,r]},useRef:function(r){var s=gn();return r={current:r},s.memoizedState=r},useState:function(r){r=Om(r);var s=r.queue,a=Bv.bind(null,xe,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:km,useDeferredValue:function(r,s){var a=gn();return Pm(a,r,s)},useTransition:function(){var r=Om(!1);return r=Pv.bind(null,xe,r.queue,!0,!1),gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var l=xe,h=gn();if(Fe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),rt===null)throw Error(i(349));(Be&124)!==0||uv(l,s,a)}h.memoizedState=a;var d={value:a,getSnapshot:s};return h.queue=d,Av(fv.bind(null,l,d,r),[r]),l.flags|=2048,fo(9,rf(),cv.bind(null,l,d,a,s),null),a},useId:function(){var r=gn(),s=rt.identifierPrefix;if(Fe){var a=ti,l=ei;a=(l&~(1<<32-en(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=ef++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=A1++,s="«"+s+"r"+a.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Vm,useFormState:_v,useActionState:_v,useOptimistic:function(r){var s=gn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Lm.bind(null,xe,!0,a),a.dispatch=s,[r,s]},useMemoCache:Im,useCacheRefresh:function(){return gn().memoizedState=D1.bind(null,xe)}},Hv={readContext:tn,use:tf,useCallback:Ov,useContext:tn,useEffect:Rv,useImperativeHandle:Dv,useInsertionEffect:Cv,useLayoutEffect:Iv,useMemo:Nv,useReducer:nf,useRef:Sv,useState:function(){return nf(ii)},useDebugValue:km,useDeferredValue:function(r,s){var a=Rt();return kv(a,Ze.memoizedState,r,s)},useTransition:function(){var r=nf(ii)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Xl(r),s]},useSyncExternalStore:lv,useId:Lv,useHostTransitionStatus:Vm,useFormState:bv,useActionState:bv,useOptimistic:function(r,s){var a=Rt();return mv(a,Ze,r,s)},useMemoCache:Im,useCacheRefresh:Uv},N1={readContext:tn,use:tf,useCallback:Ov,useContext:tn,useEffect:Rv,useImperativeHandle:Dv,useInsertionEffect:Cv,useLayoutEffect:Iv,useMemo:Nv,useReducer:Dm,useRef:Sv,useState:function(){return Dm(ii)},useDebugValue:km,useDeferredValue:function(r,s){var a=Rt();return Ze===null?Pm(a,r,s):kv(a,Ze.memoizedState,r,s)},useTransition:function(){var r=Dm(ii)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Xl(r),s]},useSyncExternalStore:lv,useId:Lv,useHostTransitionStatus:Vm,useFormState:Tv,useActionState:Tv,useOptimistic:function(r,s){var a=Rt();return Ze!==null?mv(a,Ze,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Im,useCacheRefresh:Uv},ho=null,Jl=0;function lf(r){var s=Jl;return Jl+=1,ho===null&&(ho=[]),ev(ho,r,s)}function eu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function uf(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Fv(r){var s=r._init;return s(r._payload)}function Gv(r){function s(M,N){if(r){var z=M.deletions;z===null?(M.deletions=[N],M.flags|=16):z.push(N)}}function a(M,N){if(!r)return null;for(;N!==null;)s(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Jr(M,N),M.index=0,M.sibling=null,M}function d(M,N,z){return M.index=z,r?(z=M.alternate,z!==null?(z=z.index,z<N?(M.flags|=67108866,N):z):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function _(M){return r&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,z,J){return N===null||N.tag!==6?(N=im(z,M.mode,J),N.return=M,N):(N=h(N,z),N.return=M,N)}function C(M,N,z,J){var me=z.type;return me===V?Z(M,N,z.props.children,J,z.key):N!==null&&(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Fv(me)===N.type)?(N=h(N,z.props),eu(N,z),N.return=M,N):(N=Fc(z.type,z.key,z.props,null,M.mode,J),eu(N,z),N.return=M,N)}function j(M,N,z,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=sm(z,M.mode,J),N.return=M,N):(N=h(N,z.children||[]),N.return=M,N)}function Z(M,N,z,J,me){return N===null||N.tag!==7?(N=Ws(z,M.mode,J,me),N.return=M,N):(N=h(N,z),N.return=M,N)}function te(M,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=im(""+N,M.mode,z),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return z=Fc(N.type,N.key,N.props,null,M.mode,z),eu(z,N),z.return=M,z;case D:return N=sm(N,M.mode,z),N.return=M,N;case A:var J=N._init;return N=J(N._payload),te(M,N,z)}if(ht(N)||L(N))return N=Ws(N,M.mode,z,null),N.return=M,N;if(typeof N.then=="function")return te(M,lf(N),z);if(N.$$typeof===X)return te(M,Qc(M,N),z);uf(M,N)}return null}function H(M,N,z,J){var me=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:E(M,N,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===me?C(M,N,z,J):null;case D:return z.key===me?j(M,N,z,J):null;case A:return me=z._init,z=me(z._payload),H(M,N,z,J)}if(ht(z)||L(z))return me!==null?null:Z(M,N,z,J,null);if(typeof z.then=="function")return H(M,N,lf(z),J);if(z.$$typeof===X)return H(M,N,Qc(M,z),J);uf(M,z)}return null}function F(M,N,z,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return M=M.get(z)||null,E(N,M,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return M=M.get(J.key===null?z:J.key)||null,C(N,M,J,me);case D:return M=M.get(J.key===null?z:J.key)||null,j(N,M,J,me);case A:var Oe=J._init;return J=Oe(J._payload),F(M,N,z,J,me)}if(ht(J)||L(J))return M=M.get(z)||null,Z(N,M,J,me,null);if(typeof J.then=="function")return F(M,N,z,lf(J),me);if(J.$$typeof===X)return F(M,N,z,Qc(N,J),me);uf(N,J)}return null}function Te(M,N,z,J){for(var me=null,Oe=null,pe=N,be=N=0,jt=null;pe!==null&&be<z.length;be++){pe.index>be?(jt=pe,pe=null):jt=pe.sibling;var je=H(M,pe,z[be],J);if(je===null){pe===null&&(pe=jt);break}r&&pe&&je.alternate===null&&s(M,pe),N=d(je,N,be),Oe===null?me=je:Oe.sibling=je,Oe=je,pe=jt}if(be===z.length)return a(M,pe),Fe&&Js(M,be),me;if(pe===null){for(;be<z.length;be++)pe=te(M,z[be],J),pe!==null&&(N=d(pe,N,be),Oe===null?me=pe:Oe.sibling=pe,Oe=pe);return Fe&&Js(M,be),me}for(pe=l(pe);be<z.length;be++)jt=F(pe,M,be,z[be],J),jt!==null&&(r&&jt.alternate!==null&&pe.delete(jt.key===null?be:jt.key),N=d(jt,N,be),Oe===null?me=jt:Oe.sibling=jt,Oe=jt);return r&&pe.forEach(function(rs){return s(M,rs)}),Fe&&Js(M,be),me}function _e(M,N,z,J){if(z==null)throw Error(i(151));for(var me=null,Oe=null,pe=N,be=N=0,jt=null,je=z.next();pe!==null&&!je.done;be++,je=z.next()){pe.index>be?(jt=pe,pe=null):jt=pe.sibling;var rs=H(M,pe,je.value,J);if(rs===null){pe===null&&(pe=jt);break}r&&pe&&rs.alternate===null&&s(M,pe),N=d(rs,N,be),Oe===null?me=rs:Oe.sibling=rs,Oe=rs,pe=jt}if(je.done)return a(M,pe),Fe&&Js(M,be),me;if(pe===null){for(;!je.done;be++,je=z.next())je=te(M,je.value,J),je!==null&&(N=d(je,N,be),Oe===null?me=je:Oe.sibling=je,Oe=je);return Fe&&Js(M,be),me}for(pe=l(pe);!je.done;be++,je=z.next())je=F(pe,M,be,je.value,J),je!==null&&(r&&je.alternate!==null&&pe.delete(je.key===null?be:je.key),N=d(je,N,be),Oe===null?me=je:Oe.sibling=je,Oe=je);return r&&pe.forEach(function(kR){return s(M,kR)}),Fe&&Js(M,be),me}function et(M,N,z,J){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var me=z.key;N!==null;){if(N.key===me){if(me=z.type,me===V){if(N.tag===7){a(M,N.sibling),J=h(N,z.props.children),J.return=M,M=J;break e}}else if(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Fv(me)===N.type){a(M,N.sibling),J=h(N,z.props),eu(J,z),J.return=M,M=J;break e}a(M,N);break}else s(M,N);N=N.sibling}z.type===V?(J=Ws(z.props.children,M.mode,J,z.key),J.return=M,M=J):(J=Fc(z.type,z.key,z.props,null,M.mode,J),eu(J,z),J.return=M,M=J)}return _(M);case D:e:{for(me=z.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(M,N.sibling),J=h(N,z.children||[]),J.return=M,M=J;break e}else{a(M,N);break}else s(M,N);N=N.sibling}J=sm(z,M.mode,J),J.return=M,M=J}return _(M);case A:return me=z._init,z=me(z._payload),et(M,N,z,J)}if(ht(z))return Te(M,N,z,J);if(L(z)){if(me=L(z),typeof me!="function")throw Error(i(150));return z=me.call(z),_e(M,N,z,J)}if(typeof z.then=="function")return et(M,N,lf(z),J);if(z.$$typeof===X)return et(M,N,Qc(M,z),J);uf(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(M,N.sibling),J=h(N,z),J.return=M,M=J):(a(M,N),J=im(z,M.mode,J),J.return=M,M=J),_(M)):a(M,N)}return function(M,N,z,J){try{Jl=0;var me=et(M,N,z,J);return ho=null,me}catch(pe){if(pe===Fl||pe===Xc)throw pe;var Oe=An(29,pe,null,M.mode);return Oe.lanes=J,Oe.return=M,Oe}finally{}}}var mo=Gv(!0),$v=Gv(!1),Kn=re(null),Er=null;function qi(r){var s=r.alternate;oe(Pt,Pt.current&1),oe(Kn,r),Er===null&&(s===null||lo.current!==null||s.memoizedState!==null)&&(Er=r)}function Kv(r){if(r.tag===22){if(oe(Pt,Pt.current),oe(Kn,r),Er===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Er=r)}}else Hi()}function Hi(){oe(Pt,Pt.current),oe(Kn,Kn.current)}function si(r){ce(Kn),Er===r&&(Er=null),ce(Pt)}var Pt=re(0);function cf(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cp(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Um(r,s,a,l){s=r.memoizedState,a=a(l,s),a=a==null?s:w({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Bm={enqueueSetState:function(r,s,a){r=r._reactInternals;var l=xn(),h=Bi(l);h.payload=s,a!=null&&(h.callback=a),s=zi(r,h,l),s!==null&&(Dn(s,r,l),$l(s,r,l))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var l=xn(),h=Bi(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=zi(r,h,l),s!==null&&(Dn(s,r,l),$l(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=xn(),l=Bi(a);l.tag=2,s!=null&&(l.callback=s),s=zi(r,l,a),s!==null&&(Dn(s,r,a),$l(s,r,a))}};function Qv(r,s,a,l,h,d,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Vl(a,l)||!Vl(h,d):!0}function Yv(r,s,a,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==r&&Bm.enqueueReplaceState(s,s.state,null)}function aa(r,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(r=r.defaultProps){a===s&&(a=w({},a));for(var h in r)a[h]===void 0&&(a[h]=r[h])}return a}var ff=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Xv(r){ff(r)}function Wv(r){console.error(r)}function Zv(r){ff(r)}function hf(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Jv(r,s,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zm(r,s,a){return a=Bi(a),a.tag=3,a.payload={element:null},a.callback=function(){hf(r,s)},a}function e_(r){return r=Bi(r),r.tag=3,r}function t_(r,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;r.payload=function(){return h(d)},r.callback=function(){Jv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){Jv(s,a,l),typeof h!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function k1(r,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&jl(s,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Er===null?cp():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pm?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),hp(r,l,h)),!1;case 22:return a.flags|=65536,l===pm?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),hp(r,l,h)),!1}throw Error(i(435,a.tag))}return hp(r,l,h),cp(),!1}if(Fe)return s=Kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==lm&&(r=Error(i(422),{cause:l}),zl(Hn(r,a)))):(l!==lm&&(s=Error(i(423),{cause:l}),zl(Hn(s,a))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,l=Hn(l,a),h=zm(r.stateNode,l,h),wm(r,h),pt!==4&&(pt=2)),!1;var d=Error(i(520),{cause:l});if(d=Hn(d,a),ou===null?ou=[d]:ou.push(d),pt!==4&&(pt=2),s===null)return!0;l=Hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=h&-h,a.lanes|=r,r=zm(a.stateNode,l,r),wm(a,r),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yi===null||!Yi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e_(h),t_(h,r,a,l),wm(a,h),!1}a=a.return}while(a!==null);return!1}var n_=Error(i(461)),Bt=!1;function Kt(r,s,a,l){s.child=r===null?$v(s,null,a,l):mo(s,r.child,a,l)}function r_(r,s,a,l,h){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ra(s),l=Tm(r,s,a,_,d,h),E=Sm(),r!==null&&!Bt?(Am(r,s,h),ai(r,s,h)):(Fe&&E&&am(s),s.flags|=1,Kt(r,s,l,h),s.child)}function i_(r,s,a,l,h){if(r===null){var d=a.type;return typeof d=="function"&&!rm(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,s_(r,s,d,l,h)):(r=Fc(a.type,null,l,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(d=r.child,!Qm(r,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(_,l)&&r.ref===s.ref)return ai(r,s,h)}return s.flags|=1,r=Jr(d,l),r.ref=s.ref,r.return=s,s.child=r}function s_(r,s,a,l,h){if(r!==null){var d=r.memoizedProps;if(Vl(d,l)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=l=d,Qm(r,h))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,ai(r,s,h)}return jm(r,s,a,l,h)}function a_(r,s,a){var l=s.pendingProps,h=l.children,d=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,r!==null){for(h=s.child=r.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return o_(r,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Yc(s,d!==null?d.cachePool:null),d!==null?sv(s,d):_m(),Kv(s);else return s.lanes=s.childLanes=536870912,o_(r,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yc(s,d.cachePool),sv(s,d),Hi(),s.memoizedState=null):(r!==null&&Yc(s,null),_m(),Hi());return Kt(r,s,h,a),s.child}function o_(r,s,a,l){var h=mm();return h=h===null?null:{parent:kt._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},r!==null&&Yc(s,null),_m(),Kv(s),r!==null&&jl(r,s,l,!0),null}function df(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function jm(r,s,a,l,h){return ra(s),a=Tm(r,s,a,l,void 0,h),l=Sm(),r!==null&&!Bt?(Am(r,s,h),ai(r,s,h)):(Fe&&l&&am(s),s.flags|=1,Kt(r,s,a,h),s.child)}function l_(r,s,a,l,h,d){return ra(s),s.updateQueue=null,a=ov(s,l,a,h),av(r),l=Sm(),r!==null&&!Bt?(Am(r,s,d),ai(r,s,d)):(Fe&&l&&am(s),s.flags|=1,Kt(r,s,a,d),s.child)}function u_(r,s,a,l,h){if(ra(s),s.stateNode===null){var d=ro,_=a.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},gm(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?tn(_):ro,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Um(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bm.enqueueReplaceState(d,d.state,null),Ql(s,l,d,h),Kl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){d=s.stateNode;var E=s.memoizedProps,C=aa(a,E);d.props=C;var j=d.context,Z=a.contextType;_=ro,typeof Z=="object"&&Z!==null&&(_=tn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==_)&&Yv(s,d,l,_),Ui=!1;var H=s.memoizedState;d.state=H,Ql(s,l,d,h),Kl(),j=s.memoizedState,E||H!==j||Ui?(typeof te=="function"&&(Um(s,a,te,l),j=s.memoizedState),(C=Ui||Qv(s,a,C,l,H,j,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=j),d.props=l,d.state=j,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,ym(r,s),_=s.memoizedProps,Z=aa(a,_),d.props=Z,te=s.pendingProps,H=d.context,j=a.contextType,C=ro,typeof j=="object"&&j!==null&&(C=tn(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||H!==C)&&Yv(s,d,l,C),Ui=!1,H=s.memoizedState,d.state=H,Ql(s,l,d,h),Kl();var F=s.memoizedState;_!==te||H!==F||Ui||r!==null&&r.dependencies!==null&&Kc(r.dependencies)?(typeof E=="function"&&(Um(s,a,E,l),F=s.memoizedState),(Z=Ui||Qv(s,a,Z,l,H,F,C)||r!==null&&r.dependencies!==null&&Kc(r.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=F),d.props=l,d.state=F,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),l=!1)}return d=l,df(r,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,r!==null&&l?(s.child=mo(s,r.child,null,h),s.child=mo(s,null,a,h)):Kt(r,s,a,h),s.memoizedState=d.state,r=s.child):r=ai(r,s,h),r}function c_(r,s,a,l){return Bl(),s.flags|=256,Kt(r,s,a,l),s.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(r){return{baseLanes:r,cachePool:Ww()}}function Fm(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=Qn),r}function f_(r,s,a){var l=s.pendingProps,h=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(Fe){if(h?qi(s):Hi(),Fe){var E=mt,C;if(C=E){e:{for(C=E,E=br;C.nodeType!==8;){if(!E){E=null;break e}if(C=ir(C.nextSibling),C===null){E=null;break e}}E=C}E!==null?(s.memoizedState={dehydrated:E,treeContext:Zs!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},C=An(18,null,null,0),C.stateNode=E,C.return=s,s.child=C,hn=s,mt=null,C=!0):C=!1}C||ta(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Cp(E)?s.lanes=32:s.lanes=536870912,null;si(s)}return E=l.children,l=l.fallback,h?(Hi(),h=s.mode,E=mf({mode:"hidden",children:E},h),l=Ws(l,h,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,h=s.child,h.memoizedState=Hm(a),h.childLanes=Fm(r,_,a),s.memoizedState=qm,l):(qi(s),Gm(s,E))}if(C=r.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(d)s.flags&256?(qi(s),s.flags&=-257,s=$m(r,s,a)):s.memoizedState!==null?(Hi(),s.child=r.child,s.flags|=128,s=null):(Hi(),h=l.fallback,E=s.mode,l=mf({mode:"visible",children:l.children},E),h=Ws(h,E,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,mo(s,r.child,null,a),l=s.child,l.memoizedState=Hm(a),l.childLanes=Fm(r,_,a),s.memoizedState=qm,s=h);else if(qi(s),Cp(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(i(419)),l.stack="",l.digest=_,zl({value:l,source:null,stack:null}),s=$m(r,s,a)}else if(Bt||jl(r,s,a,!1),_=(a&r.childLanes)!==0,Bt||_){if(_=rt,_!==null&&(l=a&-a,l=(l&42)!==0?1:Di(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,no(r,l),Dn(_,r,l),n_;E.data==="$?"||cp(),s=$m(r,s,a)}else E.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=C.treeContext,mt=ir(E.nextSibling),hn=s,Fe=!0,ea=null,br=!1,r!==null&&(Gn[$n++]=ei,Gn[$n++]=ti,Gn[$n++]=Zs,ei=r.id,ti=r.overflow,Zs=s),s=Gm(s,l.children),s.flags|=4096);return s}return h?(Hi(),h=l.fallback,E=s.mode,C=r.child,j=C.sibling,l=Jr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=Jr(j,h):(h=Ws(h,E,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,l=h,h=s.child,E=r.child.memoizedState,E===null?E=Hm(a):(C=E.cachePool,C!==null?(j=kt._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=Ww(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=Fm(r,_,a),s.memoizedState=qm,l):(qi(s),a=r.child,r=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=a,s.memoizedState=null,a)}function Gm(r,s){return s=mf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function mf(r,s){return r=An(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $m(r,s,a){return mo(s,r.child,null,a),r=Gm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function h_(r,s,a){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),cm(r.return,s,a)}function Km(r,s,a,l,h){var d=r.memoizedState;d===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function d_(r,s,a){var l=s.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(r,s,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&h_(r,a,s);else if(r.tag===19)h_(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(oe(Pt,l),h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&cf(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Km(s,!1,h,a,d);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&cf(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}Km(s,!0,a,null,d);break;case"together":Km(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ai(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Qi|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(jl(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=Jr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Jr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Qm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Kc(r)))}function P1(r,s,a){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),Li(s,kt,r.memoizedState.cache),Bl();break;case 27:case 5:xi(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:Li(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?f_(r,s,a):(qi(s),r=ai(r,s,a),r!==null?r.sibling:null);qi(s);break;case 19:var h=(r.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(jl(r,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return d_(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Pt,Pt.current),l)break;return null;case 22:case 23:return s.lanes=0,a_(r,s,a);case 24:Li(s,kt,r.memoizedState.cache)}return ai(r,s,a)}function m_(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Qm(r,a)&&(s.flags&128)===0)return Bt=!1,P1(r,s,a);Bt=(r.flags&131072)!==0}else Bt=!1,Fe&&(s.flags&1048576)!==0&&Fw(s,$c,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var l=s.elementType,h=l._init;if(l=h(l._payload),s.type=l,typeof l=="function")rm(l)?(r=aa(l,r),s.tag=1,s=u_(null,s,l,r,a)):(s.tag=0,s=jm(null,s,l,r,a));else{if(l!=null){if(h=l.$$typeof,h===ae){s.tag=11,s=r_(null,s,l,r,a);break e}else if(h===x){s.tag=14,s=i_(null,s,l,r,a);break e}}throw s=Ft(l)||l,Error(i(306,s,""))}}return s;case 0:return jm(r,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=aa(l,s.pendingProps),u_(r,s,l,h,a);case 3:e:{if(nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));l=s.pendingProps;var d=s.memoizedState;h=d.element,ym(r,s),Ql(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Li(s,kt,l),l!==d.cache&&fm(s,[kt],a,!0),Kl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=c_(r,s,l,a);break e}else if(l!==h){h=Hn(Error(i(424)),s),zl(h),s=c_(r,s,l,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=ir(r.firstChild),hn=s,Fe=!0,ea=null,br=!0,a=$v(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bl(),l===h){s=ai(r,s,a);break e}Kt(r,s,l,a)}s=s.child}return s;case 26:return df(r,s),r===null?(a=w0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Fe||(a=s.type,r=s.pendingProps,l=If(Ae.current).createElement(a),l[Dt]=s,l[Tt]=r,Yt(l,a,r),gt(l),s.stateNode=l):s.memoizedState=w0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return xi(s),r===null&&Fe&&(l=s.stateNode=p0(s.type,s.pendingProps,Ae.current),hn=s,br=!0,h=mt,Zi(s.type)?(Ip=h,mt=ir(l.firstChild)):mt=h),Kt(r,s,s.pendingProps.children,a),df(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Fe&&((h=l=mt)&&(l=lR(l,s.type,s.pendingProps,br),l!==null?(s.stateNode=l,hn=s,mt=ir(l.firstChild),br=!1,h=!0):h=!1),h||ta(s)),xi(s),h=s.type,d=s.pendingProps,_=r!==null?r.memoizedProps:null,l=d.children,Sp(h,d)?l=null:_!==null&&Sp(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Tm(r,s,R1,null,null,a),gu._currentValue=h),df(r,s),Kt(r,s,l,a),s.child;case 6:return r===null&&Fe&&((r=a=mt)&&(a=uR(a,s.pendingProps,br),a!==null?(s.stateNode=a,hn=s,mt=null,r=!0):r=!1),r||ta(s)),null;case 13:return f_(r,s,a);case 4:return nt(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=mo(s,null,l,a):Kt(r,s,l,a),s.child;case 11:return r_(r,s,s.type,s.pendingProps,a);case 7:return Kt(r,s,s.pendingProps,a),s.child;case 8:return Kt(r,s,s.pendingProps.children,a),s.child;case 12:return Kt(r,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Li(s,s.type,l.value),Kt(r,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,ra(s),h=tn(h),l=l(h),s.flags|=1,Kt(r,s,l,a),s.child;case 14:return i_(r,s,s.type,s.pendingProps,a);case 15:return s_(r,s,s.type,s.pendingProps,a);case 19:return d_(r,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},r===null?(a=mf(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Jr(r.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return a_(r,s,a);case 24:return ra(s),l=tn(kt),r===null?(h=mm(),h===null&&(h=rt,d=hm(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),s.memoizedState={parent:l,cache:h},gm(s),Li(s,kt,h)):((r.lanes&a)!==0&&(ym(r,s),Ql(s,null,null,a),Kl()),h=r.memoizedState,d=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Li(s,kt,l)):(l=d.cache,Li(s,kt,l),l!==h.cache&&fm(s,[kt],a,!0))),Kt(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function oi(r){r.flags|=4}function p_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!T0(s)){if(s=Kn.current,s!==null&&((Be&4194048)===Be?Er!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==Er))throw Gl=pm,Zw;r.flags|=8192}}function pf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?wl():536870912,r.lanes|=s,wo|=s)}function tu(r,s){if(!Fe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=l,r.childLanes=a,s}function M1(r,s,a){var l=s.pendingProps;switch(om(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return a=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ri(kt),ur(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Ul(s)?oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kw())),ut(s),null;case 26:return a=s.memoizedState,r===null?(oi(s),a!==null?(ut(s),p_(s,a)):(ut(s),s.flags&=-16777217)):a?a!==r.memoizedState?(oi(s),ut(s),p_(s,a)):(ut(s),s.flags&=-16777217):(r.memoizedProps!==l&&oi(s),ut(s),s.flags&=-16777217),null;case 27:zr(s),a=Ae.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}r=we.current,Ul(s)?Gw(s):(r=p0(h,l,a),s.stateNode=r,oi(s))}return ut(s),null;case 5:if(zr(s),a=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}if(r=we.current,Ul(s))Gw(s);else{switch(h=If(Ae.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}r[Dt]=s,r[Tt]=l;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Yt(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&oi(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&oi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,Ul(s)){if(r=s.stateNode,a=s.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}r[Dt]=s,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||l0(r.nodeValue,a)),r||ta(s)}else r=If(r).createTextNode(l),r[Dt]=s,s.stateNode=r}return ut(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Ul(s),l!==null&&l.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Dt]=s}else Bl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),h=!1}else h=Kw(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(si(s),s):(si(s),null)}if(si(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==r&&a&&(s.child.flags|=8192),pf(s,s.updateQueue),ut(s),null;case 4:return ur(),r===null&&vp(s.stateNode.containerInfo),ut(s),null;case 10:return ri(s.type),ut(s),null;case 19:if(ce(Pt),h=s.memoizedState,h===null)return ut(s),null;if(l=(s.flags&128)!==0,d=h.rendering,d===null)if(l)tu(h,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(d=cf(r),d!==null){for(s.flags|=128,tu(h,!1),r=d.updateQueue,s.updateQueue=r,pf(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Hw(a,r),a=a.sibling;return oe(Pt,Pt.current&1|2),s.child}r=r.sibling}h.tail!==null&&Ln()>wf&&(s.flags|=128,l=!0,tu(h,!1),s.lanes=4194304)}else{if(!l)if(r=cf(d),r!==null){if(s.flags|=128,l=!0,r=r.updateQueue,s.updateQueue=r,pf(s,r),tu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(s),null}else 2*Ln()-h.renderingStartTime>wf&&a!==536870912&&(s.flags|=128,l=!0,tu(h,!1),s.lanes=4194304);h.isBackwards?(d.sibling=s.child,s.child=d):(r=h.last,r!==null?r.sibling=d:s.child=d,h.last=d)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Ln(),s.sibling=null,r=Pt.current,oe(Pt,l?r&1|2:r&1),s):(ut(s),null);case 22:case 23:return si(s),bm(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),a=s.updateQueue,a!==null&&pf(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),r!==null&&ce(ia),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ri(kt),ut(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function V1(r,s){switch(om(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ri(kt),ur(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return zr(s),null;case 13:if(si(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Bl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(Pt),null;case 4:return ur(),null;case 10:return ri(s.type),null;case 22:case 23:return si(s),bm(),r!==null&&ce(ia),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ri(kt),null;case 25:return null;default:return null}}function g_(r,s){switch(om(s),s.tag){case 3:ri(kt),ur();break;case 26:case 27:case 5:zr(s);break;case 4:ur();break;case 13:si(s);break;case 19:ce(Pt);break;case 10:ri(s.type);break;case 22:case 23:si(s),bm(),r!==null&&ce(ia);break;case 24:ri(kt)}}function nu(r,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&r)===r){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){tt(s,s.return,E)}}function Fi(r,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&r)===r){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=s;var C=a,j=E;try{j()}catch(Z){tt(h,C,Z)}}}l=l.next}while(l!==d)}}catch(Z){tt(s,s.return,Z)}}function y_(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{iv(s,a)}catch(l){tt(r,r.return,l)}}}function w_(r,s,a){a.props=aa(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){tt(r,s,l)}}function ru(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(h){tt(r,s,h)}}function Tr(r,s){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(r,s,h)}else a.current=null}function v_(r){var s=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(r,r.return,h)}}function Ym(r,s,a){try{var l=r.stateNode;rR(l,r.type,a,s),l[Tt]=s}catch(h){tt(r,r.return,h)}}function __(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zi(r.type)||r.tag===4}function Xm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||__(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wm(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Cf));else if(l!==4&&(l===27&&Zi(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Wm(r,s,a),r=r.sibling;r!==null;)Wm(r,s,a),r=r.sibling}function gf(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(l!==4&&(l===27&&Zi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(gf(r,s,a),r=r.sibling;r!==null;)gf(r,s,a),r=r.sibling}function b_(r){var s=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Yt(s,l,a),s[Dt]=r,s[Tt]=a}catch(d){tt(r,r.return,d)}}var li=!1,wt=!1,Zm=!1,E_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function L1(r,s){if(r=r.containerInfo,Ep=Pf,r=kw(r),Xd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,j=0,Z=0,te=r,H=null;t:for(;;){for(var F;te!==a||h!==0&&te.nodeType!==3||(E=_+h),te!==d||l!==0&&te.nodeType!==3||(C=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(F=te.firstChild)!==null;)H=te,te=F;for(;;){if(te===r)break t;if(H===a&&++j===h&&(E=_),H===d&&++Z===l&&(C=_),(F=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tp={focusedElem:r,selectionRange:a},Pf=!1,zt=s;zt!==null;)if(s=zt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,zt=r;else for(;zt!==null;){switch(s=zt,d=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&d!==null){r=void 0,a=s,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=aa(a.type,h,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=r}catch(_e){tt(a,a.return,_e)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)Rp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Rp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,zt=r;break}zt=s.return}}function T_(r,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(r,a),l&4&&nu(5,a);break;case 1:if(Gi(r,a),l&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(_){tt(a,a.return,_)}else{var h=aa(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&y_(a),l&512&&ru(a,a.return);break;case 3:if(Gi(r,a),l&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{iv(r,s)}catch(_){tt(a,a.return,_)}}break;case 27:s===null&&l&4&&b_(a);case 26:case 5:Gi(r,a),s===null&&l&4&&v_(a),l&512&&ru(a,a.return);break;case 12:Gi(r,a);break;case 13:Gi(r,a),l&4&&R_(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=$1.bind(null,a),cR(r,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){s=s!==null&&s.memoizedState!==null||wt,h=li;var d=wt;li=l,(wt=s)&&!d?$i(r,a,(a.subtreeFlags&8772)!==0):Gi(r,a),li=h,wt=d}break;case 30:break;default:Gi(r,a)}}function S_(r){var s=r.alternate;s!==null&&(r.alternate=null,S_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ki(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var lt=null,yn=!1;function ui(r,s,a){for(a=a.child;a!==null;)A_(r,s,a),a=a.sibling}function A_(r,s,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:wt||Tr(a,s),ui(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Tr(a,s);var l=lt,h=yn;Zi(a.type)&&(lt=a.stateNode,yn=!1),ui(r,s,a),hu(a.stateNode),lt=l,yn=h;break;case 5:wt||Tr(a,s);case 6:if(l=lt,h=yn,lt=null,ui(r,s,a),lt=l,yn=h,lt!==null)if(yn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){tt(a,s,d)}else try{lt.removeChild(a.stateNode)}catch(d){tt(a,s,d)}break;case 18:lt!==null&&(yn?(r=lt,d0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),_u(r)):d0(lt,a.stateNode));break;case 4:l=lt,h=yn,lt=a.stateNode.containerInfo,yn=!0,ui(r,s,a),lt=l,yn=h;break;case 0:case 11:case 14:case 15:wt||Fi(2,a,s),wt||Fi(4,a,s),ui(r,s,a);break;case 1:wt||(Tr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&w_(a,s,l)),ui(r,s,a);break;case 21:ui(r,s,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,ui(r,s,a),wt=l;break;default:ui(r,s,a)}}function R_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_u(r)}catch(a){tt(s,s.return,a)}}function U1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new E_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new E_),s;default:throw Error(i(435,r.tag))}}function Jm(r,s){var a=U1(r);s.forEach(function(l){var h=K1.bind(null,r,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(r,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=r,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Zi(E.type)){lt=E.stateNode,yn=!1;break e}break;case 5:lt=E.stateNode,yn=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(lt===null)throw Error(i(160));A_(d,_,h),lt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)C_(s,r),s=s.sibling}var rr=null;function C_(r,s){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Rn(s,r),Cn(r),l&4&&(Fi(3,r,r.return),nu(3,r),Fi(5,r,r.return));break;case 1:Rn(s,r),Cn(r),l&512&&(wt||a===null||Tr(a,a.return)),l&64&&li&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=rr;if(Rn(s,r),Cn(r),l&512&&(wt||a===null||Tr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ms]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[Dt]=r,gt(d),l=d;break e;case"link":var _=b0("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=b0("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[Dt]=r,gt(d),l=d}r.stateNode=l}else E0(h,r.type,r.stateNode);else r.stateNode=_0(h,l,r.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?E0(h,r.type,r.stateNode):_0(h,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Ym(r,r.memoizedProps,a.memoizedProps)}break;case 27:Rn(s,r),Cn(r),l&512&&(wt||a===null||Tr(a,a.return)),a!==null&&l&4&&Ym(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Rn(s,r),Cn(r),l&512&&(wt||a===null||Tr(a,a.return)),r.flags&32){h=r.stateNode;try{Bn(h,"")}catch(F){tt(r,r.return,F)}}l&4&&r.stateNode!=null&&(h=r.memoizedProps,Ym(r,h,a!==null?a.memoizedProps:h)),l&1024&&(Zm=!0);break;case 6:if(Rn(s,r),Cn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(F){tt(r,r.return,F)}}break;case 3:if(Of=null,h=rr,rr=xf(s.containerInfo),Rn(s,r),rr=h,Cn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_u(s.containerInfo)}catch(F){tt(r,r.return,F)}Zm&&(Zm=!1,I_(r));break;case 4:l=rr,rr=xf(r.stateNode.containerInfo),Rn(s,r),Cn(r),rr=l;break;case 12:Rn(s,r),Cn(r);break;case 13:Rn(s,r),Cn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sp=Ln()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Jm(r,l)));break;case 22:h=r.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=li,Z=wt;if(li=j||h,wt=Z||C,Rn(s,r),wt=Z,li=j,Cn(r),l&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||li||wt||oa(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var te=C.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){tt(C,C.return,F)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){tt(C,C.return,F)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jm(r,a))));break;case 19:Rn(s,r),Cn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Jm(r,l)));break;case 30:break;case 21:break;default:Rn(s,r),Cn(r)}}function Cn(r){var s=r.flags;if(s&2){try{for(var a,l=r.return;l!==null;){if(__(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,d=Xm(r);gf(r,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Bn(_,""),a.flags&=-33);var E=Xm(r);gf(r,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Xm(r);Wm(r,j,C);break;default:throw Error(i(161))}}catch(Z){tt(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function I_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;I_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Gi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)T_(r,s.alternate,s),s=s.sibling}function oa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Fi(4,s,s.return),oa(s);break;case 1:Tr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&w_(s,s.return,a),oa(s);break;case 27:hu(s.stateNode);case 26:case 5:Tr(s,s.return),oa(s);break;case 22:s.memoizedState===null&&oa(s);break;case 30:oa(s);break;default:oa(s)}r=r.sibling}}function $i(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=r,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(h,d,a),nu(4,d);break;case 1:if($i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){tt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)rv(C[h],E)}catch(j){tt(l,l.return,j)}}a&&_&64&&y_(d),ru(d,d.return);break;case 27:b_(d);case 26:case 5:$i(h,d,a),a&&l===null&&_&4&&v_(d),ru(d,d.return);break;case 12:$i(h,d,a);break;case 13:$i(h,d,a),a&&_&4&&R_(h,d);break;case 22:d.memoizedState===null&&$i(h,d,a),ru(d,d.return);break;case 30:break;default:$i(h,d,a)}s=s.sibling}}function ep(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&ql(a))}function tp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ql(r))}function Sr(r,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)x_(r,s,a,l),s=s.sibling}function x_(r,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Sr(r,s,a,l),h&2048&&nu(9,s);break;case 1:Sr(r,s,a,l);break;case 3:Sr(r,s,a,l),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ql(r)));break;case 12:if(h&2048){Sr(r,s,a,l),r=s.stateNode;try{var d=s.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(C){tt(s,s.return,C)}}else Sr(r,s,a,l);break;case 13:Sr(r,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Sr(r,s,a,l):iu(r,s):d._visibility&2?Sr(r,s,a,l):(d._visibility|=2,po(r,s,a,l,(s.subtreeFlags&10256)!==0)),h&2048&&ep(_,s);break;case 24:Sr(r,s,a,l),h&2048&&tp(s.alternate,s);break;default:Sr(r,s,a,l)}}function po(r,s,a,l,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=r,_=s,E=a,C=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:po(d,_,E,C,h),nu(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?po(d,_,E,C,h):iu(d,_):(Z._visibility|=2,po(d,_,E,C,h)),h&&j&2048&&ep(_.alternate,_);break;case 24:po(d,_,E,C,h),h&&j&2048&&tp(_.alternate,_);break;default:po(d,_,E,C,h)}s=s.sibling}}function iu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,l=s,h=l.flags;switch(l.tag){case 22:iu(a,l),h&2048&&ep(l.alternate,l);break;case 24:iu(a,l),h&2048&&tp(l.alternate,l);break;default:iu(a,l)}s=s.sibling}}var su=8192;function go(r){if(r.subtreeFlags&su)for(r=r.child;r!==null;)D_(r),r=r.sibling}function D_(r){switch(r.tag){case 26:go(r),r.flags&su&&r.memoizedState!==null&&TR(rr,r.memoizedState,r.memoizedProps);break;case 5:go(r);break;case 3:case 4:var s=rr;rr=xf(r.stateNode.containerInfo),go(r),rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=su,su=16777216,go(r),su=s):go(r));break;default:go(r)}}function O_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function au(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,k_(l,r)}O_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N_(r),r=r.sibling}function N_(r){switch(r.tag){case 0:case 11:case 15:au(r),r.flags&2048&&Fi(9,r,r.return);break;case 3:au(r);break;case 12:au(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,yf(r)):au(r);break;default:au(r)}}function yf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,k_(l,r)}O_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Fi(8,s,s.return),yf(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,yf(s));break;default:yf(s)}r=r.sibling}}function k_(r,s){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Fi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=r;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(S_(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var B1={getCacheForType:function(r){var s=tn(kt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a}},z1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Ne=null,Be=0,Xe=0,In=null,Ki=!1,yo=!1,np=!1,ci=0,pt=0,Qi=0,la=0,rp=0,Qn=0,wo=0,ou=null,wn=null,ip=!1,sp=0,wf=1/0,vf=null,Yi=null,Qt=0,Xi=null,vo=null,_o=0,ap=0,op=null,P_=null,lu=0,lp=null;function xn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(W.T!==null){var r=ao;return r!==0?r:pp()}return Oi()}function M_(){Qn===0&&(Qn=(Be&536870912)===0||Fe?yl():536870912);var r=Kn.current;return r!==null&&(r.flags|=32),Qn}function Dn(r,s,a){(r===rt&&(Xe===2||Xe===9)||r.cancelPendingCommit!==null)&&(bo(r,0),Wi(r,Be,Qn,!1)),qr(r,a),((Ye&2)===0||r!==rt)&&(r===rt&&((Ye&2)===0&&(la|=a),pt===4&&Wi(r,Be,Qn,!1)),Ar(r))}function V_(r,s,a){if((Ye&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&r.expiredLanes)===0||Ps(r,s),h=l?H1(r,s):fp(r,s,!0),d=l;do{if(h===0){yo&&!l&&Wi(r,s,0,!1);break}else{if(a=r.current.alternate,d&&!j1(a)){h=fp(r,s,!1),d=!1;continue}if(h===2){if(d=s,r.errorRecoveryDisabledLanes&d)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var E=r;h=ou;var C=E.current.memoizedState.isDehydrated;if(C&&(bo(E,_).flags|=256),_=fp(E,_,!1),_!==2){if(np&&!C){E.errorRecoveryDisabledLanes|=d,la|=d,h=4;break e}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){bo(r,0),Wi(r,s,0,!0);break}e:{switch(l=r,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Wi(l,s,Qn,!Ki);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=sp+300-Ln(),10<h)){if(Wi(l,s,Qn,!Ki),La(l,0,!0)!==0)break e;l.timeoutHandle=f0(L_.bind(null,l,a,wn,vf,ip,s,Qn,la,wo,Ki,d,2,-0,0),h);break e}L_(l,a,wn,vf,ip,s,Qn,la,wo,Ki,d,0,-0,0)}}break}while(!0);Ar(r)}function L_(r,s,a,l,h,d,_,E,C,j,Z,te,H,F){if(r.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:ER},D_(s),te=SR(),te!==null)){r.cancelPendingCommit=te(F_.bind(null,r,s,d,a,l,h,_,E,C,Z,1,H,F)),Wi(r,d,_,!j);return}F_(r,s,d,a,l,h,_,E,C)}function j1(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(r,s,a,l){s&=~rp,s&=~la,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var h=s;0<h;){var d=31-en(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&cr(r,a,s)}function _f(){return(Ye&6)===0?(uu(0),!1):!0}function up(){if(Ne!==null){if(Xe===0)var r=Ne.return;else r=Ne,ni=na=null,Rm(r),ho=null,Jl=0,r=Ne;for(;r!==null;)g_(r.alternate,r),r=r.return;Ne=null}}function bo(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,sR(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),up(),rt=r,Ne=a=Jr(r.current,null),Be=s,Xe=0,In=null,Ki=!1,yo=Ps(r,s),np=!1,wo=Qn=rp=la=Qi=pt=0,wn=ou=null,ip=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var h=31-en(l),d=1<<h;s|=r[h],l&=~d}return ci=s,jc(),a}function U_(r,s){xe=null,W.H=of,s===Fl||s===Xc?(s=tv(),Xe=3):s===Zw?(s=tv(),Xe=4):Xe=s===n_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Ne===null&&(pt=1,hf(r,Hn(s,r.current)))}function B_(){var r=W.H;return W.H=of,r===null?of:r}function z_(){var r=W.A;return W.A=B1,r}function cp(){pt=4,Ki||(Be&4194048)!==Be&&Kn.current!==null||(yo=!0),(Qi&134217727)===0&&(la&134217727)===0||rt===null||Wi(rt,Be,Qn,!1)}function fp(r,s,a){var l=Ye;Ye|=2;var h=B_(),d=z_();(rt!==r||Be!==s)&&(vf=null,bo(r,s)),s=!1;var _=pt;e:do try{if(Xe!==0&&Ne!==null){var E=Ne,C=In;switch(Xe){case 8:up(),_=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(s=!0);var j=Xe;if(Xe=0,In=null,Eo(r,E,C,j),a&&yo){_=0;break e}break;default:j=Xe,Xe=0,In=null,Eo(r,E,C,j)}}q1(),_=pt;break}catch(Z){U_(r,Z)}while(!0);return s&&r.shellSuspendCounter++,ni=na=null,Ye=l,W.H=h,W.A=d,Ne===null&&(rt=null,Be=0,jc()),_}function q1(){for(;Ne!==null;)j_(Ne)}function H1(r,s){var a=Ye;Ye|=2;var l=B_(),h=z_();rt!==r||Be!==s?(vf=null,wf=Ln()+500,bo(r,s)):yo=Ps(r,s);e:do try{if(Xe!==0&&Ne!==null){s=Ne;var d=In;t:switch(Xe){case 1:Xe=0,In=null,Eo(r,s,d,1);break;case 2:case 9:if(Jw(d)){Xe=0,In=null,q_(s);break}s=function(){Xe!==2&&Xe!==9||rt!==r||(Xe=7),Ar(r)},d.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Jw(d)?(Xe=0,In=null,q_(s)):(Xe=0,In=null,Eo(r,s,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var E=Ne;if(!_||T0(_)){Xe=0,In=null;var C=E.sibling;if(C!==null)Ne=C;else{var j=E.return;j!==null?(Ne=j,bf(j)):Ne=null}break t}}Xe=0,In=null,Eo(r,s,d,5);break;case 6:Xe=0,In=null,Eo(r,s,d,6);break;case 8:up(),pt=6;break e;default:throw Error(i(462))}}F1();break}catch(Z){U_(r,Z)}while(!0);return ni=na=null,W.H=l,W.A=h,Ye=a,Ne!==null?0:(rt=null,Be=0,jc(),pt)}function F1(){for(;Ne!==null&&!dl();)j_(Ne)}function j_(r){var s=m_(r.alternate,r,ci);r.memoizedProps=r.pendingProps,s===null?bf(r):Ne=s}function q_(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=l_(a,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=l_(a,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Rm(s);default:g_(a,s),s=Ne=Hw(s,ci),s=m_(a,s,ci)}r.memoizedProps=r.pendingProps,s===null?bf(r):Ne=s}function Eo(r,s,a,l){ni=na=null,Rm(s),ho=null,Jl=0;var h=s.return;try{if(k1(r,h,s,a,Be)){pt=1,hf(r,Hn(a,r.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;pt=1,hf(r,Hn(a,r.current)),Ne=null;return}s.flags&32768?(Fe||l===1?r=!0:yo||(Be&536870912)!==0?r=!1:(Ki=r=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(s,r)):bf(s)}function bf(r){var s=r;do{if((s.flags&32768)!==0){H_(s,Ki);return}r=s.return;var a=M1(s.alternate,s,ci);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=r}while(s!==null);pt===0&&(pt=5)}function H_(r,s){do{var a=V1(r.alternate,r);if(a!==null){a.flags&=32767,Ne=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ne=r;return}Ne=r=a}while(r!==null);pt=6,Ne=null}function F_(r,s,a,l,h,d,_,E,C){r.cancelPendingCommit=null;do Ef();while(Qt!==0);if((Ye&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(d=s.lanes|s.childLanes,d|=tm,vl(r,a,d,_,E,C),r===rt&&(Ne=rt=null,Be=0),vo=s,Xi=r,_o=a,ap=d,op=h,P_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Q1(Ds,function(){return Y_(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ue.p,ue.p=2,_=Ye,Ye|=4;try{L1(r,s,a)}finally{Ye=_,ue.p=h,W.T=l}}Qt=1,G_(),$_(),K_()}}function G_(){if(Qt===1){Qt=0;var r=Xi,s=vo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{C_(s,r);var d=Tp,_=kw(r.containerInfo),E=d.focusedElem,C=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Nw(E.ownerDocument.documentElement,E)){if(C!==null&&Xd(E)){var j=C.start,Z=C.end;if(Z===void 0&&(Z=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Z,E.value.length);else{var te=E.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=E.textContent.length,_e=Math.min(C.start,Te),et=C.end===void 0?_e:Math.min(C.end,Te);!F.extend&&_e>et&&(_=et,et=_e,_e=_);var M=Ow(E,_e),N=Ow(E,et);if(M&&N&&(F.rangeCount!==1||F.anchorNode!==M.node||F.anchorOffset!==M.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var z=te.createRange();z.setStart(M.node,M.offset),F.removeAllRanges(),_e>et?(F.addRange(z),F.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),F.addRange(z))}}}}for(te=[],F=E;F=F.parentNode;)F.nodeType===1&&te.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<te.length;E++){var J=te[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Pf=!!Ep,Tp=Ep=null}finally{Ye=h,ue.p=l,W.T=a}}r.current=s,Qt=2}}function $_(){if(Qt===2){Qt=0;var r=Xi,s=vo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{T_(r,s.alternate,s)}finally{Ye=h,ue.p=l,W.T=a}}Qt=3}}function K_(){if(Qt===4||Qt===3){Qt=0,gc();var r=Xi,s=vo,a=_o,l=P_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,vo=Xi=null,Q_(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Yi=null),Ua(a),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(dt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var d=r.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{W.T=s,ue.p=h}}(_o&3)!==0&&Ef(),Ar(r),h=r.pendingLanes,(a&4194090)!==0&&(h&42)!==0?r===lp?lu++:(lu=0,lp=r):lu=0,uu(0)}}function Q_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ql(s)))}function Ef(r){return G_(),$_(),K_(),Y_()}function Y_(){if(Qt!==5)return!1;var r=Xi,s=ap;ap=0;var a=Ua(_o),l=W.T,h=ue.p;try{ue.p=32>a?32:a,W.T=null,a=op,op=null;var d=Xi,_=_o;if(Qt=0,vo=Xi=null,_o=0,(Ye&6)!==0)throw Error(i(331));var E=Ye;if(Ye|=4,N_(d.current),x_(d,d.current,_,a),Ye=E,uu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{ue.p=h,W.T=l,Q_(r,s)}}function X_(r,s,a){s=Hn(a,s),s=zm(r.stateNode,s,2),r=zi(r,s,2),r!==null&&(qr(r,2),Ar(r))}function tt(r,s,a){if(r.tag===3)X_(r,r,a);else for(;s!==null;){if(s.tag===3){X_(s,r,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))){r=Hn(a,r),a=e_(2),l=zi(s,a,2),l!==null&&(t_(a,l,s,r),qr(l,2),Ar(l));break}}s=s.return}}function hp(r,s,a){var l=r.pingCache;if(l===null){l=r.pingCache=new z1;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(np=!0,h.add(a),r=G1.bind(null,r,s,a),s.then(r,r))}function G1(r,s,a){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,rt===r&&(Be&a)===a&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Ln()-sp?(Ye&2)===0&&bo(r,0):rp|=a,wo===Be&&(wo=0)),Ar(r)}function W_(r,s){s===0&&(s=wl()),r=no(r,s),r!==null&&(qr(r,s),Ar(r))}function $1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),W_(r,a)}function K1(r,s){var a=0;switch(r.tag){case 13:var l=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),W_(r,a)}function Q1(r,s){return Is(r,s)}var Tf=null,To=null,dp=!1,Sf=!1,mp=!1,ua=0;function Ar(r){r!==To&&r.next===null&&(To===null?Tf=To=r:To=To.next=r),Sf=!0,dp||(dp=!0,X1())}function uu(r,s){if(!mp&&Sf){mp=!0;do for(var a=!1,l=Tf;l!==null;){if(r!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-en(42|r)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,t0(l,d))}else d=Be,d=La(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ps(l,d)||(a=!0,t0(l,d));l=l.next}while(a);mp=!1}}function Y1(){Z_()}function Z_(){Sf=dp=!1;var r=0;ua!==0&&(iR()&&(r=ua),ua=0);for(var s=Ln(),a=null,l=Tf;l!==null;){var h=l.next,d=J_(l,s);d===0?(l.next=null,a===null?Tf=h:a.next=h,h===null&&(To=a)):(a=l,(r!==0||(d&3)!==0)&&(Sf=!0)),l=h}uu(r)}function J_(r,s){for(var a=r.suspendedLanes,l=r.pingedLanes,h=r.expirationTimes,d=r.pendingLanes&-62914561;0<d;){var _=31-en(d),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&l)!==0)&&(h[_]=gl(E,s)):C<=s&&(r.expiredLanes|=E),d&=~E}if(s=rt,a=Be,a=La(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===s&&(Xe===2||Xe===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&xs(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Ps(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(l!==null&&xs(l),Ua(a)){case 2:case 8:a=Ma;break;case 32:a=Ds;break;case 268435456:a=Va;break;default:a=Ds}return l=e0.bind(null,r),a=Is(a,l),r.callbackPriority=s,r.callbackNode=a,s}return l!==null&&l!==null&&xs(l),r.callbackPriority=2,r.callbackNode=null,2}function e0(r,s){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Ef()&&r.callbackNode!==a)return null;var l=Be;return l=La(r,r===rt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(V_(r,l,s),J_(r,Ln()),r.callbackNode!=null&&r.callbackNode===a?e0.bind(null,r):null)}function t0(r,s){if(Ef())return null;V_(r,s,!0)}function X1(){aR(function(){(Ye&6)!==0?Is(ml,Y1):Z_()})}function pp(){return ua===0&&(ua=yl()),ua}function n0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fa(""+r)}function r0(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function W1(r,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var d=n0((h[Tt]||null).action),_=l.submitter;_&&(s=(s=_[Tt]||null)?n0(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var E=new Ga("action","action",null,l,h);r.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var C=_?r0(h,_):new FormData(h);Mm(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=_?r0(h,_):new FormData(h),Mm(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var gp=0;gp<em.length;gp++){var yp=em[gp],Z1=yp.toLowerCase(),J1=yp[0].toUpperCase()+yp.slice(1);nr(Z1,"on"+J1)}nr(Vw,"onAnimationEnd"),nr(Lw,"onAnimationIteration"),nr(Uw,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(g1,"onTransitionRun"),nr(y1,"onTransitionStart"),nr(w1,"onTransitionCancel"),nr(Bw,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function i0(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],h=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var E=l[_],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(Z){ff(Z)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(E=l[_],C=E.instance,j=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(Z){ff(Z)}h.currentTarget=null,d=C}}}}function ke(r,s){var a=s[bl];a===void 0&&(a=s[bl]=new Set);var l=r+"__bubble";a.has(l)||(s0(s,r,2,!1),a.add(l))}function wp(r,s,a){var l=0;s&&(l|=4),s0(a,r,l,s)}var Af="_reactListening"+Math.random().toString(36).slice(2);function vp(r){if(!r[Af]){r[Af]=!0,El.forEach(function(a){a!=="selectionchange"&&(eR.has(a)||wp(a,!1,r),wp(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Af]||(s[Af]=!0,wp("selectionchange",!1,s))}}function s0(r,s,a,l){switch(x0(s)){case 2:var h=CR;break;case 8:h=IR;break;default:h=kp}a=h.bind(null,s,a,r),h=void 0,!jn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function _p(r,s,a,l,h){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Hr(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}E=E.parentNode}}l=l.return}Rc(function(){var j=d,Z=zn(a),te=[];e:{var H=zw.get(r);if(H!==void 0){var F=Ga,Te=r;switch(r){case"keypress":if(gr(a)===0)break e;case"keydown":case"keyup":F=Wa;break;case"focusin":Te="focus",F=Qa;break;case"focusout":Te="blur",F=Qa;break;case"beforeblur":case"afterblur":F=Qa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Pc;break;case Vw:case Lw:case Uw:F=Ya;break;case Bw:F=Vc;break;case"scroll":case"scrollend":F=Cc;break;case"wheel":F=Za;break;case"copy":case"cut":case"paste":F=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Pl;break;case"toggle":case"beforetoggle":F=Uc}var _e=(s&4)!==0,et=!_e&&(r==="scroll"||r==="scrollend"),M=_e?H!==null?H+"Capture":null:H;_e=[];for(var N=j,z;N!==null;){var J=N;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||M===null||(J=qs(N,M),J!=null&&_e.push(fu(N,J,z))),et)break;N=N.return}0<_e.length&&(H=new F(H,Te,null,a,Z),te.push({event:H,listeners:_e}))}}if((s&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",F=r==="mouseout"||r==="pointerout",H&&a!==Kr&&(Te=a.relatedTarget||a.fromElement)&&(Hr(Te)||Te[Un]))break e;if((F||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=j,Te=Te?Hr(Te):null,Te!==null&&(et=u(Te),_e=Te.tag,Te!==et||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(F=null,Te=j),F!==Te)){if(_e=qn,J="onMouseLeave",M="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(_e=Pl,J="onPointerLeave",M="onPointerEnter",N="pointer"),et=F==null?H:hr(F),z=Te==null?H:hr(Te),H=new _e(J,N+"leave",F,a,Z),H.target=et,H.relatedTarget=z,J=null,Hr(Z)===j&&(_e=new _e(M,N+"enter",Te,a,Z),_e.target=z,_e.relatedTarget=et,J=_e),et=J,F&&Te)t:{for(_e=F,M=Te,N=0,z=_e;z;z=So(z))N++;for(z=0,J=M;J;J=So(J))z++;for(;0<N-z;)_e=So(_e),N--;for(;0<z-N;)M=So(M),z--;for(;N--;){if(_e===M||M!==null&&_e===M.alternate)break t;_e=So(_e),M=So(M)}_e=null}else _e=null;F!==null&&a0(te,H,F,_e,!1),Te!==null&&et!==null&&a0(te,et,Te,_e,!0)}}e:{if(H=j?hr(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var me=Aw;else if(Nt(H))if(Rw)me=d1;else{me=f1;var Oe=c1}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Cl(j.elementType)&&(me=Aw):me=h1;if(me&&(me=me(r,j))){Zr(te,me,a,Z);break e}Oe&&Oe(r,H,j),r==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&Mi(H,"number",H.value)}switch(Oe=j?hr(j):window,r){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(Ja=Oe,Wd=j,Ll=null);break;case"focusout":Ll=Wd=Ja=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Pw(te,a,Z);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":Pw(te,a,Z)}var pe;if(vr)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?Q(r,a)&&(be="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(pe=xl()):(pr=Z,Vi="value"in pr?pr.value:pr.textContent,Le=!0)),Oe=Rf(j,be),0<Oe.length&&(be=new Nl(be,r,null,a,Z),te.push({event:be,listeners:Oe}),pe?be.data=pe:(pe=le(a),pe!==null&&(be.data=pe)))),(pe=y?Ot(r,a):Ue(r,a))&&(be=Rf(j,"onBeforeInput"),0<be.length&&(Oe=new Nl("onBeforeInput","beforeinput",null,a,Z),te.push({event:Oe,listeners:be}),Oe.data=pe)),W1(te,r,j,a,Z)}i0(te,s)})}function fu(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Rf(r,s){for(var a=s+"Capture",l=[];r!==null;){var h=r,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=qs(r,a),h!=null&&l.unshift(fu(r,h,d)),h=qs(r,s),h!=null&&l.push(fu(r,h,d))),r.tag===3)return l;r=r.return}return[]}function So(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function a0(r,s,a,l,h){for(var d=s._reactName,_=[];a!==null&&a!==l;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=qs(a,d),j!=null&&_.unshift(fu(a,j,C))):h||(j=qs(a,d),j!=null&&_.push(fu(a,j,C)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var tR=/\r\n?/g,nR=/\u0000|\uFFFD/g;function o0(r){return(typeof r=="string"?r:""+r).replace(tR,`
`).replace(nR,"")}function l0(r,s){return s=o0(s),o0(r)===s}function Cf(){}function Je(r,s,a,l,h,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Bn(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Bn(r,""+l);break;case"className":dr(r,"class",l);break;case"tabIndex":dr(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(r,a,l);break;case"style":Rl(r,l,d);break;case"data":if(s!=="object"){dr(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Fa(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Je(r,s,"name",h.name,h,null),Je(r,s,"formEncType",h.formEncType,h,null),Je(r,s,"formMethod",h.formMethod,h,null),Je(r,s,"formTarget",h.formTarget,h,null)):(Je(r,s,"encType",h.encType,h,null),Je(r,s,"method",h.method,h,null),Je(r,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Fa(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Cf);break;case"onScroll":l!=null&&ke("scroll",r);break;case"onScrollEnd":l!=null&&ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=Fa(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":ke("beforetoggle",r),ke("toggle",r),Pi(r,"popover",l);break;case"xlinkActuate":Gt(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pi(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fd.get(a)||a,Pi(r,a,l))}}function bp(r,s,a,l,h,d){switch(a){case"style":Rl(r,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof l=="string"?Bn(r,l):(typeof l=="number"||typeof l=="bigint")&&Bn(r,""+l);break;case"onScroll":l!=null&&ke("scroll",r);break;case"onScrollEnd":l!=null&&ke("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Cf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),d=r[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&r.removeEventListener(s,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,l,h);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):Pi(r,a,l)}}}function Yt(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",r),ke("load",r);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,d,_,a,null)}}h&&Je(r,s,"srcSet",a.srcSet,a,null),l&&Je(r,s,"src",a.src,a,null);return;case"input":ke("invalid",r);var E=d=_=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":j=Z;break;case"value":d=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Je(r,s,l,Z,a,null)}}Bs(r,d,E,C,j,_,h,!1),Ha(r);return;case"select":ke("invalid",r),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Je(r,s,h,E,a,null)}s=d,a=_,r.multiple=!!l,s!=null?$r(r,!!l,s,!1):a!=null&&$r(r,!!l,a,!0);return;case"textarea":ke("invalid",r),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Je(r,s,_,E,a,null)}zs(r,l,h,d),Ha(r);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(r,s,C,l,a,null)}return;case"dialog":ke("beforetoggle",r),ke("toggle",r),ke("cancel",r),ke("close",r);break;case"iframe":case"object":ke("load",r);break;case"video":case"audio":for(l=0;l<cu.length;l++)ke(cu[l],r);break;case"image":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"embed":case"source":case"link":ke("error",r),ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,j,l,a,null)}return;default:if(Cl(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&bp(r,s,Z,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Je(r,s,E,l,a,null))}function rR(r,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,C=null,j=null,Z=null;for(F in a){var te=a[F];if(a.hasOwnProperty(F)&&te!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(F)||Je(r,s,F,null,l,te)}}for(var H in l){var F=l[H];if(te=a[H],l.hasOwnProperty(H)&&(F!=null||te!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Z=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,s));break;default:F!==te&&Je(r,s,H,F,l,te)}}Tn(r,_,E,C,j,Z,d,h);return;case"select":F=_=E=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Je(r,s,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==C&&Je(r,s,h,d,l,C)}s=E,a=_,l=F,H!=null?$r(r,!!a,H,!1):!!l!=!!a&&(s!=null?$r(r,!!a,s,!0):$r(r,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(r,s,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&Je(r,s,_,h,l,d)}We(r,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":r.selected=!1;break;default:Je(r,s,Te,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":r.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(r,s,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Je(r,s,_e,null,l,H);for(j in l)if(H=l[j],F=a[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:Je(r,s,j,H,l,F)}return;default:if(Cl(s)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&bp(r,s,et,void 0,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H===void 0&&F===void 0||bp(r,s,Z,H,l,F);return}}for(var M in a)H=a[M],a.hasOwnProperty(M)&&H!=null&&!l.hasOwnProperty(M)&&Je(r,s,M,null,l,H);for(te in l)H=l[te],F=a[te],!l.hasOwnProperty(te)||H===F||H==null&&F==null||Je(r,s,te,H,l,F)}var Ep=null,Tp=null;function If(r){return r.nodeType===9?r:r.ownerDocument}function u0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Sp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ap=null;function iR(){var r=window.event;return r&&r.type==="popstate"?r===Ap?!1:(Ap=r,!0):(Ap=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,aR=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(r){return h0.resolve(null).then(r).catch(oR)}:f0;function oR(r){setTimeout(function(){throw r})}function Zi(r){return r==="head"}function d0(r,s){var a=s,l=0,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=r.ownerDocument;if(a&1&&hu(_.documentElement),a&2&&hu(_.body),a&4)for(a=_.head,hu(a),_=a.firstChild;_;){var E=_.nextSibling,C=_.nodeName;_[Ms]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(h===0){r.removeChild(d),_u(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);_u(s)}function Rp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rp(a),ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function lR(r,s,a,l){for(;r.nodeType===1;){var h=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ms])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(d=r.getAttribute("rel"),d==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(d!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(d=r.getAttribute("src"),(d!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===d)return r}else return r;if(r=ir(r.nextSibling),r===null)break}return null}function uR(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=ir(r.nextSibling),r===null))return null;return r}function Cp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function cR(r,s){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function ir(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Ip=null;function m0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}function p0(r,s,a){switch(s=If(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function hu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ki(r)}var Yn=new Map,g0=new Set;function xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var fi=ue.d;ue.d={f:fR,r:hR,D:dR,C:mR,L:pR,m:gR,X:wR,S:yR,M:vR};function fR(){var r=fi.f(),s=_f();return r||s}function hR(r){var s=fr(r);s!==null&&s.tag===5&&s.type==="form"?Vv(s):fi.r(r)}var Ao=typeof document>"u"?null:document;function y0(r,s,a){var l=Ao;if(l&&typeof s=="string"&&s){var h=St(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),g0.has(h)||(g0.add(h),r={rel:r,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),Yt(s,"link",r),gt(s),l.head.appendChild(s)))}}function dR(r){fi.D(r),y0("dns-prefetch",r,null)}function mR(r,s){fi.C(r,s),y0("preconnect",r,s)}function pR(r,s,a){fi.L(r,s,a);var l=Ao;if(l&&r&&s){var h='link[rel="preload"][as="'+St(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(r)+'"]';var d=h;switch(s){case"style":d=Ro(r);break;case"script":d=Co(r)}Yn.has(d)||(r=w({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Yn.set(d,r),l.querySelector(h)!==null||s==="style"&&l.querySelector(du(d))||s==="script"&&l.querySelector(mu(d))||(s=l.createElement("link"),Yt(s,"link",r),gt(s),l.head.appendChild(s)))}}function gR(r,s){fi.m(r,s);var a=Ao;if(a&&r){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(r)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Co(r)}if(!Yn.has(d)&&(r=w({rel:"modulepreload",href:r},s),Yn.set(d,r),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mu(d)))return}l=a.createElement("link"),Yt(l,"link",r),gt(l),a.head.appendChild(l)}}}function yR(r,s,a){fi.S(r,s,a);var l=Ao;if(l&&r){var h=un(l).hoistableStyles,d=Ro(r);s=s||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(du(d)))E.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Yn.get(d))&&xp(r,a);var C=_=l.createElement("link");gt(C),Yt(C,"link",r),C._p=new Promise(function(j,Z){C.onload=j,C.onerror=Z}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Df(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function wR(r,s){fi.X(r,s);var a=Ao;if(a&&r){var l=un(a).hoistableScripts,h=Co(r),d=l.get(h);d||(d=a.querySelector(mu(h)),d||(r=w({src:r,async:!0},s),(s=Yn.get(h))&&Dp(r,s),d=a.createElement("script"),gt(d),Yt(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vR(r,s){fi.M(r,s);var a=Ao;if(a&&r){var l=un(a).hoistableScripts,h=Co(r),d=l.get(h);d||(d=a.querySelector(mu(h)),d||(r=w({src:r,async:!0,type:"module"},s),(s=Yn.get(h))&&Dp(r,s),d=a.createElement("script"),gt(d),Yt(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function w0(r,s,a,l){var h=(h=Ae.current)?xf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ro(a.href),a=un(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Ro(a.href);var d=un(h).hoistableStyles,_=d.get(r);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(r,_),(d=h.querySelector(du(r)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(r,a),d||_R(h,r,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(a),a=un(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ro(r){return'href="'+St(r)+'"'}function du(r){return'link[rel="stylesheet"]['+r+"]"}function v0(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function _R(r,s,a,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Yt(s,"link",a),gt(s),r.head.appendChild(s))}function Co(r){return'[src="'+St(r)+'"]'}function mu(r){return"script[async]"+r}function _0(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return s.instance=l,gt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),gt(l),Yt(l,"style",h),Df(l,a.precedence,r),s.instance=l;case"stylesheet":h=Ro(a.href);var d=r.querySelector(du(h));if(d)return s.state.loading|=4,s.instance=d,gt(d),d;l=v0(a),(h=Yn.get(h))&&xp(l,h),d=(r.ownerDocument||r).createElement("link"),gt(d);var _=d;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Yt(d,"link",l),s.state.loading|=4,Df(d,a.precedence,r),s.instance=d;case"script":return d=Co(a.src),(h=r.querySelector(mu(d)))?(s.instance=h,gt(h),h):(l=a,(h=Yn.get(d))&&(l=w({},a),Dp(l,h)),r=r.ownerDocument||r,h=r.createElement("script"),gt(h),Yt(h,"link",l),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Df(l,a.precedence,r));return s.instance}function Df(r,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===s)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(r,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function xp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Dp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Of=null;function b0(r,s,a){if(Of===null){var l=new Map,h=Of=new Map;h.set(a,l)}else h=Of,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),h=0;h<a.length;h++){var d=a[h];if(!(d[Ms]||d[Dt]||r==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=r+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function E0(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function bR(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function T0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pu=null;function ER(){}function TR(r,s,a){if(pu===null)throw Error(i(475));var l=pu;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ro(a.href),d=r.querySelector(du(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Nf.bind(l),r.then(l,l)),s.state.loading|=4,s.instance=d,gt(d);return}d=r.ownerDocument||r,a=v0(a),(h=Yn.get(h))&&xp(a,h),d=d.createElement("link"),gt(d);var _=d;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Yt(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Nf.bind(l),r.addEventListener("load",s),r.addEventListener("error",s))}}function SR(){if(pu===null)throw Error(i(475));var r=pu;return r.stylesheets&&r.count===0&&Op(r,r.stylesheets),0<r.count?function(s){var a=setTimeout(function(){if(r.stylesheets&&Op(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)Op(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kf=null;function Op(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kf=new Map,s.forEach(AR,r),kf=null,Nf.call(r))}function AR(r,s){if(!(s.state.loading&4)){var a=kf.get(r);if(a)var l=a.get(null);else{a=new Map,kf.set(r,a);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Nf.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var gu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function RR(r,s,a,l,h,d,_,E){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function S0(r,s,a,l,h,d,_,E,C,j,Z,te){return r=new RR(r,s,a,_,E,C,j,te),s=1,d===!0&&(s|=24),d=An(3,null,null,s),r.current=d,d.stateNode=r,s=hm(),s.refCount++,r.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},gm(d),r}function A0(r){return r?(r=ro,r):ro}function R0(r,s,a,l,h,d){h=A0(h),l.context===null?l.context=h:l.pendingContext=h,l=Bi(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zi(r,l,s),a!==null&&(Dn(a,r,s),$l(a,r,s))}function C0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Np(r,s){C0(r,s),(r=r.alternate)&&C0(r,s)}function I0(r){if(r.tag===13){var s=no(r,67108864);s!==null&&Dn(s,r,67108864),Np(r,67108864)}}var Pf=!0;function CR(r,s,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=2,kp(r,s,a,l)}finally{ue.p=d,W.T=h}}function IR(r,s,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=8,kp(r,s,a,l)}finally{ue.p=d,W.T=h}}function kp(r,s,a,l){if(Pf){var h=Pp(l);if(h===null)_p(r,s,l,Mf,a),D0(r,l);else if(DR(h,r,s,a,l))l.stopPropagation();else if(D0(r,l),s&4&&-1<xR.indexOf(r)){for(;h!==null;){var d=fr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Jn(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-en(_);E.entanglements[1]|=C,_&=~C}Ar(d),(Ye&6)===0&&(wf=Ln()+500,uu(0))}}break;case 13:E=no(d,2),E!==null&&Dn(E,d,2),_f(),Np(d,2)}if(d=Pp(l),d===null&&_p(r,s,l,Mf,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else _p(r,s,l,null,a)}}function Pp(r){return r=zn(r),Mp(r)}var Mf=null;function Mp(r){if(Mf=null,r=Hr(r),r!==null){var s=u(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Mf=r,null}function x0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ud()){case ml:return 2;case Ma:return 8;case Ds:case Bd:return 32;case Va:return 268435456;default:return 32}default:return 32}}var Vp=!1,Ji=null,es=null,ts=null,yu=new Map,wu=new Map,ns=[],xR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D0(r,s){switch(r){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":yu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(s.pointerId)}}function vu(r,s,a,l,h,d){return r===null||r.nativeEvent!==d?(r={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},s!==null&&(s=fr(s),s!==null&&I0(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function DR(r,s,a,l,h){switch(s){case"focusin":return Ji=vu(Ji,r,s,a,l,h),!0;case"dragenter":return es=vu(es,r,s,a,l,h),!0;case"mouseover":return ts=vu(ts,r,s,a,l,h),!0;case"pointerover":var d=h.pointerId;return yu.set(d,vu(yu.get(d)||null,r,s,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wu.set(d,vu(wu.get(d)||null,r,s,a,l,h)),!0}return!1}function O0(r){var s=Hr(r.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){r.blockedOn=s,vc(r.priority,function(){if(a.tag===13){var l=xn();l=Di(l);var h=no(a,l);h!==null&&Dn(h,a,l),Np(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Pp(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);Kr=l,a.target.dispatchEvent(l),Kr=null}else return s=fr(a),s!==null&&I0(s),r.blockedOn=a,!1;s.shift()}return!0}function N0(r,s,a){Vf(r)&&a.delete(s)}function OR(){Vp=!1,Ji!==null&&Vf(Ji)&&(Ji=null),es!==null&&Vf(es)&&(es=null),ts!==null&&Vf(ts)&&(ts=null),yu.forEach(N0),wu.forEach(N0)}function Lf(r,s){r.blockedOn===s&&(r.blockedOn=null,Vp||(Vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OR)))}var Uf=null;function k0(r){Uf!==r&&(Uf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uf===r&&(Uf=null);for(var s=0;s<r.length;s+=3){var a=r[s],l=r[s+1],h=r[s+2];if(typeof l!="function"){if(Mp(l||a)===null)continue;break}var d=fr(a);d!==null&&(r.splice(s,3),s-=3,Mm(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _u(r){function s(C){return Lf(C,r)}Ji!==null&&Lf(Ji,r),es!==null&&Lf(es,r),ts!==null&&Lf(ts,r),yu.forEach(s),wu.forEach(s);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)O0(a),a.blockedOn===null&&ns.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Tt]||null;if(typeof d=="function")_||k0(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Tt]||null)E=_.formAction;else if(Mp(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),k0(a)}}}function Lp(r){this._internalRoot=r}Bf.prototype.render=Lp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=xn();R0(a,l,r,s,null,null)},Bf.prototype.unmount=Lp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;R0(r.current,2,null,r,null,null),_f(),s[Un]=null}};function Bf(r){this._internalRoot=r}Bf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Oi();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ns.length&&s!==0&&s<ns[a].priority;a++);ns.splice(a,0,r),a===0&&O0(r)}};var P0=e.version;if(P0!=="19.1.1")throw Error(i(527,P0,"19.1.1"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var NR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{dt=zf.inject(NR),Qe=zf}catch{}}return Eu.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,l="",h=Xv,d=Wv,_=Zv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=S0(r,1,!1,null,null,a,l,h,d,_,E,null),r[Un]=s.current,vp(r),new Lp(s)},Eu.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var l=!1,h="",d=Xv,_=Wv,E=Zv,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),s=S0(r,1,!0,s,a??null,l,h,d,_,E,C,j),s.context=A0(null),a=s.current,l=xn(),l=Di(l),h=Bi(l),h.callback=null,zi(a,h,l),a=l,s.current.lanes=a,qr(s,a),Ar(s),r[Un]=s.current,vp(r),new Bf(s)},Eu.version="19.1.1",Eu}var F0;function HR(){if(F0)return zp.exports;F0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=qR(),zp.exports}var FR=HR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G0="popstate";function GR(t={}){function e(i,o){let{pathname:u,search:f,hash:m}=i.location;return mg("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Lu(o)}return KR(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $R(){return Math.random().toString(36).substring(2,10)}function $0(t,e){return{usr:t.state,key:t.key,idx:e}}function mg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:n,key:e&&e.key||i||$R()}}function Lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function KR(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,m="POP",p=null,g=w();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function w(){return(f.state||{idx:null}).idx}function b(){m="POP";let U=w(),$=U==null?null:U-g;g=U,p&&p({action:m,location:q.location,delta:$})}function S(U,$){m="PUSH";let se=mg(q.location,U,$);g=w()+1;let X=$0(se,g),ae=q.createHref(se);try{f.pushState(X,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ae)}u&&p&&p({action:m,location:q.location,delta:1})}function D(U,$){m="REPLACE";let se=mg(q.location,U,$);g=w();let X=$0(se,g),ae=q.createHref(se);f.replaceState(X,"",ae),u&&p&&p({action:m,location:q.location,delta:0})}function V(U){return QR(U)}let q={get action(){return m},get location(){return t(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(G0,b),p=U,()=>{o.removeEventListener(G0,b),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let $=V(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:D,go(U){return f.go(U)}};return q}function QR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Lu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function iT(t,e,n="/"){return YR(t,e,n,!1)}function YR(t,e,n,i){let o=typeof e=="string"?Wo(e):e,u=vi(o.pathname||"/",n);if(u==null)return null;let f=sT(t);XR(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=oC(u);m=sC(f[p],g,i)}return m}function sT(t,e=[],n=[],i=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=pi([i,p.relativePath]),w=n.concat(p);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sT(u.children,e,w,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:rC(g,u.index),routesMeta:w})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of aT(u.path))o(u,f,m)}),e}function aT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=aT(i.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function XR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var WR=/^:[\w-]+$/,ZR=3,JR=2,eC=1,tC=10,nC=-2,K0=t=>t==="*";function rC(t,e){let n=t.split("/"),i=n.length;return n.some(K0)&&(i+=nC),e&&(i+=JR),n.filter(o=>!K0(o)).reduce((o,u)=>o+(WR.test(u)?ZR:u===""?eC:tC),i)}function iC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function sC(t,e,n=!1){let{routesMeta:i}=t,o={},u="/",f=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,w=u==="/"?e:e.slice(u.length)||"/",b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},w),S=p.route;if(!b&&g&&n&&!i[i.length-1].route.index&&(b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:pi([u,b.pathname]),pathnameBase:fC(pi([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=pi([u,b.pathnameBase]))}return f}function _h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=aC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((g,{paramName:w,isOptional:b},S)=>{if(w==="*"){let V=m[S]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const D=m[S];return b&&!D?g[w]=void 0:g[w]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:t}}function aC(t,e=!1,n=!0){Mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function oC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function lC(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:uC(n,e):e,search:hC(i),hash:dC(o)}}function uC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oT(t){let e=cC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function lT(t,e,n,i=!1){let o;typeof t=="string"?o=Wo(t):(o={...t},ct(!o.pathname||!o.pathname.includes("?"),Fp("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Fp("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Fp("#","search","hash",o)));let u=t===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!i&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=lC(o,m),g=f&&f!=="/"&&f.endsWith("/"),w=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||w)&&(p.pathname+="/"),p}var pi=t=>t.join("/").replace(/\/\/+/g,"/"),fC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var uT=["POST","PUT","PATCH","DELETE"];new Set(uT);var pC=["GET",...uT];new Set(pC);var Zo=K.createContext(null);Zo.displayName="DataRouter";var nd=K.createContext(null);nd.displayName="DataRouterState";K.createContext(!1);var cT=K.createContext({isTransitioning:!1});cT.displayName="ViewTransition";var gC=K.createContext(new Map);gC.displayName="Fetchers";var yC=K.createContext(null);yC.displayName="Await";var Br=K.createContext(null);Br.displayName="Navigation";var Yu=K.createContext(null);Yu.displayName="Location";var Ri=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var ty=K.createContext(null);ty.displayName="RouteError";function wC(t,{relative:e}={}){ct(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=K.useContext(Br),{hash:o,pathname:u,search:f}=Wu(t,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pi([n,u])),i.createHref({pathname:m,search:f,hash:o})}function Xu(){return K.useContext(Yu)!=null}function Ca(){return ct(Xu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Yu).location}var fT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hT(t){K.useContext(Br).static||K.useLayoutEffect(t)}function rd(){let{isDataRoute:t}=K.useContext(Ri);return t?OC():vC()}function vC(){ct(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let t=K.useContext(Zo),{basename:e,navigator:n}=K.useContext(Br),{matches:i}=K.useContext(Ri),{pathname:o}=Ca(),u=JSON.stringify(oT(i)),f=K.useRef(!1);return hT(()=>{f.current=!0}),K.useCallback((p,g={})=>{if(Mr(f.current,fT),!f.current)return;if(typeof p=="number"){n.go(p);return}let w=lT(p,JSON.parse(u),o,g.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:pi([e,w.pathname])),(g.replace?n.replace:n.push)(w,g.state,g)},[e,n,u,o,t])}K.createContext(null);function Wu(t,{relative:e}={}){let{matches:n}=K.useContext(Ri),{pathname:i}=Ca(),o=JSON.stringify(oT(n));return K.useMemo(()=>lT(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function _C(t,e){return dT(t,e)}function dT(t,e,n,i){ct(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(Br),{matches:u}=K.useContext(Ri),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",w=f&&f.route;{let $=w&&w.path||"";mT(p,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Ca(),S;if(e){let $=typeof e=="string"?Wo(e):e;ct(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=b;let D=S.pathname||"/",V=D;if(g!=="/"){let $=g.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let q=iT(t,{pathname:V});Mr(w||q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=AC(q&&q.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:pi([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:pi([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,i);return e&&U?K.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function bC(){let t=DC(),e=mC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var EC=K.createElement(bC,null),TC=class extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?K.createElement(Ri.Provider,{value:this.props.routeContext},K.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SC({routeContext:t,match:e,children:n}){let i=K.useContext(Zo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Ri.Provider,{value:t},n)}function AC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:w,errors:b}=n,S=g.route.loader&&!w.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,w)=>{let b,S=!1,D=null,V=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||EC,f&&(m<0&&w===0?(mT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===w&&(S=!0,V=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,w+1)),U=()=>{let $;return b?$=D:S?$=V:g.route.Component?$=K.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,K.createElement(SC,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?K.createElement(TC,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:U(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):U()},null)}function ny(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RC(t){let e=K.useContext(Zo);return ct(e,ny(t)),e}function CC(t){let e=K.useContext(nd);return ct(e,ny(t)),e}function IC(t){let e=K.useContext(Ri);return ct(e,ny(t)),e}function ry(t){let e=IC(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xC(){return ry("useRouteId")}function DC(){let t=K.useContext(ty),e=CC("useRouteError"),n=ry("useRouteError");return t!==void 0?t:e.errors?.[n]}function OC(){let{router:t}=RC("useNavigate"),e=ry("useNavigate"),n=K.useRef(!1);return hT(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{Mr(n.current,fT),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var Q0={};function mT(t,e,n){!e&&!Q0[t]&&(Q0[t]=!0,Mr(!1,n))}K.memo(NC);function NC({routes:t,future:e,state:n}){return dT(t,void 0,n,e)}function fa(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){ct(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Wo(n));let{pathname:p="/",search:g="",hash:w="",state:b=null,key:S="default"}=n,D=K.useMemo(()=>{let V=vi(p,f);return V==null?null:{location:{pathname:V,search:g,hash:w,state:b,key:S},navigationType:i}},[f,p,g,w,b,S,i]);return Mr(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:K.createElement(Br.Provider,{value:m},K.createElement(Yu.Provider,{children:e,value:D}))}function PC({children:t,location:e}){return _C(pg(t),e)}function pg(t,e=[]){let n=[];return K.Children.forEach(t,(i,o)=>{if(!K.isValidElement(i))return;let u=[...e,o];if(i.type===K.Fragment){n.push.apply(n,pg(i.props.children,u));return}ct(i.type===fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=pg(i.props.children,u)),n.push(f)}),n}var Jf="get",eh="application/x-www-form-urlencoded";function id(t){return t!=null&&typeof t.tagName=="string"}function MC(t){return id(t)&&t.tagName.toLowerCase()==="button"}function VC(t){return id(t)&&t.tagName.toLowerCase()==="form"}function LC(t){return id(t)&&t.tagName.toLowerCase()==="input"}function UC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BC(t,e){return t.button===0&&(!e||e==="_self")&&!UC(t)}var jf=null;function zC(){if(jf===null)try{new FormData(document.createElement("form"),0),jf=!1}catch{jf=!0}return jf}var jC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(t){return t!=null&&!jC.has(t)?(Mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):t}function qC(t,e){let n,i,o,u,f;if(VC(t)){let m=t.getAttribute("action");i=m?vi(m,e):null,n=t.getAttribute("method")||Jf,o=Gp(t.getAttribute("enctype"))||eh,u=new FormData(t)}else if(MC(t)||LC(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(i=p?vi(p,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Jf,o=Gp(t.getAttribute("formenctype"))||Gp(m.getAttribute("enctype"))||eh,u=new FormData(m,t),!zC()){let{name:g,type:w,value:b}=t;if(w==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jf,i=null,o=eh,f=t}return u&&o==="text/plain"&&(f=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&vi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function FC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $C(t,e,n){let i=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await FC(u,n);return f.links?f.links():[]}return[]}));return XC(i.flat(1).filter(GC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y0(t,e,n,i,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function KC(t,e,{includeHydrateFallback:n}={}){return QC(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function QC(t){return[...new Set(t)]}function YC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function XC(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let u=JSON.stringify(YC(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function pT(){let t=K.useContext(Zo);return iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WC(){let t=K.useContext(nd);return iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sy=K.createContext(void 0);sy.displayName="FrameworkContext";function gT(){let t=K.useContext(sy);return iy(t,"You must render this element inside a <HydratedRouter> element"),t}function ZC(t,e){let n=K.useContext(sy),[i,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:w,onTouchStart:b}=e,S=K.useRef(null);K.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let q=$=>{$.forEach(se=>{f(se.isIntersecting)})},U=new IntersectionObserver(q,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[t]),K.useEffect(()=>{if(i){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[i]);let D=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?t!=="intent"?[u,S,{}]:[u,S,{onFocus:Tu(m,D),onBlur:Tu(p,V),onMouseEnter:Tu(g,D),onMouseLeave:Tu(w,V),onTouchStart:Tu(b,D)}]:[!1,S,{}]}function Tu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JC({page:t,...e}){let{router:n}=pT(),i=K.useMemo(()=>iT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?K.createElement(tI,{page:t,matches:i,...e}):null}function eI(t){let{manifest:e,routeModules:n}=gT(),[i,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return $C(t,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[t,e,n]),i}function tI({page:t,matches:e,...n}){let i=Ca(),{manifest:o,routeModules:u}=gT(),{basename:f}=pT(),{loaderData:m,matches:p}=WC(),g=K.useMemo(()=>Y0(t,e,p,o,i,"data"),[t,e,p,o,i]),w=K.useMemo(()=>Y0(t,e,p,o,i,"assets"),[t,e,p,o,i]),b=K.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let V=new Set,q=!1;if(e.forEach($=>{let se=o.routes[$.route.id];!se||!se.hasLoader||(!g.some(X=>X.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||se.hasClientLoader?q=!0:V.add($.route.id))}),V.size===0)return[];let U=HC(t,f,"data");return q&&V.size>0&&U.searchParams.set("_routes",e.filter($=>V.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[f,m,i,o,g,e,t,u]),S=K.useMemo(()=>KC(w,o),[w,o]),D=eI(w);return K.createElement(K.Fragment,null,b.map(V=>K.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>K.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),D.map(({key:V,link:q})=>K.createElement("link",{key:V,...q})))}function nI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yT&&(window.__reactRouterVersion="7.7.1")}catch{}function rI({basename:t,children:e,window:n}){let i=K.useRef();i.current==null&&(i.current=GR({window:n,v5Compat:!0}));let o=i.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(kC,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vT=K.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:w,viewTransition:b,...S},D){let{basename:V}=K.useContext(Br),q=typeof g=="string"&&wT.test(g),U,$=!1;if(typeof g=="string"&&q&&(U=g,yT))try{let R=new URL(window.location.href),k=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=vi(k.pathname,V);k.origin===R.origin&&P!=null?g=P+k.search+k.hash:$=!0}catch{Mr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=wC(g,{relative:o}),[X,ae,ie]=ZC(i,S),he=aI(g,{replace:f,state:m,target:p,preventScrollReset:w,relative:o,viewTransition:b});function x(R){e&&e(R),R.defaultPrevented||he(R)}let A=K.createElement("a",{...S,...ie,href:U||se,onClick:$||u?e:x,ref:nI(D,ae),target:p,"data-discover":!q&&n==="render"?"true":void 0});return X&&!q?K.createElement(K.Fragment,null,A,K.createElement(JC,{page:se})):A});vT.displayName="Link";var ma=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},w){let b=Wu(f,{relative:g.relative}),S=Ca(),D=K.useContext(nd),{navigator:V,basename:q}=K.useContext(Br),U=D!=null&&fI(b)&&m===!0,$=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,se=S.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(se=se.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&q&&(X=vi(X,q)||X);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=se===$||!o&&se.startsWith($)&&se.charAt(ae)==="/",he=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),x={isActive:ie,isPending:he,isTransitioning:U},A=ie?e:void 0,R;typeof i=="function"?R=i(x):R=[i,ie?"active":null,he?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return K.createElement(vT,{...g,"aria-current":A,className:R,ref:w,style:k,to:f,viewTransition:m},typeof p=="function"?p(x):p)});ma.displayName="NavLink";var iI=K.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:f=Jf,action:m,onSubmit:p,relative:g,preventScrollReset:w,viewTransition:b,...S},D)=>{let V=uI(),q=cI(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&wT.test(m),se=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ae=X.nativeEvent.submitter,ie=ae?.getAttribute("formmethod")||f;V(ae||X.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:u,relative:g,preventScrollReset:w,viewTransition:b})};return K.createElement("form",{ref:D,method:U,action:q,onSubmit:i?p:se,...S,"data-discover":!$&&t==="render"?"true":void 0})});iI.displayName="Form";function sI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(t){let e=K.useContext(Zo);return ct(e,sI(t)),e}function aI(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=rd(),p=Ca(),g=Wu(t,{relative:u});return K.useCallback(w=>{if(BC(w,e)){w.preventDefault();let b=n!==void 0?n:Lu(p)===Lu(g);m(t,{replace:b,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,i,e,t,o,u,f])}var oI=0,lI=()=>`__${String(++oI)}__`;function uI(){let{router:t}=_T("useSubmit"),{basename:e}=K.useContext(Br),n=xC();return K.useCallback(async(i,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=qC(i,e);if(o.navigate===!1){let w=o.fetcherKey||lI();await t.fetch(w,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function cI(t,{relative:e}={}){let{basename:n}=K.useContext(Br),i=K.useContext(Ri);ct(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Wu(t||".",{relative:e})},f=Ca();if(t==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(w=>w==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let w=m.toString();u.search=w?`?${w}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pi([n,u.pathname])),Lu(u)}function fI(t,{relative:e}={}){let n=K.useContext(cT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_T("useViewTransitionState"),o=Wu(t,{relative:e});if(!n.isTransitioning)return!1;let u=vi(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=vi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}var $p={exports:{}},Kp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function hI(){if(X0)return Kp;X0=1;var t=td();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,u=t.useEffect,f=t.useMemo,m=t.useDebugValue;return Kp.useSyncExternalStoreWithSelector=function(p,g,w,b,S){var D=o(null);if(D.current===null){var V={hasValue:!1,value:null};D.current=V}else V=D.current;D=f(function(){function U(ie){if(!$){if($=!0,se=ie,ie=b(ie),S!==void 0&&V.hasValue){var he=V.value;if(S(he,ie))return X=he}return X=ie}if(he=X,n(se,ie))return he;var x=b(ie);return S!==void 0&&S(he,x)?(se=ie,he):(se=ie,X=x)}var $=!1,se,X,ae=w===void 0?null:w;return[function(){return U(g())},ae===null?void 0:function(){return U(ae())}]},[g,w,b,S]);var q=i(p,D[0],D[1]);return u(function(){V.hasValue=!0,V.value=q},[q]),m(q),q},Kp}var W0;function dI(){return W0||(W0=1,$p.exports=hI()),$p.exports}var mI=dI();function pI(t){t()}function gI(){let t=null,e=null;return{clear(){t=null,e=null},notify(){pI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Z0={notify(){},get:()=>[]};function yI(t,e){let n,i=Z0,o=0,u=!1;function f(q){w();const U=i.subscribe(q);let $=!1;return()=>{$||($=!0,U(),b())}}function m(){i.notify()}function p(){V.onStateChange&&V.onStateChange()}function g(){return u}function w(){o++,n||(n=t.subscribe(p),i=gI())}function b(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=Z0)}function S(){u||(u=!0,w())}function D(){u&&(u=!1,b())}const V={addNestedSub:f,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:S,tryUnsubscribe:D,getListeners:()=>i};return V}var wI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vI=wI(),_I=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bI=_I(),EI=()=>vI||bI?K.useLayoutEffect:K.useEffect,TI=EI(),SI=Symbol.for("react-redux-context"),AI=typeof globalThis<"u"?globalThis:{};function RI(){if(!K.createContext)return{};const t=AI[SI]??=new Map;let e=t.get(K.createContext);return e||(e=K.createContext(null),t.set(K.createContext,e)),e}var ws=RI();function CI(t){const{children:e,context:n,serverState:i,store:o}=t,u=K.useMemo(()=>{const p=yI(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),f=K.useMemo(()=>o.getState(),[o]);TI(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const m=n||ws;return K.createElement(m.Provider,{value:u},e)}var II=CI;function ay(t=ws){return function(){return K.useContext(t)}}var bT=ay();function ET(t=ws){const e=t===ws?bT:ay(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var xI=ET();function DI(t=ws){const e=t===ws?xI:ET(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var OI=DI(),NI=(t,e)=>t===e;function kI(t=ws){const e=t===ws?bT:ay(t),n=(i,o={})=>{const{equalityFn:u=NI}=typeof o=="function"?{equalityFn:o}:o,f=e(),{store:m,subscription:p,getServerState:g}=f;K.useRef(!0);const w=K.useCallback({[i.name](S){return i(S)}}[i.name],[i]),b=mI.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,w,u);return K.useDebugValue(b),b};return Object.assign(n,{withTypes:()=>n}),n}var PI=kI();const Jo=OI.withTypes(),Wn=PI.withTypes(),J0=[100,200,300,400,500];function MI({topics:t,onQuestionClick:e}){const n=Wn(f=>f.topics.selectedIndexByTitleAndPrice),i=Wn(f=>f.topics.answeredStatusByTitleAndPrice),o=(f,m)=>{const p=n[f.title]?.[m];return typeof p=="number"?f.questions[p]:void 0},u=({topic:f,price:m,compact:p})=>{const g=o(f,m),w=i[f.title]?.[m],b=w==="correct"||w==="wrong",S=w==="correct"?"board-cell--correct":w==="wrong"?"board-cell--wrong":"";return G.jsxs("button",{onClick:()=>g&&e({title:f.title,price:m,question:g.question,answer:g.answer}),disabled:!g||b,className:["board-cell",S,b?"opacity-90 cursor-not-allowed":"cursor-pointer",p?"px-3 py-4 text-lg":""].join(" "),onMouseMove:D=>{const V=D.currentTarget.getBoundingClientRect();D.currentTarget.style.setProperty("--mx",`${D.clientX-V.left}px`),D.currentTarget.style.setProperty("--my",`${D.clientY-V.top}px`)},children:[G.jsx("span",{className:"status-mark"}),m]})};return G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"hidden md:block w-full",children:G.jsx("div",{className:"mx-auto max-w-6xl flex flex-col gap-3",children:t.map((f,m)=>G.jsxs("div",{className:"grid grid-cols-[repeat(6,minmax(110px,1fr))] gap-3",children:[G.jsx("div",{className:"title-cell",children:f.title}),J0.map(p=>G.jsx(u,{topic:f,price:p},p))]},m))})}),G.jsx("div",{className:"md:hidden w-full",children:G.jsx("div",{className:"mx-auto max-w-md flex flex-col gap-4",children:t.map((f,m)=>G.jsxs("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl shadow p-4",children:[G.jsx("div",{className:"text-slate-100 font-semibold mb-3",children:f.title}),G.jsx("div",{className:"grid grid-cols-3 gap-3",children:J0.map(p=>G.jsx(u,{topic:f,price:p,compact:!0},p))})]},m))})})]})}function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var VI=typeof Symbol=="function"&&Symbol.observable||"@@observable",eb=VI,Qp=()=>Math.random().toString(36).substring(7).split("").join("."),LI={INIT:`@@redux/INIT${Qp()}`,REPLACE:`@@redux/REPLACE${Qp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qp()}`},bh=LI;function oy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ly(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(ly)(t,e)}let i=t,o=e,u=new Map,f=u,m=0,p=!1;function g(){f===u&&(f=new Map,u.forEach((U,$)=>{f.set($,U)}))}function w(){if(p)throw new Error(Xt(3));return o}function b(U){if(typeof U!="function")throw new Error(Xt(4));if(p)throw new Error(Xt(5));let $=!0;g();const se=m++;return f.set(se,U),function(){if($){if(p)throw new Error(Xt(6));$=!1,g(),f.delete(se),u=null}}}function S(U){if(!oy(U))throw new Error(Xt(7));if(typeof U.type>"u")throw new Error(Xt(8));if(typeof U.type!="string")throw new Error(Xt(17));if(p)throw new Error(Xt(9));try{p=!0,o=i(o,U)}finally{p=!1}return(u=f).forEach(se=>{se()}),U}function D(U){if(typeof U!="function")throw new Error(Xt(10));i=U,S({type:bh.REPLACE})}function V(){const U=b;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Xt(11));function se(){const ae=$;ae.next&&ae.next(w())}return se(),{unsubscribe:U(se)}},[eb](){return this}}}return S({type:bh.INIT}),{dispatch:S,subscribe:b,getState:w,replaceReducer:D,[eb]:V}}function UI(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:bh.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:bh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function TT(t){const e=Object.keys(t),n={};for(let u=0;u<e.length;u++){const f=e[u];typeof t[f]=="function"&&(n[f]=t[f])}const i=Object.keys(n);let o;try{UI(n)}catch(u){o=u}return function(f={},m){if(o)throw o;let p=!1;const g={};for(let w=0;w<i.length;w++){const b=i[w],S=n[b],D=f[b],V=S(D,m);if(typeof V>"u")throw m&&m.type,new Error(Xt(14));g[b]=V,p=p||V!==D}return p=p||i.length!==Object.keys(f).length,p?g:f}}function Eh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function BI(...t){return e=>(n,i)=>{const o=e(n,i);let u=()=>{throw new Error(Xt(15))};const f={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=t.map(p=>p(f));return u=Eh(...m)(o.dispatch),{...o,dispatch:u}}}function zI(t){return oy(t)&&"type"in t&&typeof t.type=="string"}var ST=Symbol.for("immer-nothing"),tb=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function sr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zo=Object.getPrototypeOf;function va(t){return!!t&&!!t[Nn]}function _i(t){return t?AT(t)||Array.isArray(t)||!!t[tb]||!!t.constructor?.[tb]||ad(t)||od(t):!1}var jI=Object.prototype.constructor.toString();function AT(t){if(!t||typeof t!="object")return!1;const e=zo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===jI}function Th(t,e){sd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function sd(t){const e=t[Nn];return e?e.type_:Array.isArray(t)?1:ad(t)?2:od(t)?3:0}function gg(t,e){return sd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function RT(t,e,n){const i=sd(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function qI(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ad(t){return t instanceof Map}function od(t){return t instanceof Set}function ha(t){return t.copy_||t.base_}function yg(t,e){if(ad(t))return new Map(t);if(od(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=AT(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Nn];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const f=o[u],m=i[f];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[f]={configurable:!0,writable:!0,enumerable:m.enumerable,value:t[f]})}return Object.create(zo(t),i)}else{const i=zo(t);if(i!==null&&n)return{...t};const o=Object.create(i);return Object.assign(o,t)}}function uy(t,e=!1){return ld(t)||va(t)||!_i(t)||(sd(t)>1&&(t.set=t.add=t.clear=t.delete=HI),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>uy(i,!0))),t}function HI(){sr(2)}function ld(t){return Object.isFrozen(t)}var FI={};function _a(t){const e=FI[t];return e||sr(0,t),e}var Uu;function CT(){return Uu}function GI(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nb(t,e){e&&(_a("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function wg(t){vg(t),t.drafts_.forEach($I),t.drafts_=null}function vg(t){t===Uu&&(Uu=t.parent_)}function rb(t){return Uu=GI(Uu,t)}function $I(t){const e=t[Nn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ib(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Nn].modified_&&(wg(e),sr(4)),_i(t)&&(t=Sh(e,t),e.parent_||Ah(e,t)),e.patches_&&_a("Patches").generateReplacementPatches_(n[Nn].base_,t,e.patches_,e.inversePatches_)):t=Sh(e,n,[]),wg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ST?t:void 0}function Sh(t,e,n){if(ld(e))return e;const i=e[Nn];if(!i)return Th(e,(o,u)=>sb(t,i,e,o,u,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Ah(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,f=!1;i.type_===3&&(u=new Set(o),o.clear(),f=!0),Th(u,(m,p)=>sb(t,i,o,m,p,n,f)),Ah(t,o,!1),n&&t.patches_&&_a("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function sb(t,e,n,i,o,u,f){if(va(o)){const m=u&&e&&e.type_!==3&&!gg(e.assigned_,i)?u.concat(i):void 0,p=Sh(t,o,m);if(RT(n,i,p),va(p))t.canAutoFreeze_=!1;else return}else f&&n.add(o);if(_i(o)&&!ld(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Sh(t,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Ah(t,o)}}function Ah(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uy(e,n)}function KI(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:CT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=cy;n&&(o=[i],u=Bu);const{revoke:f,proxy:m}=Proxy.revocable(o,u);return i.draft_=m,i.revoke_=f,m}var cy={get(t,e){if(e===Nn)return t;const n=ha(t);if(!gg(n,e))return QI(t,n,e);const i=n[e];return t.finalized_||!_i(i)?i:i===Yp(t.base_,e)?(Xp(t),t.copy_[e]=bg(i,t)):i},has(t,e){return e in ha(t)},ownKeys(t){return Reflect.ownKeys(ha(t))},set(t,e,n){const i=IT(ha(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const o=Yp(ha(t),e),u=o?.[Nn];if(u&&u.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(qI(n,o)&&(n!==void 0||gg(t.base_,e)))return!0;Xp(t),_g(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Yp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Xp(t),_g(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ha(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){sr(11)},getPrototypeOf(t){return zo(t.base_)},setPrototypeOf(){sr(12)}},Bu={};Th(cy,(t,e)=>{Bu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bu.deleteProperty=function(t,e){return Bu.set.call(this,t,e,void 0)};Bu.set=function(t,e,n){return cy.set.call(this,t[0],e,n,t[0])};function Yp(t,e){const n=t[Nn];return(n?ha(n):t)[e]}function QI(t,e,n){const i=IT(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function IT(t,e){if(!(e in t))return;let n=zo(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=zo(n)}}function _g(t){t.modified_||(t.modified_=!0,t.parent_&&_g(t.parent_))}function Xp(t){t.copy_||(t.copy_=yg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var YI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const f=this;return function(p=u,...g){return f.produce(p,w=>n.call(this,w,...g))}}typeof n!="function"&&sr(6),i!==void 0&&typeof i!="function"&&sr(7);let o;if(_i(e)){const u=rb(this),f=bg(e,void 0);let m=!0;try{o=n(f),m=!1}finally{m?wg(u):vg(u)}return nb(u,i),ib(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===ST&&(o=void 0),this.autoFreeze_&&uy(o,!0),i){const u=[],f=[];_a("Patches").generateReplacementPatches_(e,o,u,f),i(u,f)}return o}else sr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(f,...m)=>this.produceWithPatches(f,p=>e(p,...m));let i,o;return[this.produce(e,n,(f,m)=>{i=f,o=m}),i,o]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){_i(t)||sr(8),va(t)&&(t=XI(t));const e=rb(this),n=bg(t,void 0);return n[Nn].isManual_=!0,vg(e),n}finishDraft(t,e){const n=t&&t[Nn];(!n||!n.isManual_)&&sr(9);const{scope_:i}=n;return nb(i,e),ib(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const i=_a("Patches").applyPatches_;return va(t)?i(t,e):this.produce(t,o=>i(o,e))}};function bg(t,e){const n=ad(t)?_a("MapSet").proxyMap_(t,e):od(t)?_a("MapSet").proxySet_(t,e):KI(t,e);return(e?e.scope_:CT()).drafts_.push(n),n}function XI(t){return va(t)||sr(10,t),xT(t)}function xT(t){if(!_i(t)||ld(t))return t;const e=t[Nn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=yg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=yg(t,!0);return Th(n,(i,o)=>{RT(n,i,xT(o))}),e&&(e.finalized_=!1),n}var kn=new YI,DT=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseStrictShallowCopy.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function OT(t){return({dispatch:n,getState:i})=>o=>u=>typeof u=="function"?u(n,i,t):o(u)}var WI=OT(),ZI=OT,JI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eh:Eh.apply(null,arguments)},ex=t=>t&&typeof t.match=="function";function Du(t,e){function n(...i){if(e){let o=e(...i);if(!o)throw new Error(gi(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>zI(i)&&i.type===t,n}var NT=class Au extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Au.prototype)}static get[Symbol.species](){return Au}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Au(...e[0].concat(this)):new Au(...e.concat(this))}};function ab(t){return _i(t)?DT(t,()=>{}):t}function qf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function tx(t){return typeof t=="boolean"}var nx=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let f=new NT;return n&&(tx(n)?f.push(WI):f.push(ZI(n.extraArgument))),f},rx="RTK_autoBatch",ob=t=>e=>{setTimeout(e,t)},ix=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let o=!0,u=!1,f=!1;const m=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ob(10):t.type==="callback"?t.queueNotification:ob(t.timeout),g=()=>{f=!1,u&&(u=!1,m.forEach(w=>w()))};return Object.assign({},i,{subscribe(w){const b=()=>o&&w(),S=i.subscribe(b);return m.add(w),()=>{S(),m.delete(w)}},dispatch(w){try{return o=!w?.meta?.[rx],u=!o,u&&(f||(f=!0,p(g))),i.dispatch(w)}finally{o=!0}}})},sx=t=>function(n){const{autoBatch:i=!0}=n??{};let o=new NT(t);return i&&o.push(ix(typeof i=="object"?i:void 0)),o};function ax(t){const e=nx(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=t||{};let m;if(typeof n=="function")m=n;else if(oy(n))m=TT(n);else throw new Error(gi(1));let p;typeof i=="function"?p=i(e):p=e();let g=Eh;o&&(g=JI({trace:!1,...typeof o=="object"&&o}));const w=BI(...p),b=sx(w);let S=typeof f=="function"?f(b):b();const D=g(...S);return ly(m,u,D)}function kT(t){const e={},n=[];let i;const o={addCase(u,f){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(gi(28));if(m in e)throw new Error(gi(29));return e[m]=f,o},addMatcher(u,f){return n.push({matcher:u,reducer:f}),o},addDefaultCase(u){return i=u,o}};return t(o),[e,n,i]}function ox(t){return typeof t=="function"}function lx(t,e){let[n,i,o]=kT(e),u;if(ox(t))u=()=>ab(t());else{const m=ab(t);u=()=>m}function f(m=u(),p){let g=[n[p.type],...i.filter(({matcher:w})=>w(p)).map(({reducer:w})=>w)];return g.filter(w=>!!w).length===0&&(g=[o]),g.reduce((w,b)=>{if(b)if(va(w)){const D=b(w,p);return D===void 0?w:D}else{if(_i(w))return DT(w,S=>b(S,p));{const S=b(w,p);if(S===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return w},m)}return f.getInitialState=u,f}var ux=(t,e)=>ex(t)?t.match(e):t(e);function cx(...t){return e=>t.some(n=>ux(n,e))}var fx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hx=(t=21)=>{let e="",n=t;for(;n--;)e+=fx[Math.random()*64|0];return e},dx=["name","message","stack","code"],Wp=class{constructor(t,e){this.payload=t,this.meta=e}_type},lb=class{constructor(t,e){this.payload=t,this.meta=e}_type},mx=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of dx)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},ub="External signal was aborted",Ia=(()=>{function t(e,n,i){const o=Du(e+"/fulfilled",(p,g,w,b)=>({payload:p,meta:{...b||{},arg:w,requestId:g,requestStatus:"fulfilled"}})),u=Du(e+"/pending",(p,g,w)=>({payload:void 0,meta:{...w||{},arg:g,requestId:p,requestStatus:"pending"}})),f=Du(e+"/rejected",(p,g,w,b,S)=>({payload:b,error:(i&&i.serializeError||mx)(p||"Rejected"),meta:{...S||{},arg:w,requestId:g,rejectedWithValue:!!b,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(w,b,S)=>{const D=i?.idGenerator?i.idGenerator(p):hx(),V=new AbortController;let q,U;function $(X){U=X,V.abort()}g&&(g.aborted?$(ub):g.addEventListener("abort",()=>$(ub),{once:!0}));const se=async function(){let X;try{let ie=i?.condition?.(p,{getState:b,extra:S});if(gx(ie)&&(ie=await ie),ie===!1||V.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const he=new Promise((x,A)=>{q=()=>{A({name:"AbortError",message:U||"Aborted"})},V.signal.addEventListener("abort",q)});w(u(D,p,i?.getPendingMeta?.({requestId:D,arg:p},{getState:b,extra:S}))),X=await Promise.race([he,Promise.resolve(n(p,{dispatch:w,getState:b,extra:S,requestId:D,signal:V.signal,abort:$,rejectWithValue:(x,A)=>new Wp(x,A),fulfillWithValue:(x,A)=>new lb(x,A)})).then(x=>{if(x instanceof Wp)throw x;return x instanceof lb?o(x.payload,D,p,x.meta):o(x,D,p)})])}catch(ie){X=ie instanceof Wp?f(null,D,p,ie.payload,ie.meta):f(ie,D,p)}finally{q&&V.signal.removeEventListener("abort",q)}return i&&!i.dispatchConditionRejection&&f.match(X)&&X.meta.condition||w(X),X}();return Object.assign(se,{abort:$,requestId:D,arg:p,unwrap(){return se.then(px)}})}}return Object.assign(m,{pending:u,rejected:f,fulfilled:o,settled:cx(f,o),typePrefix:e})}return t.withTypes=()=>t,t})();function px(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function gx(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var yx=Symbol.for("rtk-slice-createasyncthunk");function wx(t,e){return`${t}/${e}`}function vx({creators:t}={}){const e=t?.asyncThunk?.[yx];return function(i){const{name:o,reducerPath:u=o}=i;if(!o)throw new Error(gi(11));const f=(typeof i.reducers=="function"?i.reducers(bx()):i.reducers)||{},m=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(X,ae){const ie=typeof X=="string"?X:X.type;if(!ie)throw new Error(gi(12));if(ie in p.sliceCaseReducersByType)throw new Error(gi(13));return p.sliceCaseReducersByType[ie]=ae,g},addMatcher(X,ae){return p.sliceMatchers.push({matcher:X,reducer:ae}),g},exposeAction(X,ae){return p.actionCreators[X]=ae,g},exposeCaseReducer(X,ae){return p.sliceCaseReducersByName[X]=ae,g}};m.forEach(X=>{const ae=f[X],ie={reducerName:X,type:wx(o,X),createNotation:typeof i.reducers=="function"};Tx(ae)?Ax(ie,ae,g,e):Ex(ie,ae,g)});function w(){const[X={},ae=[],ie=void 0]=typeof i.extraReducers=="function"?kT(i.extraReducers):[i.extraReducers],he={...X,...p.sliceCaseReducersByType};return lx(i.initialState,x=>{for(let A in he)x.addCase(A,he[A]);for(let A of p.sliceMatchers)x.addMatcher(A.matcher,A.reducer);for(let A of ae)x.addMatcher(A.matcher,A.reducer);ie&&x.addDefaultCase(ie)})}const b=X=>X,S=new Map,D=new WeakMap;let V;function q(X,ae){return V||(V=w()),V(X,ae)}function U(){return V||(V=w()),V.getInitialState()}function $(X,ae=!1){function ie(x){let A=x[X];return typeof A>"u"&&ae&&(A=qf(D,ie,U)),A}function he(x=b){const A=qf(S,ae,()=>new WeakMap);return qf(A,x,()=>{const R={};for(const[k,P]of Object.entries(i.selectors??{}))R[k]=_x(P,x,()=>qf(D,x,U),ae);return R})}return{reducerPath:X,getSelectors:he,get selectors(){return he(ie)},selectSlice:ie}}const se={name:o,reducer:q,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:U,...$(u),injectInto(X,{reducerPath:ae,...ie}={}){const he=ae??u;return X.inject({reducerPath:he,reducer:q},ie),{...se,...$(he,!0)}}};return se}}function _x(t,e,n,i){function o(u,...f){let m=e(u);return typeof m>"u"&&i&&(m=n()),t(m,...f)}return o.unwrapped=t,o}var ud=vx();function bx(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ex({type:t,reducerName:e,createNotation:n},i,o){let u,f;if("reducer"in i){if(n&&!Sx(i))throw new Error(gi(17));u=i.reducer,f=i.prepare}else u=i;o.addCase(t,u).exposeCaseReducer(e,u).exposeAction(e,f?Du(t,f):Du(t))}function Tx(t){return t._reducerDefinitionType==="asyncThunk"}function Sx(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ax({type:t,reducerName:e},n,i,o){if(!o)throw new Error(gi(18));const{payloadCreator:u,fulfilled:f,pending:m,rejected:p,settled:g,options:w}=n,b=o(t,u,w);i.exposeAction(e,b),f&&i.addCase(b.fulfilled,f),m&&i.addCase(b.pending,m),p&&i.addCase(b.rejected,p),g&&i.addMatcher(b.settled,g),i.exposeCaseReducer(e,{fulfilled:f||Hf,pending:m||Hf,rejected:p||Hf,settled:g||Hf})}function Hf(){}function gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Rx=()=>{};var cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],f=t[n++],m=t[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],f=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},MT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const u=t[o],f=o+1<t.length,m=f?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,w=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(S=64)),i.push(n[w],n[b],n[S],n[D])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new Ix;const S=u<<2|m>>4;if(i.push(S),g!==64){const D=m<<4&240|g>>2;if(i.push(D),b!==64){const V=g<<6&192|b;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ix extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(t){const e=PT(t);return MT.encodeByteArray(e,!0)},Rh=function(t){return xx(t).replace(/\./g,"")},VT=function(t){try{return MT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=()=>Dx().__FIREBASE_DEFAULTS__,Nx=()=>{if(typeof process>"u"||typeof cb>"u")return;const t=cb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VT(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return Rx()||Ox()||Nx()||kx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LT=t=>cd()?.emulatorHosts?.[t],Px=t=>{const e=LT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},UT=()=>cd()?.config,BT=t=>cd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const Ou={};function Lx(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?t.emulator.push(e):t.prod.push(e);return t}function Ux(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fb=!1;function jT(t,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||Ou[t]===e||Ou[t]||fb)return;Ou[t]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=Lx().prod.length>0;function f(){const S=document.getElementById(i);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{fb=!0,f()},S}function w(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Ux(i),D=n("text"),V=document.getElementById(D)||document.createElement("span"),q=n("learnmore"),U=document.getElementById(q)||document.createElement("a"),$=n("preprendIcon"),se=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;m(X),w(U,q);const ae=g();p(se,$),X.append(se,V,U,ae),document.body.appendChild(X)}u?(V.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function zx(){const t=cd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fx(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gx(){return!zx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $x(){try{return typeof indexedDB=="object"}catch{return!1}}function Kx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="FirebaseError";class Ci extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Qx,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Yx(u,i):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ci(o,m,i)}}function Yx(t,e){return t.replace(Xx,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Xx=/\{\$([^}]+)}/g;function Wx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ba(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=t[o],f=e[o];if(hb(u)&&hb(f)){if(!ba(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function hb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zx(t,e){const n=new Jx(t,e);return n.subscribe.bind(n)}class Jx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");eD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Zp),o.error===void 0&&(o.error=Zp),o.complete===void 0&&(o.complete=Zp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ea{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Mx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rD(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&f.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nD(t){return t===da?void 0:t}function rD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const sD={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},aD=Pe.INFO,oD={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},lD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=oD[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fy{constructor(e){this.name=e,this._logLevel=aD,this._logHandler=lD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const uD=(t,e)=>e.some(n=>t instanceof n);let db,mb;function cD(){return db||(db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fD(){return mb||(mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,Eg=new WeakMap,HT=new WeakMap,Jp=new WeakMap,hy=new WeakMap;function hD(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",f)},u=()=>{n(hs(t.result)),o()},f=()=>{i(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&qT.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function dD(t){if(Eg.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",f),t.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",f),t.addEventListener("abort",f)});Eg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mD(t){Tg=t(Tg)}function pD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(eg(this),e,...n);return HT.set(i,e.sort?e.sort():[e]),hs(i)}:fD().includes(t)?function(...e){return t.apply(eg(this),e),hs(qT.get(this))}:function(...e){return hs(t.apply(eg(this),e))}}function gD(t){return typeof t=="function"?pD(t):(t instanceof IDBTransaction&&dD(t),uD(t,cD())?new Proxy(t,Tg):t)}function hs(t){if(t instanceof IDBRequest)return hD(t);if(Jp.has(t))return Jp.get(t);const e=gD(t);return e!==t&&(Jp.set(t,e),hy.set(e,t)),e}const eg=t=>hy.get(t);function yD(t,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(t,e),m=hs(f);return i&&f.addEventListener("upgradeneeded",p=>{i(hs(f.result),p.oldVersion,p.newVersion,hs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const wD=["get","getKey","getAll","getAllKeys","count"],vD=["put","add","delete","clear"],tg=new Map;function pb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=vD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||wD.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return tg.set(e,u),u}mD(t=>({...t,get:(e,n,i)=>pb(e,n)||t.get(e,n,i),has:(e,n)=>!!pb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bD(t){return t.getComponent()?.type==="VERSION"}const Sg="@firebase/app",gb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new fy("@firebase/app"),ED="@firebase/app-compat",TD="@firebase/analytics-compat",SD="@firebase/analytics",AD="@firebase/app-check-compat",RD="@firebase/app-check",CD="@firebase/auth",ID="@firebase/auth-compat",xD="@firebase/database",DD="@firebase/data-connect",OD="@firebase/database-compat",ND="@firebase/functions",kD="@firebase/functions-compat",PD="@firebase/installations",MD="@firebase/installations-compat",VD="@firebase/messaging",LD="@firebase/messaging-compat",UD="@firebase/performance",BD="@firebase/performance-compat",zD="@firebase/remote-config",jD="@firebase/remote-config-compat",qD="@firebase/storage",HD="@firebase/storage-compat",FD="@firebase/firestore",GD="@firebase/ai",$D="@firebase/firestore-compat",KD="firebase",QD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",YD={[Sg]:"fire-core",[ED]:"fire-core-compat",[SD]:"fire-analytics",[TD]:"fire-analytics-compat",[RD]:"fire-app-check",[AD]:"fire-app-check-compat",[CD]:"fire-auth",[ID]:"fire-auth-compat",[xD]:"fire-rtdb",[DD]:"fire-data-connect",[OD]:"fire-rtdb-compat",[ND]:"fire-fn",[kD]:"fire-fn-compat",[PD]:"fire-iid",[MD]:"fire-iid-compat",[VD]:"fire-fcm",[LD]:"fire-fcm-compat",[UD]:"fire-perf",[BD]:"fire-perf-compat",[zD]:"fire-rc",[jD]:"fire-rc-compat",[qD]:"fire-gcs",[HD]:"fire-gcs-compat",[FD]:"fire-fst",[$D]:"fire-fst-compat",[GD]:"fire-vertex","fire-js":"fire-js",[KD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,XD=new Map,Rg=new Map;function yb(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jo(t){const e=t.name;if(Rg.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of Ch.values())yb(n,t);for(const n of XD.values())yb(n,t);return!0}function dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new Zu("app","Firebase",WD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=QD;function FT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ag,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=UT()),!n)throw ds.create("no-options");const u=Ch.get(o);if(u){if(ba(n,u.options)&&ba(i,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const f=new iD(o);for(const p of Rg.values())f.addComponent(p);const m=new ZD(n,i,f);return Ch.set(o,m),m}function GT(t=Ag){const e=Ch.get(t);if(!e&&t===Ag&&UT())return FT();if(!e)throw ds.create("no-app",{appName:t});return e}function ms(t,e,n){let i=YD[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(f.join(" "));return}jo(new Ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firebase-heartbeat-database",eO=1,zu="firebase-heartbeat-store";let ng=null;function $T(){return ng||(ng=yD(JD,eO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),ng}async function tO(t){try{const n=(await $T()).transaction(zu),i=await n.objectStore(zu).get(KT(t));return await n.done,i}catch(e){if(e instanceof Ci)bi.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}}async function wb(t,e){try{const i=(await $T()).transaction(zu,"readwrite");await i.objectStore(zu).put(e,KT(t)),await i.done}catch(n){if(n instanceof Ci)bi.warn(n.message);else{const i=ds.create("idb-set",{originalErrorMessage:n?.message});bi.warn(i.message)}}}function KT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1024,rO=30;class iO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>rO){const o=oO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vb(),{heartbeatsToSend:n,unsentEntries:i}=sO(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bi.warn(e),""}}}function vb(){return new Date().toISOString().substring(0,10)}function sO(t,e=nO){const n=[];let i=t.slice();for(const o of t){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_b(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_b(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class aO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $x()?Kx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _b(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}function oO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){jo(new Ea("platform-logger",e=>new _D(e),"PRIVATE")),jo(new Ea("heartbeat",e=>new iO(e),"PRIVATE")),ms(Sg,gb,t),ms(Sg,gb,"esm2020"),ms("fire-js","")}lO("");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,QT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function R(){}R.prototype=A.prototype,x.D=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(k,P,L){for(var I=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)I[Ft-2]=arguments[Ft];return A.prototype[P].apply(k,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);var k=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)k[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)k[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],P=x.g[2];var L=x.g[3],I=A+(L^R&(P^L))+k[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[2]+606105819&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[6]+2821735955&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[10]+4294925233&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[14]+2792965006&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(P^L&(R^P))+k[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[11]+643717713&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[15]+3634488961&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[3]+4107603335&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[7]+1735328473&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(R^P^L)+k[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[11]+1839030562&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[7]+4139469664&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[3]+3572445317&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[15]+530742520&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(P^(R|~L))+k[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[14]+2878612391&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[10]+4293915773&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[6]+2734768916&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[2]+718787259&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}i.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var R=A-this.blockSize,k=this.B,P=this.h,L=0;L<A;){if(P==0)for(;L<=R;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(k[P++]=x.charCodeAt(L++),P==this.blockSize){o(this,k),P=0;break}}else for(;L<A;)if(k[P++]=x[L++],P==this.blockSize){o(this,k),P=0;break}}this.h=P,this.o+=A},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var R=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=R&255,R/=256;for(this.u(x),x=Array(16),A=R=0;4>A;++A)for(var k=0;32>k;k+=8)x[R++]=this.g[A]>>>k&255;return x};function u(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function f(x,A){this.h=A;for(var R=[],k=!0,P=x.length-1;0<=P;P--){var L=x[P]|0;k&&L==A||(R[P]=L,k=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(A){return new f([A|0],0>A?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return U(g(-x));for(var A=[],R=1,k=0;x>=R;k++)A[k]=x/R|0,R*=4294967296;return new f(A,0)}function w(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return U(w(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),k=b,P=0;P<x.length;P+=8){var L=Math.min(8,x.length-P),I=parseInt(x.substring(P,P+L),A);8>L?(L=g(Math.pow(A,L)),k=k.j(L).add(g(I))):(k=k.j(R),k=k.add(g(I)))}return k}var b=p(0),S=p(1),D=p(16777216);t=f.prototype,t.m=function(){if(q(this))return-U(this).m();for(var x=0,A=1,R=0;R<this.g.length;R++){var k=this.i(R);x+=(0<=k?k:4294967296+k)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(q(this))return"-"+U(this).toString(x);for(var A=g(Math.pow(x,6)),R=this,k="";;){var P=ae(R,A).g;R=$(R,P.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=P,V(R))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function q(x){return x.h==-1}t.l=function(x){return x=$(this,x),q(x)?-1:V(x)?0:1};function U(x){for(var A=x.g.length,R=[],k=0;k<A;k++)R[k]=~x.g[k];return new f(R,~x.h).add(S)}t.abs=function(){return q(this)?U(this):this},t.add=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0,P=0;P<=A;P++){var L=k+(this.i(P)&65535)+(x.i(P)&65535),I=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);k=I>>>16,L&=65535,I&=65535,R[P]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(x,A){return x.add(U(A))}t.j=function(x){if(V(this)||V(x))return b;if(q(this))return q(x)?U(this).j(U(x)):U(U(this).j(x));if(q(x))return U(this.j(U(x)));if(0>this.l(D)&&0>x.l(D))return g(this.m()*x.m());for(var A=this.g.length+x.g.length,R=[],k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<x.g.length;P++){var L=this.i(k)>>>16,I=this.i(k)&65535,Ft=x.i(P)>>>16,ht=x.i(P)&65535;R[2*k+2*P]+=I*ht,se(R,2*k+2*P),R[2*k+2*P+1]+=L*ht,se(R,2*k+2*P+1),R[2*k+2*P+1]+=I*Ft,se(R,2*k+2*P+1),R[2*k+2*P+2]+=L*Ft,se(R,2*k+2*P+2)}for(k=0;k<A;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=A;k<2*A;k++)R[k]=0;return new f(R,0)};function se(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function X(x,A){this.g=x,this.h=A}function ae(x,A){if(V(A))throw Error("division by zero");if(V(x))return new X(b,b);if(q(x))return A=ae(U(x),A),new X(U(A.g),U(A.h));if(q(A))return A=ae(x,U(A)),new X(U(A.g),A.h);if(30<x.g.length){if(q(x)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=A;0>=k.l(x);)R=ie(R),k=ie(k);var P=he(R,1),L=he(k,1);for(k=he(k,2),R=he(R,2);!V(k);){var I=L.add(k);0>=I.l(x)&&(P=P.add(R),L=I),k=he(k,1),R=he(R,1)}return A=$(x,P.j(A)),new X(P,A)}for(P=b;0<=x.l(A);){for(R=Math.max(1,Math.floor(x.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=g(R),I=L.j(A);q(I)||0<I.l(x);)R-=k,L=g(R),I=L.j(A);V(L)&&(L=S),P=P.add(L),x=$(x,I)}return new X(P,x)}t.A=function(x){return ae(this,x).h},t.and=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)&x.i(k);return new f(R,this.h&x.h)},t.or=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)|x.i(k);return new f(R,this.h|x.h)},t.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)^x.i(k);return new f(R,this.h^x.h)};function ie(x){for(var A=x.g.length+1,R=[],k=0;k<A;k++)R[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(R,x.h)}function he(x,A){var R=A>>5;A%=32;for(var k=x.g.length-R,P=[],L=0;L<k;L++)P[L]=0<A?x.i(L+R)>>>A|x.i(L+R+1)<<32-A:x.i(L+R);return new f(P,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,QT=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=w,ps=f}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var Ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,Ru,XT,th,Cg,WT,ZT,JT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ff=="object"&&Ff];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function o(c,y){if(y)e:{var v=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var B=c[T];if(!(B in v))break e;v=v[B]}c=c[c.length-1],T=v[c],y=y(T),y!=T&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,T=!1,B={next:function(){if(!T&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function w(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:b,S.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,B,Q){for(var le=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)le[Le-2]=arguments[Le];return y.prototype[B].apply(T,le)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let T=0;T<y;T++)v[T]=c[T];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const B=c.length||0,Q=T.length||0;c.length=B+Q;for(let le=0;le<Q;le++)c[B+le]=T[le]}else c.push(T)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ie=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function he(c,y,v){for(const T in c)y.call(v,c[T],T,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let v,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(v in T)c[v]=T[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ft{constructor(){this.h=this.g=null}add(y,v){const T=ht.get();T.set(y,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,He=new Ft,O=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(re)}};var re=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){L(v)}var y=ht;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{ae(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}V(De,oe);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function ur(c,y,v,T,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!T,this.ha=B,this.key=++nt,this.da=this.fa=!1}function xi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zr(c){this.src=c,this.g={},this.h=0}zr.prototype.add=function(c,y,v,T,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var le=Is(c,y,T,B);return-1<le?(y=c[le],v||(y.fa=!1)):(y=new ur(y,this.src,Q,!!T,B),y.fa=v,c.push(y)),y};function Cs(c,y){var v=y.type;if(v in c.g){var T=c.g[v],B=Array.prototype.indexOf.call(T,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(T,B,1),Q&&(xi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Is(c,y,v,T){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==T)return B}return-1}var xs="closure_lm_"+(1e6*Math.random()|0),dl={};function gc(c,y,v,T,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)gc(c,y[Q],v,T,B);return null}return v=yc(v),c&&c[Vt]?c.K(y,v,g(T)?!!T.capture:!1,B):Ln(c,y,v,!1,T,B)}function Ln(c,y,v,T,B,Q){if(!y)throw Error("Invalid event type");var le=g(B)?!!B.capture:!!B,Le=Va(c);if(Le||(c[xs]=Le=new zr(c)),v=Le.add(y,v,T,le,Q),v.proxy)return v;if(T=Ud(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)we||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),T,B);else if(c.attachEvent)c.attachEvent(Ds(y.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ud(){function c(v){return y.call(c.src,c.listener,v)}const y=Bd;return c}function ml(c,y,v,T,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ml(c,y[Q],v,T,B);else T=g(T)?!!T.capture:!!T,v=yc(v),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=Is(Q,v,T,B),-1<v&&(xi(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Va(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Is(y,v,T,B)),(v=-1<c?y[c]:null)&&Ma(v))}function Ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])Cs(y.i,c);else{var v=c.type,T=c.proxy;y.removeEventListener?y.removeEventListener(v,T,c.capture):y.detachEvent?y.detachEvent(Ds(v),T):y.addListener&&y.removeListener&&y.removeListener(T),(v=Va(y))?(Cs(v,c),v.h==0&&(v.src=null,y[xs]=null)):xi(c)}}}function Ds(c){return c in dl?dl[c]:dl[c]="on"+c}function Bd(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,T=c.ha||c.src;c.fa&&Ma(c),c=v.call(T,y)}return c}function Va(c){return c=c[xs],c instanceof zr?c:null}var pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function yc(c){return typeof c=="function"?c:(c[pl]||(c[pl]=function(y){return c.handleEvent(y)}),c[pl])}function dt(){ce.call(this),this.i=new zr(this),this.M=this,this.F=null}V(dt,ce),dt.prototype[Vt]=!0,dt.prototype.removeEventListener=function(c,y,v,T){ml(this,c,y,v,T)};function Qe(c,y){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var B=y;y=new oe(T,c),k(y,B)}if(B=!0,v)for(var Q=v.length-1;0<=Q;Q--){var le=y.g=v[Q];B=En(le,T,!0,y)&&B}if(le=y.g=c,B=En(le,T,!0,y)&&B,B=En(le,T,!1,y)&&B,v)for(Q=0;Q<v.length;Q++)le=y.g=v[Q],B=En(le,T,!1,y)&&B}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],T=0;T<v.length;T++)xi(v[T]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,v,T){return this.i.add(String(c),y,!1,v,T)},dt.prototype.L=function(c,y,v,T){return this.i.add(String(c),y,!0,v,T)};function En(c,y,v,T){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var le=y[Q];if(le&&!le.da&&le.capture==v){var Le=le.listener,Ot=le.ha||le.src;le.fa&&Cs(c.i,le),B=Le.call(Ot,T)!==!1&&B}}return B&&!T.defaultPrevented}function en(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function wc(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,wc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class zd extends ce{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){ce.call(this),this.h=c,this.g={}}V(Os,ce);var Ns=[];function ks(c){he(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ma(y)},c),c.g={}}Os.prototype.N=function(){Os.aa.N.call(this),ks(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,La=m.JSON.parse,Ps=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function gl(){}gl.prototype.h=null;function yl(c){return c.h||(c.h=c.i())}function wl(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qr(){oe.call(this,"d")}V(qr,oe);function vl(){oe.call(this,"c")}V(vl,oe);var cr={},_l=null;function Di(){return _l=_l||new dt}cr.La="serverreachability";function Ua(c){oe.call(this,cr.La,c)}V(Ua,oe);function Oi(c){const y=Di();Qe(y,new Ua(y))}cr.STAT_EVENT="statevent";function vc(c,y){oe.call(this,cr.STAT_EVENT,c),this.stat=y}V(vc,oe);function ot(c){const y=Di();Qe(y,new vc(y,c))}cr.Ma="timingevent";function Dt(c,y){oe.call(this,cr.Ma,c),this.size=y}V(Dt,oe);function Tt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function bl(c,y,v,T,B,Q){c.info(function(){if(c.g)if(Q)for(var le="",Le=Q.split("&"),Ot=0;Ot<Le.length;Ot++){var Ue=Le[Ot].split("=");if(1<Ue.length){var Ut=Ue[0];Ue=Ue[1];var Nt=Ut.split("_");le=2<=Nt.length&&Nt[1]=="type"?le+(Ut+"="+Ue+"&"):le+(Ut+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+y+`
`+v+`
`+le})}function jd(c,y,v,T,B,Q,le){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+le})}function Ni(c,y,v,T){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ms(c,v)+(T?" "+T:"")})}function _c(c,y){c.info(function(){return"TIMEOUT: "+y})}Un.prototype.info=function(){};function Ms(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return Jn(v)}catch{return y}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function hr(){}V(hr,gl),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},fr=new hr;function un(c,y,v,T){this.j=c,this.i=y,this.l=v,this.R=T||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var El={},Ba={};function er(c,y,v){c.L=1,c.v=zs(Tn(y)),c.m=v,c.P=!0,Fr(c,null)}function Fr(c,y){c.F=Date.now(),Vs(c),c.A=Tn(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Il(v.i,"t",T),c.C=0,v=c.j.J,c.h=new gt,c.g=Vc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new zd(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,T=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ns[0]=B.toString()),B=Ns);for(var Q=0;Q<B.length;Q++){var le=gc(v,B[Q],T||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Oi(),bl(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&qn(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=qn(this.g);var y=this.g.Ba();const Zr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Ic(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Zr?Oi(3):Oi(2)),Pi(this);var v=this.g.Z();this.X=v;t:if(bc(this)){var T=Ic(this.g);c="";var B=T.length,Q=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),dr(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(T[y],{stream:!(Q&&y==B-1)});T.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,jd(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ot=this.g;if((Le=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)Ni(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ls(this,v);else{this.o=!1,this.s=3,ot(12),Gt(this),dr(this);break e}}if(this.P){v=!0;let $t;for(;!this.J&&this.C<le.length;)if($t=Ec(this,le),$t==Ba){Nt==4&&(this.s=4,ot(14),v=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if($t==El){this.s=4,ot(15),Ni(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else Ni(this.i,this.l,$t,null),Ls(this,$t);if(bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||le.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)Ni(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),dr(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Qs(Ut),Ut.M=!0,ot(11))}}else Ni(this.i,this.l,le,null),Ls(this,le);Nt==4&&Gt(this),this.o&&!this.J&&(Nt==4?kc(this.j,this):(this.o=!1,Vs(this)))}else $d(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Gt(this),dr(this)}}}catch{}finally{}};function bc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ec(c,y){var v=c.C,T=y.indexOf(`
`,v);return T==-1?Ba:(v=Number(y.substring(v,T)),isNaN(v)?El:(T+=1,T+v>y.length?Ba:(y=y.slice(T,T+v),c.C=T+v,y)))}un.prototype.cancel=function(){this.J=!0,Gt(this)};function Vs(c){c.S=Date.now()+c.I,Tc(c,c.I)}function Tc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(S(c.ba,c),y)}function Pi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_c(this.i,this.A),this.L!=2&&(Oi(),ot(17)),Gt(this),this.s=2,dr(this)):Tc(this,this.S-c)};function dr(c){c.j.G==0||c.J||kc(c.j,c)}function Gt(c){Pi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ks(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ls(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Tl(v.h,c))){if(!c.K&&Tl(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Wa(v),Ya(v);else break e;kl(v),ot(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Tt(S(v.Za,v),6e3));if(1>=ja(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Wr(v,11)}else if((c.K||v.g==c)&&Wa(v),!se(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Ue=B[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Ut=Ue[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const Nt=Ue[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Zr=Ue[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(T=1.5*Zr,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const $t=c.g;if($t){const _r=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var Q=T.h;Q.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(qa(Q,Q.h),Q.h=null))}if(T.D){const Ml=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(T.ya=Ml,We(T.I,T.D,Ml))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var le=c;if(T.qa=Mc(T,T.J?T.ia:null,T.W),le.K){cn(T.h,le);var Le=le,Ot=T.L;Ot&&(Le.I=Ot),Le.B&&(Pi(Le),Vs(Le)),T.g=le}else Oc(T);0<v.i.length&&Xa(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Wr(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Wr(v,7):Ol(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Oi(4)}catch{}}var Sc=class{constructor(c,y){this.g=c,this.map=y}};function Gr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ja(c){return c.h?1:c.g?c.g.size:0}function Tl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qa(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gr.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function qd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,T=0;T<v;T++)y.push(c[T]);return y}y=[],v=0;for(T in c)y[v++]=c[T];return y}function Ha(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const T in c)y[v++]=T;return y}}}function Al(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ha(c),T=qd(c),B=T.length,Q=0;Q<B;Q++)y.call(void 0,T[Q],v&&v[Q],c)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),B=null;if(0<=T){var Q=c[v].substring(0,T);B=c[v].substring(T+1)}else Q=c[v];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Bs(this,c.j),this.o=c.o,this.g=c.g,Mi(this,c.s),this.l=c.l;var y=c.i,v=new Kr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),$r(this,v),this.m=c.m}else c&&(y=String(c).match(Us))?(this.h=!1,Bs(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Mi(this,y[4]),this.l=Bn(y[5]||"",!0),$r(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new Kr(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(js(y,Rl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(js(y,Rl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(js(v,v.charAt(0)=="/"?Fd:Cl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",js(v,Fa)),c.join("")};function Tn(c){return new St(c)}function Bs(c,y,v){c.j=v?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Mi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function $r(c,y,v){y instanceof Kr?(c.i=y,Rc(c.i,c.h)):(v||(y=js(y,Gd)),c.i=new Kr(y,c.h))}function We(c,y,v){c.i.set(y,v)}function zs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function js(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Ac),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ac(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Rl=/[#\/\?@]/g,Cl=/[#\?:]/g,Fd=/[#\?]/g,Gd=/[#\?@]/g,Fa=/#/g;function Kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hd(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}t=Kr.prototype,t.add=function(c,y){zn(this),this.i=null,c=mr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Qr(c,y){zn(c),y=mr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yr(c,y){return zn(c),y=mr(c,y),c.g.has(y)}t.forEach=function(c,y){zn(this),this.g.forEach(function(v,T){v.forEach(function(B){c.call(y,B,T,this)},this)},this)},t.na=function(){zn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let T=0;T<y.length;T++){const B=c[T];for(let Q=0;Q<B.length;Q++)v.push(y[T])}return v},t.V=function(c){zn(this);let y=[];if(typeof c=="string")Yr(this,c)&&(y=y.concat(this.g.get(mr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},t.set=function(c,y){return zn(this),this.i=null,c=mr(this,c),Yr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Il(c,y,v){Qr(c,y),0<v.length&&(c.i=null,c.g.set(mr(c,y),q(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var T=y[v];const Q=encodeURIComponent(String(T)),le=this.V(T);for(T=0;T<le.length;T++){var B=Q;le[T]!==""&&(B+="="+encodeURIComponent(String(le[T]))),c.push(B)}}return this.i=c.join("&")};function mr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Rc(c,y){y&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(v,T){var B=T.toLowerCase();T!=B&&(Qr(this,T),Il(this,B,v))},c)),c.j=y}function qs(c,y){const v=new Un;if(m.Image){const T=new Image;T.onload=D(jn,v,"TestLoadImage: loaded",!0,y,T),T.onerror=D(jn,v,"TestLoadImage: error",!1,y,T),T.onabort=D(jn,v,"TestLoadImage: abort",!1,y,T),T.ontimeout=D(jn,v,"TestLoadImage: timeout",!1,y,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else y(!1)}function tr(c,y){const v=new Un,T=new AbortController,B=setTimeout(()=>{T.abort(),jn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:T.signal}).then(Q=>{clearTimeout(B),Q.ok?jn(v,"TestPingServer: ok",!0,y):jn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),jn(v,"TestPingServer: error",!1,y)})}function jn(c,y,v,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(v)}catch{}}function Hs(){this.g=new Ps}function pr(c,y,v){const T=v||"";try{Al(c,function(B,Q){let le=B;g(B)&&(le=Jn(B)),y.push(T+Q+"="+encodeURIComponent(le))})}catch(B){throw y.push(T+"type="+encodeURIComponent("_badmap")),B}}function Vi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Vi,gl),Vi.prototype.g=function(){return new Xr(this.l,this.j)},Vi.prototype.i=function(c){return function(){return c}}({});function Xr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Xr,dt),t=Xr.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,yr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gr(this):yr(this),this.readyState==3&&xl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,gr(this))},t.Qa=function(c){this.g&&(this.response=c,gr(this))},t.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yr(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dl(c){let y="";return he(c,function(v,T){y+=T,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Dl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,y,v))}function $e(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V($e,dt);var Ga=/^https?$/i,Fs=["POST","PUT"];t=$e.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?yl(this.o):yl(fr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Cc(this,Q);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)v.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())v.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Fs,y,void 0))||T||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of v)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Cc(this,Q)}};function Cc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,$a(c),wr(c)}function $a(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),wr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},t.bb=function(){Ka(this)};function Ka(c){if(c.h&&typeof f<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)en(c.Ea,0,c);else if(Qe(c,"readystatechange"),qn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var T;if(T=le===0){var B=String(c.D).match(Us)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),T=!Ga.test(B?B.toLowerCase():"")}v=T}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Q=2<qn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",$a(c)}}finally{wr(c)}}}}function wr(c,y){if(c.g){Gs(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=T}catch{}}}function Gs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),La(y)}};function Ic(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $d(c){const y={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(se(c[T]))continue;var v=P(c[T]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}x(y,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Qa(c){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,c),this.cb=$s("retryDelaySeedMs",1e4,c),this.Wa=$s("forwardChannelMaxRetries",2,c),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(c&&c.concurrentRequestLimit),this.Da=new Hs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qa.prototype,t.la=8,t.G=1,t.connect=function(c,y,v,T){ot(0),this.W=c,this.H=y||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Mc(this,null,this.W),Xa(this)};function Ol(c){if(xc(c),c.G==3){var y=c.U++,v=Tn(c.I);if(We(v,"SID",c.K),We(v,"RID",y),We(v,"TYPE","terminate"),Ks(c,v),y=new un(c,c.j,y),y.L=2,y.v=zs(Tn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Vc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Vs(y)}Pc(c)}function Ya(c){c.g&&(Qs(c),c.g.cancel(),c.g=null)}function xc(c){Ya(c),c.u&&(m.clearTimeout(c.u),c.u=null),Wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Xa(c){if(!za(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||O(),ge||(ue(),ge=!0),He.add(y,c),c.B=0}}function Kd(c,y){return ja(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(S(c.Ga,c,y),Pl(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new un(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=A(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Dc(this,B,y),v=Tn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Ks(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Dl(Q)))+"&"+y:this.m&&Lt(v,this.m,Q)),qa(this.h,B),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",y),We(v,"SID","null"),B.T=!0,er(B,v,null)):er(B,v,y),this.G=2}}else this.G==3&&(c?Nl(this,c):this.i.length==0||za(this.h)||Nl(this))};function Nl(c,y){var v;y?v=y.l:v=c.U++;const T=Tn(c.I);We(T,"SID",c.K),We(T,"RID",v),We(T,"AID",c.T),Ks(c,T),c.m&&c.o&&Lt(T,c.m,c.o),v=new un(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Dc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qa(c.h,v),er(v,T,y)}function Ks(c,y){c.H&&he(c.H,function(v,T){We(y,T,v)}),c.l&&Al({},function(v,T){We(y,T,v)})}function Dc(c,y,v){v=Math.min(c.i.length,v);var T=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const le=["count="+v];Q==-1?0<v?(Q=B[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Le=!0;for(let Ot=0;Ot<v;Ot++){let Ue=B[Ot].g;const Ut=B[Ot].map;if(Ue-=Q,0>Ue)Q=Math.max(0,B[Ot].g-100),Le=!1;else try{pr(Ut,le,"req"+Ue+"_")}catch{T&&T(Ut)}}if(Le){T=le.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,T}function Oc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||O(),ge||(ue(),ge=!0),He.add(y,c),c.v=0}}function kl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(S(c.Fa,c),Pl(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(S(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ya(this),Nc(this))};function Qs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Nc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Ks(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=zs(Tn(y)),v.m=null,v.P=!0,Fr(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Ya(this),kl(this),ot(19))};function Wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function kc(c,y){var v=null;if(c.g==y){Wa(c),Qs(c),c.g=null;var T=2}else if(Tl(c.h,y))v=y.D,cn(c.h,y),T=1;else return;if(c.G!=0){if(y.o)if(T==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;T=Di(),Qe(T,new Dt(T,v)),Xa(c)}else Oc(c);else if(B=y.s,B==3||B==0&&0<y.X||!(T==1&&Kd(c,y)||T==2&&kl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function Pl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Wr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),T=c.Xa;const B=!T;T=new St(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Bs(T,"https"),zs(T),B?qs(T.toString(),v):tr(T.toString(),v)}else ot(2);c.G=0,c.l&&c.l.sa(y),Pc(c),xc(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Pc(c){if(c.G=0,c.ka=[],c.l){const y=Sl(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Mc(c,y,v){var T=v instanceof St?Tn(v):new St(v);if(T.g!="")y&&(T.g=y+"."+T.g),Mi(T,T.s);else{var B=m.location;T=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new St(null);T&&Bs(Q,T),y&&(Q.g=y),B&&Mi(Q,B),v&&(Q.l=v),T=Q}return v=c.D,y=c.ya,v&&y&&We(T,v,y),We(T,"VER",c.la),Ks(c,T),T}function Vc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Vi({eb:v})):new $e(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}t=Lc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Za(){}Za.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){dt.call(this),this.g=new Qa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new vr(this)}V(fn,dt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ol(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Jn(c),c=v);y.i.push(new Sc(y.Ya++,c)),y.G==3&&Xa(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,fn.aa.N.call(this)};function Uc(c){qr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Uc,qr);function Bc(){vl.call(this),this.status=1}V(Bc,vl);function vr(c){this.g=c}V(vr,Lc),vr.prototype.ua=function(){Qe(this.g,"a")},vr.prototype.ta=function(c){Qe(this.g,new Uc(c))},vr.prototype.sa=function(c){Qe(this.g,new Bc)},vr.prototype.ra=function(){Qe(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,JT=function(){return new Za},ZT=function(){return Di()},WT=cr,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,th=ki,Hr.COMPLETE="complete",XT=Hr,wl.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ru=wl,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,YT=$e}).apply(typeof Ff<"u"?Ff:typeof self<"u"?self:typeof window<"u"?window:{});const Eb="@firebase/firestore",Tb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new fy("@firebase/firestore");function Io(){return Ta.logLevel}function de(t,...e){if(Ta.logLevel<=Pe.DEBUG){const n=e.map(my);Ta.debug(`Firestore (${nl}): ${t}`,...n)}}function Ei(t,...e){if(Ta.logLevel<=Pe.ERROR){const n=e.map(my);Ta.error(`Firestore (${nl}): ${t}`,...n)}}function qo(t,...e){if(Ta.logLevel<=Pe.WARN){const n=e.map(my);Ta.warn(`Firestore (${nl}): ${t}`,...n)}}function my(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,e2(t,i,n)}function e2(t,e,n){let i=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ei(i),new Error(i)}function Ke(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||e2(e,o,i)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class cO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fO{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new t2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class hO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new hO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=pO(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function Ig(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),u=e.charAt(i);if(o!==u)return rg(o)===rg(u)?Me(o,u):rg(o)?1:-1}return Me(t.length,e.length)}const gO=55296,yO=57343;function rg(t){const e=t.charCodeAt(0);return e>=gO&&e<=yO}function Ho(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__name__";class Rr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Rr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const i=Rr.isNumericId(e),o=Rr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):Ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class it extends Rr{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const wO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Rr{construct(e,n,i){return new Zt(e,n,i)}static isValidIdentifier(e){return wO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ab}static keyField(){return new Zt([Ab])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(i+=m,o++):(u(),o++)}if(u(),f)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e,n){if(!n)throw new fe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vO(t,e,n,i){if(e===!0&&i===!0)throw new fe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rb(t){if(!ye.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cb(t){if(ye.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function r2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function Vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(t);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ec(t,e){if(!r2(t))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const f=t[i];if(o&&typeof f!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new fe(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=-62135596800,xb=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*xb);return new at(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ib)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xb}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ib;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:xt("string",at._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new at(0,0))}static max(){return new Re(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;function _O(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new vs(o,ye.empty(),e)}function bO(t){return new vs(t.readTime,t.key,ju)}class vs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new vs(Re.min(),ye.empty(),ju)}static max(){return new vs(Re.max(),ye.empty(),ju)}}function EO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==TO)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,i)=>{n(e)})}static reject(e){return new ne((n,i)=>{i(e)})}static waitFor(e){return new ne((n,i)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>i(p))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const i of e)n=n.next(o=>o?ne.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,u)=>{i.push(n.call(this,o,u))}),this.waitFor(i)}static mapArray(e,n){return new ne((i,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(w=>{f[g]=w,++m,m===u&&i(f)},w=>o(w))}})}static doWhile(e,n){return new ne((i,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):i()};u()})}}function AO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-1;function dd(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function RO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="";function CO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Db(e)),e=IO(t.get(n),e);return Db(e)}function IO(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const u=t.charAt(o);switch(u){case"\0":n+="";break;case i2:n+="";break;default:n+=u}}return n}function Db(t){return t+i2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Wt(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Mt(Zt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new a2("Invalid base64 string: "+u):u}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const xO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=xO.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="server_timestamp",l2="__type__",u2="__previous_value__",c2="__local_write_time__";function yy(t){return(t?.mapValue?.fields||{})[l2]?.stringValue===o2}function md(t){const e=t.mapValue.fields[u2];return yy(e)?md(e):e}function qu(t){const e=_s(t.mapValue.fields[c2].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,i,o,u,f,m,p,g,w){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=w}}const xh="(default)";class Hu{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="__type__",OO="__max__",$f={mapValue:{}},h2="__vector__",Dh="value";function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yy(t)?4:kO(t)?9007199254740991:NO(t)?10:11:Ee(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=_s(o.timestampValue),m=_s(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,u){return bs(o.bytesValue).isEqual(bs(u.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(t,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ob(f)!==Ob(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Lr(f[p],m[p])))return!1;return!0}(t,e);default:return Ee(52216,{left:t})}}function Fu(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=Es(t),i=Es(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(t,e);case 3:return kb(t.timestampValue,e.timestampValue);case 4:return kb(qu(t),qu(e));case 5:return Ig(t.stringValue,e.stringValue);case 6:return function(u,f){const m=bs(u),p=bs(f);return m.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const w=Me(m[g],p[g]);if(w!==0)return w}return Me(m.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(_t(u.latitude),_t(f.latitude));return m!==0?m:Me(_t(u.longitude),_t(f.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pb(t.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Dh]?.arrayValue,w=p[Dh]?.arrayValue,b=Me(g?.values?.length||0,w?.values?.length||0);return b!==0?b:Pb(g,w)}(t.mapValue,e.mapValue);case 11:return function(u,f){if(u===$f.mapValue&&f===$f.mapValue)return 0;if(u===$f.mapValue)return 1;if(f===$f.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},w=Object.keys(g);p.sort(),w.sort();for(let b=0;b<p.length&&b<w.length;++b){const S=Ig(p[b],w[b]);if(S!==0)return S;const D=Fo(m[p[b]],g[w[b]]);if(D!==0)return D}return Me(p.length,w.length)}(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=_s(t),i=_s(e),o=Me(n.seconds,i.seconds);return o!==0?o:Me(n.nanos,i.nanos)}function Pb(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=Fo(n[o],i[o]);if(u)return u}return Me(n.length,i.length)}function Go(t){return xg(t)}function xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=_s(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=xg(u);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${xg(n.fields[f])}`;return o+"}"}(t.mapValue):Ee(61005,{value:t})}function nh(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(t);return e?16+nh(e):16;case 5:return 2*t.stringValue.length;case 6:return bs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,u)=>o+nh(u),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return As(i.fields,(u,f)=>{o+=u.length+nh(f)}),o}(t.mapValue);default:throw Ee(13486,{value:t})}}function Mb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function Vb(t){return!!t&&"nullValue"in t}function Lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rh(t){return!!t&&"mapValue"in t}function NO(t){return(t?.mapValue?.fields||{})[f2]?.stringValue===h2}function Nu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Nu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nu(t.arrayValue.values[n]);return e}return{...t}}function kO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(n)}setAll(e){let n=Zt.emptyPath(),i={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=m.popLast()}f?i[m.lastSegment()]=Nu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){As(n,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new _n(Nu(this.value))}}function d2(t){const e=[];return As(t.fields,(n,i)=>{const o=new Zt([n]);if(rh(i)){const u=d2(i.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,i,o,u,f,m){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Re.min(),Re.min(),Re.min(),_n.empty(),0)}static newFoundDocument(e,n,i,o){return new an(e,1,n,Re.min(),i,o,0)}static newNoDocument(e,n){return new an(e,2,n,Re.min(),Re.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Re.min(),Re.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function Ub(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const u=e[o],f=t.position[o];if(u.field.isKeyField()?i=ye.comparator(ye.fromName(f.referenceValue),n.key):i=Fo(f,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function PO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{}class It extends m2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new VO(e,n,i):n==="array-contains"?new BO(e,i):n==="in"?new zO(e,i):n==="not-in"?new jO(e,i):n==="array-contains-any"?new qO(e,i):new It(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new LO(e,i):new UO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends m2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lr(e,n)}matches(e){return p2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p2(t){return t.op==="and"}function g2(t){return MO(t)&&p2(t)}function MO(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function Og(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(g2(t))return t.filters.map(e=>Og(e)).join(",");{const e=t.filters.map(n=>Og(n)).join(",");return`${t.op}(${e})`}}function y2(t,e){return t instanceof It?function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&Lr(i.value,o.value)}(t,e):t instanceof lr?function(i,o){return o instanceof lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((u,f,m)=>u&&y2(f,o.filters[m]),!0):!1}(t,e):void Ee(19439)}function w2(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(w2).join(" ,")+"}"}(t):"Filter"}class VO extends It{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class LO extends It{constructor(e,n){super(e,"in",n),this.keys=v2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UO extends It{constructor(e,n){super(e,"not-in",n),this.keys=v2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v2(t,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class BO extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&Fu(n.arrayValue,this.value)}}class zO extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}}class jO extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fu(this.value.arrayValue,n)}}class qO extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n=null,i=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function zb(t,e=null,n=[],i=[],o=null,u=null,f=null){return new HO(t,e,n,i,o,u,f)}function vy(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Og(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Go(i)).join(",")),e.Te=n}return e.Te}function _y(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bb(t.startAt,e.startAt)&&Bb(t.endAt,e.endAt)}function Ng(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n=null,i=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FO(t,e,n,i,o,u,f,m){return new sl(t,e,n,i,o,u,f,m)}function by(t){return new sl(t)}function jb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _2(t){return t.collectionGroup!==null}function ku(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Zt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gu(u,i))}),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Gu(Zt.keyField(),i))}return e.Ie}function xr(t){const e=Ce(t);return e.Ee||(e.Ee=GO(e,ku(t))),e.Ee}function GO(t,e){if(t.limitType==="F")return zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Gu(o.field,u)});const n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function kg(t,e){const n=t.filters.concat([e]);return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pg(t,e,n){return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pd(t,e){return _y(xr(t),xr(e))&&t.limitType===e.limitType}function b2(t){return`${vy(xr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>w2(o)).join(", ")}]`),dd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Go(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(xr(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ye.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(t,e)&&function(i,o){for(const u of ku(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(f,m,p){const g=Ub(f,m,p);return f.inclusive?g<=0:g<0}(i.startAt,ku(i),o)||i.endAt&&!function(f,m,p){const g=Ub(f,m,p);return f.inclusive?g>=0:g>0}(i.endAt,ku(i),o))}(t,e)}function $O(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E2(t){return(e,n)=>{let i=!1;for(const o of ku(t)){const u=KO(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function KO(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Fo(p,g):Ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(n,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return s2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new ft(ye.comparator);function Ti(){return QO}const T2=new ft(ye.comparator);function Cu(...t){let e=T2;for(const n of t)e=e.insert(n.key,n);return e}function S2(t){let e=T2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function pa(){return Pu()}function A2(){return Pu()}function Pu(){return new xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const YO=new ft(ye.comparator),XO=new Mt(ye.comparator);function Ve(...t){let e=XO;for(const n of t)e=e.add(n);return e}const WO=new Mt(Me);function ZO(){return WO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function R2(t){return{integerValue:""+t}}function JO(t,e){return RO(e)?R2(e):Ey(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function eN(t,e,n){return t instanceof Nh?function(o,u){const f={fields:{[l2]:{stringValue:o2},[c2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yy(u)&&(u=md(u)),u&&(f.fields[u2]=u),{mapValue:f}}(n,e):t instanceof $u?I2(t,e):t instanceof Ku?x2(t,e):function(o,u){const f=C2(o,u),m=qb(f)+qb(o.Ae);return Dg(f)&&Dg(o.Ae)?R2(m):Ey(o.serializer,m)}(t,e)}function tN(t,e,n){return t instanceof $u?I2(t,e):t instanceof Ku?x2(t,e):n}function C2(t,e){return t instanceof kh?function(i){return Dg(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Nh extends yd{}class $u extends yd{constructor(e){super(),this.elements=e}}function I2(t,e){const n=D2(e);for(const i of t.elements)n.some(o=>Lr(o,i))||n.push(i);return{arrayValue:{values:n}}}class Ku extends yd{constructor(e){super(),this.elements=e}}function x2(t,e){let n=D2(e);for(const i of t.elements)n=n.filter(o=>!Lr(o,i));return{arrayValue:{values:n}}}class kh extends yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qb(t){return _t(t.integerValue||t.doubleValue)}function D2(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nN(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof $u&&o instanceof $u||i instanceof Ku&&o instanceof Ku?Ho(i.elements,o.elements,Lr):i instanceof kh&&o instanceof kh?Lr(i.Ae,o.Ae):i instanceof Nh&&o instanceof Nh}(t.transform,e.transform)}class rN{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function O2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new k2(t.key,or.none()):new tc(t.key,t.data,or.none());{const n=t.data,i=_n.empty();let o=new Mt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?i.delete(u):i.set(u,f),o=o.add(u)}return new Rs(t.key,i,new On(o.toArray()),or.none())}}function iN(t,e,n){t instanceof tc?function(o,u,f){const m=o.value.clone(),p=Fb(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Fb(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(N2(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(t,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Mu(t,e,n,i){return t instanceof tc?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=u.value.clone(),w=Gb(u.fieldTransforms,p,f);return g.setAll(w),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof Rs?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=Gb(u.fieldTransforms,p,f),w=f.data;return w.setAll(N2(u)),w.setAll(g),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(t,e,n,i):function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(t,e,n)}function sN(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),u=C2(i.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(i.field,u))}return n||null}function Hb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ho(i,o,(u,f)=>nN(u,f))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tc extends wd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends wd{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function N2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Fb(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const u=t[o],f=u.transform,m=e.data.field(u.field);i.set(u.field,tN(f,m,n[o]))}return i}function Gb(t,e,n){const i=new Map;for(const o of t){const u=o.transform,f=n.data.field(o.field);i.set(o.field,eN(u,f,e))}return i}class k2 extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aN extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&iN(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Mu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Mu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=A2();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=O2(f,m);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,i)=>Hb(n,i))&&Ho(this.baseMutations,e.baseMutations,(n,i)=>Hb(n,i))}}class Ty{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return YO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,i[f].version);return new Ty(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,ze;function cN(t){switch(t){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function P2(t){if(t===void 0)return Ei("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:t})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new ps([4294967295,4294967295],0);function $b(t){const e=fN().encode(t),n=new QT;return n.update(e),new Uint8Array(n.digest())}function Kb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([n,i],0),new ps([o,u],0)]}class Sy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(i<0)throw new Iu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(ps.fromNumber(i)));return o.compare(hN)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$b(e),[i,o]=Kb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);if(!this.we(f))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sy(u,o,n);return i.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=$b(e),[i,o]=Kb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vd(Re.min(),o,new ft(Me),Ti(),Ve())}}class nc{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new nc(i,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class M2{constructor(e,n){this.targetId=e,this.Ce=n}}class V2{constructor(e,n,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Qb{constructor(){this.ve=0,this.Fe=Yb(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),i=Ve();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:u})}}),new nc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Yb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.Je=Kf(),this.He=Kf(),this.Ye=new ft(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ng(u))if(i===0){const f=new ye(u.path);this.et(n,f,an.newNoDocument(f,Re.min()))}else Ke(i===1,20013,{expectedCount:i});else{const f=this._t(n);if(f!==i){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=bs(i).toUint8Array()}catch(p){if(p instanceof a2)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sy(f,o,u)}catch(p){return qo(p instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Ng(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,an.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let i=Ve();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new vd(e,n,this.Ye,this.je,i);return this.je=Ti(),this.Je=Kf(),this.He=Kf(),this.Ye=new ft(Me),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Qb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kf(){return new ft(ye.comparator)}function Yb(){return new ft(ye.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gN={and:"AND",or:"OR"};class yN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mg(t,e){return t.useProto3Json||dd(e)?e:{value:e}}function Ph(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wN(t,e){return Ph(t,e.toTimestamp())}function Dr(t){return Ke(!!t,49232),Re.fromTimestamp(function(n){const i=_s(n);return new at(i.seconds,i.nanos)}(t))}function Ay(t,e){return Vg(t,e).canonicalString()}function Vg(t,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function U2(t){const e=it.fromString(t);return Ke(H2(e),10190,{key:e.toString()}),e}function Lg(t,e){return Ay(t.databaseId,e.path)}function ig(t,e){const n=U2(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(z2(n))}function B2(t,e){return Ay(t.databaseId,e)}function vN(t){const e=U2(t);return e.length===4?it.emptyPath():z2(e)}function Ug(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z2(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xb(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function _N(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,w){return g.useProto3Json?(Ke(w===void 0||typeof w=="string",58123),Jt.fromBase64String(w||"")):(Ke(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Jt.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const w=g.code===void 0?ee.UNKNOWN:P2(g.code);return new fe(w,g.message||"")}(f);n=new V2(i,o,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ig(t,i.document.name),u=Dr(i.document.updateTime),f=i.document.createTime?Dr(i.document.createTime):Re.min(),m=new _n({mapValue:{fields:i.document.fields}}),p=an.newFoundDocument(o,u,f,m),g=i.targetIds||[],w=i.removedTargetIds||[];n=new sh(g,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ig(t,i.document),u=i.readTime?Dr(i.readTime):Re.min(),f=an.newNoDocument(o,u),m=i.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ig(t,i.document),u=i.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,f=new uN(o,u),m=i.targetId;n=new M2(m,f)}}return n}function bN(t,e){let n;if(e instanceof tc)n={update:Xb(t,e.key,e.value)};else if(e instanceof k2)n={delete:Lg(t,e.key)};else if(e instanceof Rs)n={update:Xb(t,e.key,e.data),updateMask:DN(e.fieldMask)};else{if(!(e instanceof aN))return Ee(16599,{Vt:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(u,f){const m=f.transform;if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $u)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ku)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(t,e.precondition)),n}function EN(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map(n=>function(o,u){let f=o.updateTime?Dr(o.updateTime):Dr(u);return f.isEqual(Re.min())&&(f=Dr(u)),new rN(f,o.transformResults||[])}(n,e))):[]}function TN(t,e){return{documents:[B2(t,e.path)]}}function SN(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=B2(t,o);const u=function(g){if(g.length!==0)return q2(lr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(w=>function(S){return{field:Do(S.field),direction:CN(S.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mg(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function AN(t){let e=vN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=function(b){const S=j2(b);return S instanceof lr&&g2(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(V){return new Gu(Oo(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,dd(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,D=b.values||[];return new Oh(D,S)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const S=!b.before,D=b.values||[];return new Oh(D,S)}(n.endAt)),FO(e,o,f,u,m,"F",p,g)}function RN(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Oo(n.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Oo(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return It.create(Oo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(i=>j2(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(t):Ee(30097,{filter:t})}function CN(t){return mN[t]}function IN(t){return pN[t]}function xN(t){return gN[t]}function Do(t){return{fieldPath:t.canonicalString()}}function Oo(t){return Zt.fromServerFormat(t.fieldPath)}function q2(t){return t instanceof It?function(n){if(n.op==="=="){if(Lb(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(Vb(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lb(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(Vb(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:IN(n.op),value:n.value}}}(t):t instanceof lr?function(n){const i=n.getFilters().map(o=>q2(o));return i.length===1?i[0]:{compositeFilter:{op:xN(n.op),filters:i}}}(t):Ee(54877,{filter:t})}function DN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function H2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,i,o,u=Re.min(),f=Re.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.yt=e}}function NN(t){const e=AN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Cn=new PN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(vs.min())}updateCollectionGroup(e,n,i){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class PN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Mt(it.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F2=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(F2,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $o(0)}static cr(){return new $o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="LruGarbageCollector",MN=1048576;function Jb([t,e],[n,i]){const o=Me(t,n);return o===0?Me(e,i):o}class VN{constructor(e){this.Ir=e,this.buffer=new Mt(Jb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Jb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Zb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){il(n)?de(Zb,"Ignoring IndexedDB error during garbage collection: ",n):await rl(n)}await this.Vr(3e5)})}}class UN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(hd.ce);const i=new VN(n);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Wb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,u,f,m,p,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(i=b,m=Date.now(),this.removeTargets(e,i,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),Io()<=Pe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function BN(t,e){return new UN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.changes=new xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ne.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&Mu(i.mutation,o,On.empty(),at.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ve()){const o=pa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(u=>{let f=Cu();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const i=pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ve()))}populateOverlays(e,n,i){const o=[];return i.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,i,o){let u=Ti();const f=Pu(),m=function(){return Pu()}();return n.forEach((p,g)=>{const w=i.get(g.key);o.has(g.key)&&(w===void 0||w.mutation instanceof Rs)?u=u.insert(g.key,g):w!==void 0?(f.set(g.key,w.mutation.getFieldMask()),Mu(w.mutation,g,w.mutation.getFieldMask(),at.now())):f.set(g.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,w)=>f.set(g,w)),n.forEach((g,w)=>m.set(g,new jN(w,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const i=Pu();let o=new ft((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let w=i.get(p)||On.empty();w=m.applyToLocalView(g,w),i.set(p,w);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,w=p.value,b=A2();w.forEach(S=>{if(!u.has(S)){const D=O2(n.get(S),i.get(S));D!==null&&b.set(S,D),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):ne.resolve(pa());let m=ju,p=u;return f.next(g=>ne.forEach(g,(w,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(w=>({batchId:m,changes:S2(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(i=>{let o=Cu();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let f=Cu();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(b,S){return new sl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(w=>{w.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o))).next(f=>{u.forEach((p,g)=>{const w=g.getKey();f.get(w)===null&&(f=f.insert(w,an.newInvalidDocument(w)))});let m=Cu();return f.forEach((p,g)=>{const w=u.get(p);w!==void 0&&Mu(w.mutation,g,On.empty(),at.now()),gd(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Dr(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:NN(o.bundledQuery),readTime:Dr(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.overlays=new ft(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const i=pa();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(i)),ne.resolve()}getOverlaysForCollection(e,n,i){const o=pa(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new ft((g,w)=>g-w);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let w=u.get(g.largestBatchId);w===null&&(w=pa(),u=u.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const m=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,w)=>m.set(g,w)),!(m.size()>=o)););return ne.resolve(m)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new lN(n,i));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Qr=new Mt(qt.$r),this.Ur=new Mt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new qt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new ye(new it([])),i=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([i,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),i=new qt(n,e),o=new qt(n,e+1);let u=Ve();return this.Ur.forEachInRange([i,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new qt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oN(u,n,i,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?gy:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(Me);return n.forEach(o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{i=i.add(m.Yr)})}),ne.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;ye.isDocumentKey(u)||(u=u.child(""));const f=new qt(new ye(u),0);let m=new Mt(Me);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ne.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new qt(n,0),o=this.Zr.firstAfterOrEqual(i);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.ri=e,this.docs=function(){return new ft(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ne.resolve(i?i.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let i=Ti();return n.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=Ti();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:w}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||EO(bO(w),i)<=0||(o.has(w.key)||gd(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new QN(this)}getSize(e){return ne.resolve(this.size)}}class QN extends zN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.persistence=e,this.si=new xa(n=>vy(n),_y),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Ry,this.targetCount=0,this.ai=$o.ur()}forEachTarget(e,n){return this.si.forEach((i,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ne.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ne.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ne.resolve(i)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.ui={},this.overlays={},this.ci=new hd(0),this.li=!1,this.li=!0,this.hi=new GN,this.referenceDelegate=e(this),this.Pi=new YN(this),this.indexManager=new kN,this.remoteDocumentCache=function(o){return new KN(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new ON(n),this.Ii=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new $N(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const o=new XN(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ne.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class XN extends SO{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Ri=new Ry,this.Vi=null}static mi(e){return new Cy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ne.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,i=>{const o=ye.fromPath(i);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.pi=new xa(i=>CO(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=BN(this,n)}static mi(e,n){return new Mh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(i,o)=>this.br(e,i,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(i++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,i){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Iy(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Gx()?8:AO(on())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,i).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new WN;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,i,o){return i.documentReadCount<this.fs?(Io()<=Pe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Io()<=Pe.DEBUG&&de("QueryEngine","Query:",xo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Io()<=Pe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):ne.resolve())}ys(e,n){if(jb(n))return ne.resolve(null);let i=xr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pg(n,null,"F"),i=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Pg(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,i,o){return jb(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,i).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,i,o)?ne.resolve(null):(Io()<=Pe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.vs(e,f,n,_O(o,ju)).next(m=>m))})}Ds(e,n){let i=new Mt(E2(e));return n.forEach((o,u)=>{gd(e,u)&&(i=i.add(u))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,i){return Io()<=Pe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,vs.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",JN=3e8;class ek{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Me),this.xs=new xa(u=>vy(u),_y),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tk(t,e,n,i){return new ek(t,e,n,i)}async function $2(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}for(const g of u){m.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function nk(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,w){const b=g.batch,S=b.keys();let D=ne.resolve();return S.forEach(V=>{D=D.next(()=>w.getEntry(p,V)).next(q=>{const U=g.docVersions.get(V);Ke(U!==null,48541),q.version.compareTo(U)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),w.addEntry(q)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function K2(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function rk(t,e){const n=Ce(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((w,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,w.removedDocuments,b).next(()=>n.Pi.addMatchingKeys(u,w.addedDocuments,b)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(w.resumeToken,i)),o=o.insert(b,D),function(q,U,$){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=JN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,D,w)&&m.push(n.Pi.updateTargetData(u,D))});let p=Ti(),g=Ve();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))}),m.push(ik(u,f,e.documentUpdates).next(w=>{p=w.ks,g=w.qs})),!i.isEqual(Re.min())){const w=n.Pi.getLastRemoteSnapshotVersion(u).next(b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(w)}return ne.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function ik(t,e,n){let i=Ve(),o=Ve();return n.forEach(u=>i=i.add(u)),e.getEntries(t,i).next(u=>{let f=Ti();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(xy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function sk(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=gy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ak(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Pi.getTargetData(i,e).next(u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(i).next(f=>(o=new us(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Bg(t,e,n){const i=Ce(t),o=i.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,f=>i.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!il(f))throw f;de(xy,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function eE(t,e,n){const i=Ce(t);let o=Re.min(),u=Ve();return i.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,w){const b=Ce(p),S=b.xs.get(w);return S!==void 0?ne.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,w)}(i,f,xr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Ve())).next(m=>(ok(i,$O(e),m),{documents:m,Qs:u})))}function ok(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),t.Os.set(e,i)}class tE{constructor(){this.activeTargetIds=ZO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lk{constructor(){this.Mo=new tE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="ConnectivityMonitor";class rE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(nE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function zg(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="RestConnection",ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,u){const f=zg(),m=this.zo(e,n.toUriEncodedString());de(sg,`Sending RPC '${e}' ${f}:`,m,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),w=el(g);return this.Jo(e,m,p,i,w).then(b=>(de(sg,`Received RPC '${e}' ${f}: `,b),b),b=>{throw qo(sg,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",i),b})}Ho(e,n,i,o,u,f){return this.Go(e,n,i,o,u)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const i=ck[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class dk extends fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,u){const f=zg();return new Promise((m,p)=>{const g=new YT;g.setWithCredentials(!0),g.listenOnce(XT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case th.NO_ERROR:const b=g.getResponseJson();de(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case th.TIMEOUT:de(rn,`RPC '${e}' ${f} timed out`),p(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const S=g.getStatus();if(de(rn,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D?.error;if(V&&V.status&&V.message){const q=function($){const se=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(se)>=0?se:ee.UNKNOWN}(V.status);p(new fe(q,V.message))}else p(new fe(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(rn,`RPC '${e}' ${f} completed.`)}});const w=JSON.stringify(o);de(rn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",w,i,15)})}T_(e,n,i){const o=zg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=JT(),m=ZT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const w=u.join("");de(rn,`Creating RPC '${e}' stream ${o}: ${w}`,p);const b=f.createWebChannel(w,p);this.I_(b);let S=!1,D=!1;const V=new hk({Yo:U=>{D?de(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(de(rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),de(rn,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),q=(U,$,se)=>{U.listen($,X=>{try{se(X)}catch(ae){setTimeout(()=>{throw ae},0)}})};return q(b,Ru.EventType.OPEN,()=>{D||(de(rn,`RPC '${e}' stream ${o} transport opened.`),V.o_())}),q(b,Ru.EventType.CLOSE,()=>{D||(D=!0,de(rn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(b))}),q(b,Ru.EventType.ERROR,U=>{D||(D=!0,qo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),V.a_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),q(b,Ru.EventType.MESSAGE,U=>{if(!D){const $=U.data[0];Ke(!!$,16349);const se=$,X=se?.error||se[0]?.error;if(X){de(rn,`RPC '${e}' stream ${o} received error:`,X);const ae=X.status;let ie=function(A){const R=Ct[A];if(R!==void 0)return P2(R)}(ae),he=X.message;ie===void 0&&(ie=ee.INTERNAL,he="Unknown error status: "+ae+" with message "+X.message),D=!0,V.a_(new fe(ie,he)),b.close()}else de(rn,`RPC '${e}' stream ${o} received:`,$),V.u_($)}}),q(m,WT.STAT_EVENT,U=>{U.stat===Cg.PROXY?de(rn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Cg.NOPROXY&&de(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new yN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="PersistentStream";class Y2{constructor(e,n,i,o,u,f,m,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===n&&this.G_(i,o)},i=>{e(()=>{const o=new fe(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(iE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(de(iE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mk extends Y2{constructor(e,n,i,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_N(this.serializer,e),i=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Dr(f.readTime):Re.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Ug(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Ng(p)?{documents:TN(u,p)}:{query:SN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=L2(u,f.resumeToken);const g=Mg(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Ph(u,f.snapshotVersion.toTimestamp());const g=Mg(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const i=RN(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.q_(n)}}class pk extends Y2{constructor(e,n,i,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EN(e.writeResults,e.commitTime),i=Dr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>bN(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{}class yk extends gk{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Vg(n,i),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())})}Ho(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Vg(n,i),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ee.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class vk{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{i.enqueueAndForget(async()=>{Da(this)&&(de(Sa,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.Ea.add(4),await rc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bd(g)}(this))})}),this.Ra=new wk(i,o)}}async function bd(t){if(Da(t))for(const e of t.da)await e(!0)}async function rc(t){for(const e of t.da)await e(!1)}function X2(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ky(n)?Ny(n):al(n).O_()&&Oy(n,e))}function Dy(t,e){const n=Ce(t),i=al(n);n.Ia.delete(e),i.O_()&&W2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Da(n)&&n.Ra.set("Unknown"))}function Oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).Y_(e)}function W2(t,e){t.Va.Ue(e),al(t).Z_(e)}function Ny(t){t.Va=new dN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),al(t).start(),t.Ra.ua()}function ky(t){return Da(t)&&!al(t).x_()&&t.Ia.size>0}function Da(t){return Ce(t).Ea.size===0}function Z2(t){t.Va=void 0}async function _k(t){t.Ra.set("Online")}async function bk(t){t.Ia.forEach((e,n)=>{Oy(t,e)})}async function Ek(t,e){Z2(t),ky(t)?(t.Ra.ha(e),Ny(t)):t.Ra.set("Unknown")}async function Tk(t,e,n){if(t.Ra.set("Online"),e instanceof V2&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(t,e)}catch(i){de(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Vh(t,i)}else if(e instanceof sh?t.Va.Ze(e):e instanceof M2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await K2(t.localStore);n.compareTo(i)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const w=u.Ia.get(g);w&&u.Ia.set(g,w.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const w=u.Ia.get(p);if(!w)return;u.Ia.set(p,w.withResumeToken(Jt.EMPTY_BYTE_STRING,w.snapshotVersion)),W2(u,p);const b=new us(w.target,p,g,w.sequenceNumber);Oy(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(i){de(Sa,"Failed to raise snapshot:",i),await Vh(t,i)}}async function Vh(t,e,n){if(!il(e))throw e;t.Ea.add(1),await rc(t),t.Ra.set("Offline"),n||(n=()=>K2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(Sa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bd(t)})}function J2(t,e){return e().catch(n=>Vh(t,n,e))}async function Ed(t){const e=Ce(t),n=Ts(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gy;for(;Sk(e);)try{const o=await sk(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,Ak(e,o)}catch(o){await Vh(e,o)}eS(e)&&tS(e)}function Sk(t){return Da(t)&&t.Ta.length<10}function Ak(t,e){t.Ta.push(e);const n=Ts(t);n.O_()&&n.X_&&n.ea(e.mutations)}function eS(t){return Da(t)&&!Ts(t).x_()&&t.Ta.length>0}function tS(t){Ts(t).start()}async function Rk(t){Ts(t).ra()}async function Ck(t){const e=Ts(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ik(t,e,n){const i=t.Ta.shift(),o=Ty.from(i,e,n);await J2(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Ed(t)}async function xk(t,e){e&&Ts(t).X_&&await async function(i,o){if(function(f){return cN(f)&&f!==ee.ABORTED}(o.code)){const u=i.Ta.shift();Ts(i).B_(),await J2(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ed(i)}}(t,e),eS(t)&&tS(t)}async function sE(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),de(Sa,"RemoteStore received new credentials");const i=Da(n);n.Ea.add(3),await rc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bd(n)}async function Dk(t,e){const n=Ce(t);e?(n.Ea.delete(2),await bd(n)):e||(n.Ea.add(2),await rc(n),n.Ra.set("Unknown"))}function al(t){return t.ma||(t.ma=function(n,i,o){const u=Ce(n);return u.sa(),new mk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(t.datastore,t.asyncQueue,{Xo:_k.bind(null,t),t_:bk.bind(null,t),r_:Ek.bind(null,t),H_:Tk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ky(t)?Ny(t):t.Ra.set("Unknown")):(await t.ma.stop(),Z2(t))})),t.ma}function Ts(t){return t.fa||(t.fa=function(n,i,o){const u=Ce(n);return u.sa(),new pk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Rk.bind(null,t),r_:xk.bind(null,t),ta:Ck.bind(null,t),na:Ik.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ed(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Sa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const f=Date.now()+i,m=new Py(e,n,f,o,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),il(t))return new fe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=Cu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.ga=new ft(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ko{constructor(e,n,i,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ko(e,n,ko.emptySet(n),f,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Nk{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ce(n),u=o.queries;o.queries=oE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(i)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function oE(){return new xa(t=>b2(t),pd)}async function nS(t,e){const n=Ce(t);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new Ok,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=My(f,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Vy(n)}async function rS(t,e){const n=Ce(t),i=e.query;let o=3;const u=n.queries.get(i);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function kk(t,e){const n=Ce(t);let i=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(i=!0);f.wa=o}}i&&Vy(n)}function Pk(t,e,n){const i=Ce(t),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);i.queries.delete(e)}function Vy(t){t.Ca.forEach(e=>{e.next()})}var jg,lE;(lE=jg||(jg={})).Ma="default",lE.Cache="cache";class iS{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.key=e}}class aS{constructor(e){this.key=e}}class Mk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=E2(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new aE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,b)=>{const S=o.get(w),D=gd(this.query,b)?b:null,V=!!S&&this.mutatedKeys.has(S.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;S&&D?S.data.isEqual(D.data)?V!==q&&(i.track({type:3,doc:D}),U=!0):this.su(S,D)||(i.track({type:2,doc:D}),U=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!S&&D?(i.track({type:0,doc:D}),U=!0):S&&!D&&(i.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(D?(f=f.add(D),u=q?u.add(w):u.delete(w)):(f=f.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:f,iu:i,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((w,b)=>function(D,V){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:U})}};return q(D)-q(V)}(w.type,b.type)||this.eu(w.doc,b.doc)),this.ou(i),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Ko(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new aS(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new sS(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ly="SyncEngine";class Vk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Lk{constructor(e){this.key=e,this.hu=!1}}class Uk{constructor(e,n,i,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new xa(m=>b2(m),pd),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ye.comparator),this.Au=new Map,this.Ru=new Ry,this.Vu={},this.mu=new Map,this.fu=$o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bk(t,e,n=!0){const i=hS(t);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await oS(i,e,n,!0),o}async function zk(t,e){const n=hS(t);await oS(n,e,!0,!1)}async function oS(t,e,n,i){const o=await ak(t.localStore,xr(e)),u=o.targetId,f=t.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await jk(t,e,u,f==="current",o.resumeToken)),t.isPrimaryClient&&n&&X2(t.remoteStore,o),m}async function jk(t,e,n,i,o){t.pu=(b,S,D)=>async function(q,U,$,se){let X=U.view.ru($);X.Cs&&(X=await eE(q.localStore,U.query,!1).then(({documents:x})=>U.view.ru(x,X)));const ae=se&&se.targetChanges.get(U.targetId),ie=se&&se.targetMismatches.get(U.targetId)!=null,he=U.view.applyChanges(X,q.isPrimaryClient,ae,ie);return cE(q,U.targetId,he.au),he.snapshot}(t,b,S,D);const u=await eE(t.localStore,e,!0),f=new Mk(e,u.Qs),m=f.ru(u.documents),p=nc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),g=f.applyChanges(m,t.isPrimaryClient,p);cE(t,n,g.au);const w=new Vk(e,n,f);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function qk(t,e,n){const i=Ce(t),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter(f=>!pd(f,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Bg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Dy(i.remoteStore,o.targetId),qg(i,o.targetId)}).catch(rl)):(qg(i,o.targetId),await Bg(i.localStore,o.targetId,!0))}async function Hk(t,e){const n=Ce(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Dy(n.remoteStore,i.targetId))}async function Fk(t,e,n){const i=Wk(t);try{const o=await function(f,m){const p=Ce(f),g=at.now(),w=m.reduce((D,V)=>D.add(V.key),Ve());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let V=Ti(),q=Ve();return p.Ns.getEntries(D,w).next(U=>{V=U,V.forEach(($,se)=>{se.isValidDocument()||(q=q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,V)).next(U=>{b=U;const $=[];for(const se of m){const X=sN(se,b.get(se.key).overlayedDocument);X!=null&&$.push(new Rs(se.key,X,d2(X.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,$,m)}).next(U=>{S=U;const $=U.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(D,U.batchId,$)})}).then(()=>({batchId:S.batchId,changes:S2(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ft(Me)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(i,o.batchId,n),await ic(i,o.changes),await Ed(i.remoteStore)}catch(o){const u=My(o,"Failed to persist write");n.reject(u)}}async function lS(t,e){const n=Ce(t);try{const i=await rk(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))}),await ic(n,i,e)}catch(i){await rl(i)}}function uE(t,e,n){const i=Ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((w,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)}),g&&Vy(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Gk(t,e,n){const i=Ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let f=new ft(ye.comparator);f=f.insert(u,an.newNoDocument(u,Re.min()));const m=Ve().add(u),p=new vd(Re.min(),new Map,new ft(Me),f,m);await lS(i,p),i.du=i.du.remove(u),i.Au.delete(e),Uy(i)}else await Bg(i.localStore,e,!1).then(()=>qg(i,e,n)).catch(rl)}async function $k(t,e){const n=Ce(t),i=e.batch.batchId;try{const o=await nk(n.localStore,e);cS(n,i,null),uS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ic(n,o)}catch(o){await rl(o)}}async function Kk(t,e,n){const i=Ce(t);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let w;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Ke(b!==null,37113),w=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,w,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w)).next(()=>p.localDocuments.getDocuments(g,w))})}(i.localStore,e);cS(i,e,n),uS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ic(i,o)}catch(o){await rl(o)}}function uS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function cS(t,e,n){const i=Ce(t);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||fS(t,i)})}function fS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Uy(t))}function cE(t,e,n){for(const i of n)i instanceof sS?(t.Ru.addReference(i.key,e),Qk(t,i)):i instanceof aS?(de(Ly,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||fS(t,i.key)):Ee(19791,{wu:i})}function Qk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(de(Ly,"New document in limbo: "+n),t.Eu.add(i),Uy(t))}function Uy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(it.fromString(e)),i=t.fu.next();t.Au.set(i,new Lk(n)),t.du=t.du.insert(n,i),X2(t.remoteStore,new us(xr(by(n.path)),i,"TargetPurposeLimboResolution",hd.ce))}}async function ic(t,e,n){const i=Ce(t),o=[],u=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach((m,p)=>{f.push(i.pu(p,e,n).then(g=>{if((g||n)&&i.isPrimaryClient){const w=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Iy.As(p.targetId,g);u.push(w)}}))}),await Promise.all(f),i.Pu.H_(o),await async function(p,g){const w=Ce(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(g,S=>ne.forEach(S.Es,D=>w.persistence.referenceDelegate.addReference(b,S.targetId,D)).next(()=>ne.forEach(S.ds,D=>w.persistence.referenceDelegate.removeReference(b,S.targetId,D)))))}catch(b){if(!il(b))throw b;de(xy,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const D=w.Ms.get(S),V=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(V);w.Ms=w.Ms.insert(S,q)}}}(i.localStore,u))}async function Yk(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){de(Ly,"User change. New user:",e.toKey());const i=await $2(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new fe(ee.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ic(n,i.Ls)}}function Xk(t,e){const n=Ce(t),i=n.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function hS(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gk.bind(null,e),e.Pu.H_=kk.bind(null,e.eventManager),e.Pu.yu=Pk.bind(null,e.eventManager),e}function Wk(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kk.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tk(this.persistence,new ZN,e.initialUser,this.serializer)}Cu(e){return new G2(Cy.mi,this.serializer)}Du(e){return new lk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class Zk extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Mh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new G2(i=>Mh.mi(i,n),this.serializer)}}class Hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yk.bind(null,this.syncEngine),await Dk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Nk}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),i=function(u){return new dk(u)}(e.databaseInfo);return function(u,f,m,p){return new yk(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,u,f,m){return new vk(i,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>uE(this.syncEngine,n,0),function(){return rE.v()?new rE:new uk}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,w){const b=new Uk(o,u,f,m,p,g);return w&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Ce(n);de(Sa,"RemoteStore shutting down."),i.Ea.add(5),await rc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hg.provider={build:()=>new Hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class Jk{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=py.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async f=>{de(Ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(de(Ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=My(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function og(t,e){t.asyncQueue.verifyOperationInProgress(),de(Ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await $2(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eP(t);de(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>sE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>sE(e.remoteStore,o)),t._onlineComponents=e}async function eP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Ss,"Using user provided OfflineComponentProvider");try{await og(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await og(t,new Lh)}}else de(Ss,"Using default OfflineComponentProvider"),await og(t,new Zk(void 0));return t._offlineComponents}async function mS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Ss,"Using user provided OnlineComponentProvider"),await fE(t,t._uninitializedComponentsProvider._online)):(de(Ss,"Using default OnlineComponentProvider"),await fE(t,new Hg))),t._onlineComponents}function tP(t){return mS(t).then(e=>e.syncEngine)}async function pS(t){const e=await mS(t),n=e.eventManager;return n.onListen=Bk.bind(null,e.syncEngine),n.onUnlisten=qk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Hk.bind(null,e.syncEngine),n}function nP(t,e,n={}){const i=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const w=new dS({next:S=>{w.Nu(),f.enqueueAndForget(()=>rS(u,b));const D=S.docs.has(m);!D&&S.fromCache?g.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&p&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new iS(by(m.path),w,{includeMetadataChanges:!0,qa:!0});return nS(u,b)}(await pS(t),t.asyncQueue,e,n,i)),i.promise}function rP(t,e,n={}){const i=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const w=new dS({next:S=>{w.Nu(),f.enqueueAndForget(()=>rS(u,b)),S.fromCache&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new iS(m,w,{includeMetadataChanges:!0,qa:!0});return nS(u,b)}(await pS(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firestore.googleapis.com",dE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MN)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uO;switch(i.type){case"firstParty":return new dO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=hE.get(n);i&&(de("ComponentProvider","Removing Datastore"),hE.delete(n),i.terminate())}(this),Promise.resolve()}}function iP(t,e,n,i={}){t=Vr(t,Td);const o=el(e),u=t._getSettings(),f={...u,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;o&&(zT(`https://${m}`),jT("Firestore",!0)),u.host!==yS&&u.host!==m&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:i};if(!ba(p,f)&&(t._setSettings(p),i.mockUserToken)){let g,w;if(typeof i.mockUserToken=="string")g=i.mockUserToken,w=sn.MOCK_USER;else{g=Vx(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new sn(b)}t._authCredentials=new cO(new t2(g,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class bt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ec(n,bt._jsonSchema))return new bt(e,i||null,new ye(it.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:xt("string",bt._jsonSchemaVersion),referencePath:xt("string")};class gs extends Oa{constructor(e,n,i){super(e,n,by(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ye(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Na(t,e,...n){if(t=dn(t),n2("collection","path",e),t instanceof Td){const i=it.fromString(e,...n);return Cb(i),new gs(t,null,i)}{if(!(t instanceof bt||t instanceof gs))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return Cb(i),new gs(t.firestore,null,i)}}function By(t,e,...n){if(t=dn(t),arguments.length===1&&(e=py.newId()),n2("doc","path",e),t instanceof Td){const i=it.fromString(e,...n);return Rb(i),new bt(t,null,new ye(i))}{if(!(t instanceof bt||t instanceof gs))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return Rb(i),new bt(t.firestore,t instanceof gs?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q2(this,"async_queue_retry"),this._c=()=>{const i=ag();i&&de(pE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;de(pE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",yE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Py.createAndSchedule(this,e,n,i,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ol extends Td{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new gE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function sP(t,e){const n=typeof t=="object"?t:GT(),i=typeof t=="string"?t:xh,o=dy(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=Px("firestore");u&&iP(o,...u)}return o}function zy(t){if(t._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aP(t),t._firestoreClient}function aP(t){const e=t._freezeSettings(),n=function(o,u,f,m){return new DO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,gS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Jk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Jt.fromBase64String(e))}catch(n){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:xt("string",Xn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(ec(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:xt("string",Or._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Nr(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:xt("string",Nr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=/^__.*__$/;class lP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class wS{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class qy{constructor(e,n,i,o,u,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vS(this.Ac)&&oP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uP{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_d(e)}Cc(e,n,i,o=!1){return new qy({Ac:e,methodName:n,Dc:i,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new uP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _S(t,e,n,i,o,u={}){const f=t.Cc(u.merge||u.mergeFields?2:0,e,n,o);Hy("Data must be an object, but it was:",f,i);const m=bS(i,f);let p,g;if(u.merge)p=new On(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const w=[];for(const b of u.mergeFields){const S=Fg(e,b,n);if(!f.contains(S))throw new fe(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);TS(w,S)||w.push(S)}p=new On(w),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new lP(new _n(m),p,g)}class Rd extends jy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function cP(t,e,n,i){const o=t.Cc(1,e,n);Hy("Data must be an object, but it was:",o,i);const u=[],f=_n.empty();As(i,(p,g)=>{const w=Fy(e,p,n);g=dn(g);const b=o.yc(w);if(g instanceof Rd)u.push(w);else{const S=sc(g,b);S!=null&&(u.push(w),f.set(w,S))}});const m=new On(u);return new wS(f,m,o.fieldTransforms)}function fP(t,e,n,i,o,u){const f=t.Cc(1,e,n),m=[Fg(e,i,n)],p=[o];if(u.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Fg(e,u[S])),p.push(u[S+1]);const g=[],w=_n.empty();for(let S=m.length-1;S>=0;--S)if(!TS(g,m[S])){const D=m[S];let V=p[S];V=dn(V);const q=f.yc(D);if(V instanceof Rd)g.push(D);else{const U=sc(V,q);U!=null&&(g.push(D),w.set(D,U))}}const b=new On(g);return new wS(w,b,f.fieldTransforms)}function hP(t,e,n,i=!1){return sc(n,t.Cc(i?4:3,e))}function sc(t,e){if(ES(t=dn(t)))return Hy("Unsupported field value:",e,t),bS(t,e);if(t instanceof jy)return function(i,o){if(!vS(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const u=[];let f=0;for(const m of i){let p=sc(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(t,e)}return function(i,o){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JO(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=at.fromDate(i);return{timestampValue:Ph(o.serializer,u)}}if(i instanceof at){const u=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(i instanceof Or)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xn)return{bytesValue:L2(o.serializer,i._byteString)};if(i instanceof bt){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ay(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Nr)return function(f,m){return{mapValue:{fields:{[f2]:{stringValue:h2},[Dh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ey(m.serializer,g)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${fd(i)}`)}(t,e)}function bS(t,e){const n={};return s2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,(i,o)=>{const u=sc(o,e.mc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function ES(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Or||t instanceof Xn||t instanceof bt||t instanceof jy||t instanceof Nr)}function Hy(t,e,n){if(!ES(n)||!r2(n)){const i=fd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Fg(t,e,n){if((e=dn(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Fy(t,e);throw Uh("Field path arguments must be of type string or ",t,!1,void 0,n)}const dP=new RegExp("[~\\*/\\[\\]]");function Fy(t,e,n){if(e.search(dP)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uh(t,e,n,i,o){const u=i&&!i.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new fe(ee.INVALID_ARGUMENT,m+t+p)}function TS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mP extends SS{data(){return super.data()}}function Cd(t,e){return typeof e=="string"?Fy(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gy{}class AS extends Gy{}function Id(t,e,...n){let i=[];e instanceof Gy&&i.push(e),i=i.concat(n),function(u){const f=u.filter(p=>p instanceof $y).length,m=u.filter(p=>p instanceof xd).length;if(f>1||f>0&&m>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class xd extends AS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new xd(e,n,i)}_apply(e){const n=this._parse(e);return CS(e._query,n),new Oa(e.firestore,e.converter,kg(e._query,n))}_parse(e){const n=Ad(e.firestore);return function(u,f,m,p,g,w,b){let S;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){vE(b,w);const V=[];for(const q of b)V.push(wE(p,u,q));S={arrayValue:{values:V}}}else S=wE(p,u,b)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||vE(b,w),S=hP(m,f,b,w==="in"||w==="not-in");return It.create(g,w,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bh(t,e,n){const i=e,o=Cd("where",t);return xd._create(o,i,n)}class $y extends Gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $y(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)CS(f,p),f=kg(f,p)}(e._query,n),new Oa(e.firestore,e.converter,kg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ky extends AS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ky(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(u,f)}(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new sl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function RS(t,e="asc"){const n=e,i=Cd("orderBy",t);return Ky._create(i,n)}function wE(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_2(e)&&n.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(it.fromString(n));if(!ye.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mb(t,new ye(i))}if(n instanceof bt)return Mb(t,n._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function vE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CS(t,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gP{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return As(e,(o,u)=>{i[o]=this.convertValue(u,n)}),i}convertVectorValue(e){const n=e.fields?.[Dh].arrayValue?.values?.map(i=>_t(i.doubleValue));return new Nr(n)}convertGeoPoint(e){return new Or(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=md(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);Ke(H2(i),9688,{name:e});const o=new Hu(i.get(1),i.get(3)),u=new ye(i.popFirst(5));return o.isEqual(n)||Ei(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends SS{constructor(e,n,i,o,u,f){super(e,n,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Cd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:xt("string",ga._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class ah extends ga{data(e={}){return super.data(e)}}class Po{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ah(this._firestore,this._userDataWriter,i.key,i,new xu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,w=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:yP(m.type),doc:p,oldIndex:g,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=py.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){t=Vr(t,bt);const e=Vr(t.firestore,ol);return nP(zy(e),t._key).then(n=>bP(e,t,n))}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:xt("string",Po._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class xS extends gP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function ac(t){t=Vr(t,Oa);const e=Vr(t.firestore,ol),n=zy(e),i=new xS(e);return pP(t._query),rP(n,t._query).then(o=>new Po(e,i,t,o))}function vP(t,e,n){t=Vr(t,bt);const i=Vr(t.firestore,ol),o=IS(t.converter,e);return Qy(i,[_S(Ad(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,or.none())])}function _P(t,e,n,...i){t=Vr(t,bt);const o=Vr(t.firestore,ol),u=Ad(o);let f;return f=typeof(e=dn(e))=="string"||e instanceof Sd?fP(u,"updateDoc",t._key,e,n,i):cP(u,"updateDoc",t._key,e),Qy(o,[f.toMutation(t._key,or.exists(!0))])}function DS(t,e){const n=Vr(t.firestore,ol),i=By(t),o=IS(t.converter,e);return Qy(n,[_S(Ad(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function Qy(t,e){return function(i,o){const u=new yi;return i.asyncQueue.enqueueAndForget(async()=>Fk(await tP(i),o,u)),u.promise}(zy(t),e)}function bP(t,e,n){const i=n.docs.get(e._key),o=new xS(t);return new ga(t,o,e._key,i,new xu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){nl=o})(tl),jo(new Ea("firestore",(i,{instanceIdentifier:o,options:u})=>{const f=i.getProvider("app").getImmediate(),m=new ol(new fO(i.getProvider("auth-internal")),new mO(f,i.getProvider("app-check-internal")),function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(g.options.projectId,w)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ms(Eb,Tb,e),ms(Eb,Tb,"esm2020")})();var EP="firebase",TP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(EP,TP,"app");function OS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SP=OS,NS=new Zu("auth","Firebase",OS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new fy("@firebase/auth");function AP(t,...e){zh.logLevel<=Pe.WARN&&zh.warn(`Auth (${tl}): ${t}`,...e)}function oh(t,...e){zh.logLevel<=Pe.ERROR&&zh.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,...e){throw Yy(t,...e)}function kr(t,...e){return Yy(t,...e)}function kS(t,e,n){const i={...SP(),[e]:n};return new Zu("auth","Firebase",i).create(e,{appName:t.name})}function ya(t){return kS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return NS.create(t,...e)}function Se(t,e,...n){if(!t)throw Yy(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oh(e),new Error(e)}function Ai(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){return typeof self<"u"&&self.location?.href||""}function RP(){return _E()==="http:"||_E()==="https:"}function _E(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RP()||qx()||"connection"in navigator)?navigator.onLine:!0}function IP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=Bx()||Hx()}get(){return CP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OP=new oc(3e4,6e4);function Wy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ll(t,e,n,i,o={}){return MS(t,o,async()=>{let u={},f={};i&&(e==="GET"?f=i:u={body:JSON.stringify(i)});const m=Ju({key:t.config.apiKey,...f}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...u};return jx()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&el(t.emulatorConfig.host)&&(g.credentials="include"),PS.fetch()(await VS(t,t.config.apiHost,n,m),g)})}async function MS(t,e,n){t._canInitEmulator=!1;const i={...xP,...e};try{const o=new kP(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yf(t,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(t,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Yf(t,"email-already-in-use",f);if(p==="USER_DISABLED")throw Yf(t,"user-disabled",f);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kS(t,w,g);Si(t,w)}}catch(o){if(o instanceof Ci)throw o;Si(t,"network-request-failed",{message:String(o)})}}async function NP(t,e,n,i,o={}){const u=await ll(t,e,n,i,o);return"mfaPendingCredential"in u&&Si(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function VS(t,e,n,i){const o=`${e}${n}?${i}`,u=t,f=u.config.emulator?Xy(t.config,o):`${t.config.apiScheme}://${o}`;return DP.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class kP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(kr(this.auth,"network-request-failed")),OP.get())})}}function Yf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=kr(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return ll(t,"POST","/v1/accounts:delete",e)}async function jh(t,e){return ll(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MP(t,e=!1){const n=dn(t),i=await n.getIdToken(e),o=Zy(i);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:i,authTime:Vu(lg(o.auth_time)),issuedAtTime:Vu(lg(o.iat)),expirationTime:Vu(lg(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lg(t){return Number(t)*1e3}function Zy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VT(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bE(t){const e=Zy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ci&&VP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function VP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){const e=t.auth,n=await t.getIdToken(),i=await Qu(t,jh(e,{idToken:n}));Se(i?.users.length,e,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=o.providerUserInfo?.length?LS(o.providerUserInfo):[],f=BP(t.providerData,u),m=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!f?.length,g=m?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new $g(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,w)}async function UP(t){const e=dn(t);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BP(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function LS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){const n=await MS(t,{},async()=>{const i=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,f=await VS(t,o,"/v1/token",`key=${u}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:i};return t.emulatorConfig&&el(t.emulatorConfig.host)&&(p.credentials="include"),PS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jP(t,e){return ll(t,"POST","/v2/accounts:revokeToken",Wy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await zP(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,f=new Mo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new LP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $g(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MP(this,e)}reload(){return UP(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await Qu(this,PP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:D,providerData:V,stsTokenManager:q}=n;Se(b&&q,e,"internal-error");const U=Mo.fromJSON(this.name,q);Se(typeof b=="string",e,"internal-error"),is(i,e.name),is(o,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof D=="boolean",e,"internal-error"),is(u,e.name),is(f,e.name),is(m,e.name),is(p,e.name),is(g,e.name),is(w,e.name);const $=new ar({uid:b,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:w});return V&&Array.isArray(V)&&($.providerData=V.map(se=>({...se}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,i=!1){const o=new Mo;o.updateFromServerResponse(n);const u=new ar({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Mo;m.updateFromIdToken(i);const p=new ar({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $g(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function mi(t){Ai(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}US.type="NONE";const TE=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){return`firebase:${t}:${e}:${n}`}class Vo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jh(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vo(mi(TE),e,i);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mi(TE);const f=lh(i,e.config.apiKey,e.name);let m=null;for(const g of n)try{const w=await g._get(f);if(w){let b;if(typeof w=="string"){const S=await jh(e,{idToken:w}).catch(()=>{});if(!S)break;b=await ar._fromGetAccountInfoResponse(e,S,w)}else b=ar._fromJSON(e,w);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Vo(u,e,i):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Vo(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FS(e))return"Blackberry";if(GS(e))return"Webos";if(zS(e))return"Safari";if((e.includes("chrome/")||jS(e))&&!e.includes("edge/"))return"Chrome";if(HS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function BS(t=on()){return/firefox\//i.test(t)}function zS(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jS(t=on()){return/crios\//i.test(t)}function qS(t=on()){return/iemobile/i.test(t)}function HS(t=on()){return/android/i.test(t)}function FS(t=on()){return/blackberry/i.test(t)}function GS(t=on()){return/webos/i.test(t)}function Jy(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qP(t=on()){return Jy(t)&&!!window.navigator?.standalone}function HP(){return Fx()&&document.documentMode===10}function $S(t=on()){return Jy(t)||HS(t)||GS(t)||FS(t)||/windows phone/i.test(t)||qS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e=[]){let n;switch(t){case"Browser":n=SE(on());break;case"Worker":n=`${SE(on())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t,e={}){return ll(t,"GET","/v2/passwordPolicy",Wy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=6;class KP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$P,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new FP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jh(this,{idToken:e}),i=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ir(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(ya(this));const n=e?dn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GP(this),n=new KP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await jP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ew(t){return dn(t)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zx(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YP(t){tw=t}function XP(t){return tw.loadJS(t)}function WP(){return tw.gapiScript}function ZP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){const n=dy(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ba(u,e??{}))return o;Si(o,"already-initialized")}return n.initialize({options:e})}function eM(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(mi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function tM(t,e,n){const i=ew(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=QS(e),{host:f,port:m}=nM(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},w=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(ba(g,i.config.emulator)&&ba(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,el(f)?(zT(`${u}//${f}${p}`),jT("Auth",!0)):rM()}function QS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nM(t){const e=QS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:RE(i.substr(u.length+1))}}else{const[u,f]=i.split(":");return{host:u,port:RE(f)}}}function RE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return NP(t,"POST","/v1/accounts:signInWithIdp",Wy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="http://localhost";class Aa extends YS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const f=new Aa(i,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Lo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:iM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends XS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends lc{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return as.credential(n,i)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends lc{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends lc{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ls.credential(n,i)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await ar._fromIdTokenResponse(e,i,o),f=CE(i);return new Qo({user:u,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=CE(i);return new Qo({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Ci{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Hh(e,n,i,o)}}function WS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(t,u,e,i):u})}async function sM(t,e,n=!1){const i=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e,n=!1){const{auth:i}=t;if(Ir(i.app))return Promise.reject(ya(i));const o="reauthenticate";try{const u=await Qu(t,WS(i,o,e,t),n);Se(u.idToken,i,"internal-error");const f=Zy(u.idToken);Se(f,i,"internal-error");const{sub:m}=f;return Se(t.uid===m,i,"user-mismatch"),Qo._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Si(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e,n=!1){if(Ir(t.app))return Promise.reject(ya(t));const i="signIn",o=await WS(t,i,e),u=await Qo._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(u.user),u}function lM(t,e,n,i){return dn(t).onIdTokenChanged(e,n,i)}function uM(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=1e3,fM=10;class JS extends ZS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},u=this.storage.getItem(i);HP()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fM):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},cM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JS.type="LOCAL";const hM=JS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends ZS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eA.type="SESSION";const tA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Dd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await dM(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=nw("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(w),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function pM(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function gM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yM(){return navigator?.serviceWorker?.controller||null}function wM(){return nA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebaseLocalStorageDb",vM=1,Gh="firebaseLocalStorage",iA="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Od(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function _M(){const t=indexedDB.deleteDatabase(rA);return new uc(t).toPromise()}function Kg(){const t=indexedDB.open(rA,vM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Gh,{keyPath:iA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Gh)?e(i):(i.close(),await _M(),e(await Kg()))})})}async function IE(t,e,n){const i=Od(t,!0).put({[iA]:e,value:n});return new uc(i).toPromise()}async function bM(t,e){const n=Od(t,!1).get(e),i=await new uc(n).toPromise();return i===void 0?null:i.value}function xE(t,e){const n=Od(t,!0).delete(e);return new uc(n).toPromise()}const EM=800,TM=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>TM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(wM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gM(),!this.activeServiceWorker)return;this.sender=new mM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await IE(e,Fh,"1"),await xE(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>IE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Od(o,!1).getAll();return new uc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const SM=sA;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e){return e?mi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends YS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RM(t){return oM(t.auth,new rw(t),t.bypassAuthState)}function CM(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),aM(n,new rw(t),t.bypassAuthState)}async function IM(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),sM(n,new rw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RM;case"linkViaPopup":case"linkViaRedirect":return IM;case"reauthViaPopup":case"reauthViaRedirect":return CM;default:Si(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new oc(2e3,1e4);class No extends aA{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xM.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="pendingRedirect",uh=new Map;class OM extends aA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const i=await NM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NM(t,e){const n=MM(e),i=PM(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function kM(t,e){uh.set(t._key(),e)}function PM(t){return mi(t._redirectPersistence)}function MM(t){return lh(DM,t.config.apiKey,t.name)}async function VM(t,e,n=!1){if(Ir(t.app))return Promise.reject(ya(t));const i=ew(t),o=AM(i,e),f=await new OM(i,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=600*1e3;class UM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LM&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e={}){return ll(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qM=/^https?/;async function HM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zM(t);for(const n of e)try{if(FM(n))return}catch{}Si(t,"unauthorized-domain")}function FM(t){const e=Gg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const f=new URL(t);return f.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!qM.test(n))return!1;if(jM.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new oc(3e4,6e4);function OE(){const t=Pr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $M(t){return new Promise((e,n)=>{function i(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(kr(t,"network-request-failed"))},timeout:GM.get()})}if(Pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pr().gapi?.load)i();else{const o=ZP("iframefcb");return Pr()[o]=()=>{gapi.load?i():n(kr(t,"network-request-failed"))},XP(`${WP()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function KM(t){return ch=ch||$M(t),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new oc(5e3,15e3),YM="__/auth/iframe",XM="emulator/auth/iframe",WM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JM(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,XM):`https://${t.config.authDomain}/${YM}`,i={apiKey:e.apiKey,appName:t.name,v:tl},o=ZM.get(t.config.apiHost);o&&(i.eid=o);const u=t._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Ju(i).slice(1)}`}async function e4(t){const e=await KM(t),n=Pr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:JM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WM,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const f=kr(t,"network-request-failed"),m=Pr().setTimeout(()=>{u(f)},QM.get());function p(){Pr().clearTimeout(m),o(i)}i.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n4=500,r4=600,i4="_blank",s4="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a4(t,e,n,i=n4,o=r4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p={...t4,width:i.toString(),height:o.toString(),top:u,left:f},g=on().toLowerCase();n&&(m=jS(g)?i4:n),BS(g)&&(e=e||s4,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[D,V])=>`${S}${D}=${V},`,"");if(qP(g)&&m!=="_self")return o4(e||"",m),new NE(null);const b=window.open(e||"",m,w);Se(b,t,"popup-blocked");try{b.focus()}catch{}return new NE(b)}function o4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="__/auth/handler",u4="emulator/auth/handler",c4=encodeURIComponent("fac");async function kE(t,e,n,i,o,u){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const f={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:tl,eventId:o};if(e instanceof XS){e.setDefaultLanguage(t.languageCode),f.providerId=e.providerId||"",Wx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,b]of Object.entries({}))f[w]=b}if(e instanceof lc){const w=e.getScopes().filter(b=>b!=="");w.length>0&&(f.scopes=w.join(","))}t.tenantId&&(f.tid=t.tenantId);const m=f;for(const w of Object.keys(m))m[w]===void 0&&delete m[w];const p=await t._getAppCheckToken(),g=p?`#${c4}=${encodeURIComponent(p)}`:"";return`${f4(t)}?${Ju(m).slice(1)}${g}`}function f4({config:t}){return t.emulator?Xy(t,u4):`https://${t.authDomain}/${l4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="webStorageSupport";class h4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=VM,this._overrideRedirectResult=kM}async _openPopup(e,n,i,o){Ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await kE(e,n,i,Gg(),o);return a4(e,u,nw())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await kE(e,n,i,Gg(),o);return pM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ai(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await e4(e),i=new UM(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ug,{type:ug},o=>{const u=o?.[0]?.[ug];u!==void 0&&n(!!u),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $S()||zS()||Jy()}}const d4=h4;var PE="@firebase/auth",ME="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g4(t){jo(new Ea("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=i.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:f,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KS(t)},g=new QP(i,o,u,p);return eM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),jo(new Ea("auth-internal",e=>{const n=ew(e.getProvider("auth").getImmediate());return(i=>new m4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(PE,ME,p4(t)),ms(PE,ME,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=300,w4=BT("authIdTokenMaxAge")||y4;let VE=null;const v4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>w4)return;const o=n?.token;VE!==o&&(VE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _4(t=GT()){const e=dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JP(t,{popupRedirectResolver:d4,persistence:[SM,hM,tA]}),i=BT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const f=v4(u.toString());uM(n,f,()=>f(n.currentUser)),lM(n,m=>f(m))}}const o=LT("auth");return o&&tM(n,`http://${o}`),n}function b4(){return document.getElementsByTagName("head")?.[0]??document}YP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const u=kr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",b4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g4("Browser");const E4={apiKey:"AIzaSyAB9a0tExSm5tKynAXLFbq7H-yQtlgr",authDomain:"quiz-game-73509.firebaseapp.com",projectId:"quiz-game-73509",storageBucket:"quiz-game-73509.appspot.com",messagingSenderId:"667755596195",appId:"1:667755596195:web:f7119f3a177924f595a9a"},lA=FT(E4),Ii=sP(lA);_4(lA);const T4={scores:{score:0},loading:!1,error:null},fh=Ia("score/update",async({price:t,oldScore:e,id:n},i)=>{try{const o=e+t,u=By(Ii,"users",n);await _P(u,{score:o});const f=await wP(u);return f.exists()?f.data().score:o}catch(o){return i.rejectWithValue(o.message)}}),uA=ud({name:"score",initialState:T4,reducers:{changeScore:(t,e)=>{t.scores.score=e.payload}},extraReducers:t=>{t.addCase(fh.pending,e=>{e.loading=!0,e.error=null}).addCase(fh.fulfilled,(e,n)=>{e.loading=!1,e.scores.score=n.payload}).addCase(fh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{changeScore:S4}=uA.actions,A4=uA.reducer,R4=[{title:"JavaScript",questions:[{price:100,question:"Что такое переменная в JavaScript и как её объявить?",answer:"Именованное хранилище данных, объявляется через var, let или const."},{price:100,question:"Какие примитивные типы данных существуют в JavaScript?",answer:"string, number, boolean, null, undefined, symbol, bigint."},{price:100,question:"Что такое оператор typeof и как его использовать?",answer:"Оператор для определения типа значения, например typeof 5 вернёт 'number'."},{price:100,question:"Что вернёт typeof null?",answer:"object (историческая особенность JavaScript)."},{price:100,question:"Что делает 'use strict' в JavaScript?",answer:"Включает строгий режим, который предотвращает некоторые ошибки и запрещает неявные глобальные переменные."},{price:200,question:"Чем отличается let от var?",answer:"let имеет блочную область видимости, var — функциональную."},{price:200,question:"Чем отличается const от let?",answer:"const создаёт константу, значение нельзя переназначить; let позволяет менять значение."},{price:200,question:"Что такое массив и как проверить, что значение — массив?",answer:"Упорядоченная коллекция элементов; проверка через Array.isArray(value)."},{price:200,question:"Что делает метод forEach в массиве?",answer:"Перебирает все элементы массива и выполняет функцию для каждого элемента."},{price:200,question:"Что делает метод filter в массиве?",answer:"Создаёт новый массив с элементами, которые прошли проверку в функции."},{price:300,question:"Что такое замыкание (closure) в JavaScript?",answer:"Функция, которая запоминает своё лексическое окружение."},{price:300,question:"Что делает метод map в массиве?",answer:"Создаёт новый массив, применяя функцию к каждому элементу исходного массива."},{price:300,question:"Что такое деструктуризация объектов и массивов?",answer:"Синтаксис для извлечения значений из объектов или массивов в отдельные переменные."},{price:300,question:"Что такое стрелочные функции и их отличие от обычных?",answer:"Короткий синтаксис функции, не имеющей собственного this."},{price:300,question:"Что такое шаблонные строки и как использовать?",answer:"Строки с интерполяцией через `${}` для вставки выражений."},{price:400,question:"Что такое hoisting в JavaScript?",answer:"Поднятие объявлений переменных и функций в начало области видимости."},{price:400,question:"Что делает метод reduce в массиве?",answer:"Сводит массив к одному значению, применяя аккумуляторную функцию."},{price:400,question:"Что такое JSON и для чего используется?",answer:"Формат обмена данными, основанный на синтаксисе JS-объектов."},{price:400,question:"Что такое event loop и как он работает?",answer:"Механизм обработки асинхронных операций, событий и очередей в JS."},{price:400,question:"Что такое call stack и как он связан с выполнением функций?",answer:"Стек вызовов функций, отслеживает порядок выполнения и возврат результата."},{price:500,question:"Что такое прототипное наследование?",answer:"Механизм, при котором объекты наследуют свойства и методы через __proto__ или Object.create."},{price:500,question:"Что такое промис и его состояния?",answer:"Объект для асинхронных операций со статусами pending, fulfilled, rejected."},{price:500,question:"Что такое async/await и как использовать?",answer:"Синтаксис для работы с промисами как с синхронным кодом."},{price:500,question:"Что такое генераторы (function*) и yield?",answer:"Функции, выполнение которых можно приостанавливать через yield и возобновлять."},{price:500,question:"Что такое WeakMap и WeakSet и зачем нужны?",answer:"Коллекции, хранящие объекты без предотвращения их удаления сборщиком мусора."}]},{title:"TypeScript",questions:[{price:100,question:"Что такое TypeScript и зачем он нужен?",answer:"Надстройка над JS с типизацией для раннего обнаружения ошибок."},{price:100,question:"Как объявить переменную типа string?",answer:"let name: string;"},{price:100,question:"Какие базовые типы есть в TypeScript?",answer:"string, number, boolean, null, undefined, symbol, bigint, any, unknown, void, never."},{price:100,question:"Что такое any и когда его использовать?",answer:"Любой тип, отключает проверку; использовать редко."},{price:100,question:"Что такое unknown и чем отличается от any?",answer:"Безопасный аналог any, требует проверки типа перед использованием."},{price:200,question:"Что такое tuple и как его объявить?",answer:"Массив фиксированной длины с разными типами: let t: [string, number];"},{price:200,question:"Что такое enum и как его использовать?",answer:"Перечисление именованных констант."},{price:200,question:"Чем interface отличается от type?",answer:"interface можно расширять и реализовывать, type — алиас типов, гибкий в объединениях и пересечениях."},{price:200,question:"Что такое union-тип?",answer:"Переменная может иметь один из нескольких типов."},{price:200,question:"Что такое intersection-тип?",answer:"Комбинирует несколько типов в один."},{price:300,question:"Что такое generics и зачем их используют?",answer:"Параметры типов для универсальных функций и классов."},{price:300,question:"Что такое keyof и как его применять?",answer:"Оператор для получения ключей объекта как типов."},{price:300,question:"Что такое mapped types?",answer:"Преобразование свойств типа: { [K in keyof T]: ... }"},{price:300,question:"Что такое conditional types?",answer:"Типы вида T extends U ? X : Y."},{price:300,question:"Что такое type assertion (as) и зачем использовать?",answer:"Приведение типа значения к другому типу."},{price:400,question:"Что такое Partial и Readonly типы?",answer:"Утилитарные типы для изменения свойств объекта: Partial делает опциональными, Readonly — только для чтения."},{price:400,question:"Что такое type narrowing?",answer:"Сужение типов через проверки (typeof, instanceof, проверку на null и т.п.)."},{price:400,question:"Что такое never и где используется?",answer:"Тип для значений, которые никогда не происходят (ошибка или бесконечный цикл)."},{price:400,question:"Что такое void и где используется?",answer:"Тип функции, не возвращающей значение."},{price:400,question:"Что такое декларации ambient-модулей?",answer:"Файлы .d.ts с типами для внешних библиотек."},{price:500,question:"Что такое infer в условных типах?",answer:"Ключевое слово для вывода типов внутри условных типов."},{price:500,question:"Что такое utility types и примеры их использования?",answer:"Partial, Pick, Omit, Readonly, Record — позволяют менять и комбинировать свойства типов."},{price:500,question:"Что такое template literal types?",answer:"Типы, формируемые через шаблонные строки, например type T = `${string}-${number}`;"},{price:500,question:"Что такое declaration merging?",answer:"Объединение нескольких деклараций с одним именем, например интерфейсов."},{price:500,question:"Как работает type guards?",answer:"Функции или проверки, которые сужают тип переменной."}]},{title:"React",questions:[{price:100,question:"Что такое компонент в React?",answer:"Функция или класс, возвращающий JSX."},{price:100,question:"Что такое JSX?",answer:"Синтаксис для описания UI в виде HTML-подобного кода."},{price:100,question:"Что такое props?",answer:"Входные параметры компонента."},{price:100,question:"Что такое state?",answer:"Состояние компонента, влияющее на рендер."},{price:100,question:"Что делает ReactDOM.render?",answer:"Метод рендеринга компонента в DOM."},{price:200,question:"Что делает useState и как его использовать?",answer:"Хук для хранения и обновления состояния функционального компонента."},{price:200,question:"Что делает useEffect и когда вызывается?",answer:"Хук для побочных эффектов, вызывается после рендера компонента."},{price:200,question:"Что такое controlled component?",answer:"Компонент, управляющий значениями через state и props."},{price:200,question:"Что такое uncontrolled component?",answer:"Компонент, который хранит состояние в DOM, а не в state."},{price:200,question:"Что такое key в списках и зачем нужен?",answer:"Уникальный идентификатор для оптимизации рендера списков."},{price:300,question:"Что такое lifting state up?",answer:"Поднятие состояния на уровень выше для совместного использования между компонентами."},{price:300,question:"Что такое React.memo?",answer:"HOC для мемоизации функциональных компонентов, предотвращает лишний рендер."},{price:300,question:"Что делает useCallback?",answer:"Мемоизация функций между рендерами."},{price:300,question:"Что делает useMemo?",answer:"Мемоизация вычислений между рендерами."},{price:300,question:"Что делает useRef и где применяют?",answer:"Хук для хранения изменяемых значений без перерендера."},{price:400,question:"Что такое context API и как его использовать?",answer:"Механизм передачи данных через дерево компонентов без пропсов."},{price:400,question:"Что такое virtual DOM и зачем нужен?",answer:"Копия DOM в памяти для эффективного обновления UI."},{price:400,question:"Что такое reconciliation?",answer:"Алгоритм React для сравнения virtual DOM и реального DOM."},{price:400,question:"Что такое Suspense и lazy-loading?",answer:"Механизм для асинхронной загрузки компонентов."},{price:400,question:"Что такое server-side rendering (SSR)?",answer:"Рендеринг React на сервере перед отправкой клиенту."},{price:500,question:"Что такое HOC и для чего используется?",answer:"Функция, принимающая компонент и возвращающая новый с расширенными возможностями."},{price:500,question:"Что такое render props?",answer:"Техника передачи функции для рендера внутри компонента."},{price:500,question:"Что такое React Fiber?",answer:"Архитектура React для асинхронного и приоритетного рендера."},{price:500,question:"Что такое portals?",answer:"Механизм рендеринга дочерних компонентов вне DOM-дерева родителя."},{price:500,question:"Что такое error boundaries?",answer:"Компоненты, ловящие ошибки в дереве компонентов и предотвращающие крах приложения."}]},{title:"Redux",questions:[{price:100,question:"Что такое Redux?",answer:"Библиотека для управления состоянием приложения."},{price:100,question:"Что такое action и его структура?",answer:"Объект с обязательным type, описывающий изменение состояния."},{price:100,question:"Что такое reducer?",answer:"Функция, вычисляющая новое состояние на основе action."},{price:100,question:"Что такое store?",answer:"Центральное хранилище состояния приложения."},{price:100,question:"Что делает dispatch?",answer:"Отправляет action в store для изменения состояния."},{price:200,question:"Что такое middleware?",answer:"Функция, расширяющая dispatch и позволяющая выполнять побочные эффекты."},{price:200,question:"Что делает combineReducers?",answer:"Объединяет несколько редьюсеров в один."},{price:200,question:"Что делает subscribe в Redux?",answer:"Позволяет подписаться на изменения состояния store."},{price:200,question:"Что такое selector?",answer:"Функция для выборки данных из состояния store."},{price:200,question:"Что такое pure function и почему редьюсер должен быть таким?",answer:"Функция без побочных эффектов; редьюсер должен возвращать новое состояние без мутаций."},{price:300,question:"Что такое immutability и зачем оно нужно в Redux?",answer:"Неприменяемость объектов; обеспечивает предсказуемость и детектирование изменений."},{price:300,question:"Что такое DevTools для Redux?",answer:"Инструменты разработчика для отладки состояния приложения."},{price:300,question:"Что делает bindActionCreators?",answer:"Оборачивает action creators в dispatch для удобства вызова."},{price:300,question:"Что такое thunk?",answer:"Middleware для работы с асинхронным кодом."},{price:300,question:"Что такое saga?",answer:"Middleware для управления побочными эффектами через генераторы."},{price:400,question:"Что такое normalize state?",answer:"Приведение состояния к плоской структуре для удобства работы."},{price:400,question:"Что такое reselect и зачем использовать?",answer:"Библиотека для мемоизированных селекторов."},{price:400,question:"Что такое optimistic update?",answer:"Предварительное обновление UI до ответа сервера."},{price:400,question:"В чём отличие Redux от Context API?",answer:"Redux масштабируемее, предоставляет DevTools и middleware, Context API проще для маленьких приложений."},{price:400,question:"Что такое Flux и как он связан с Redux?",answer:"Архитектурный паттерн с однонаправленным потоком данных, на котором основан Redux."},{price:500,question:"Какие альтернативы Redux существуют?",answer:"MobX, Zustand, Recoil, Jotai."},{price:500,question:"Что такое middleware listener?",answer:"Позволяет реагировать на события store при изменении состояния."},{price:500,question:"Что такое optimistic concurrency в Redux?",answer:"Обновление состояния с учётом возможных конфликтов с сервером."},{price:500,question:"Что такое batch update?",answer:"Объединение нескольких изменений состояния в одно обновление."},{price:500,question:"Что такое hydration в Redux?",answer:"Загрузка состояния на клиенте из серверного рендера."}]},{title:"RTK",questions:[{price:100,question:"Что такое Redux Toolkit (RTK)?",answer:"Официальный набор инструментов для упрощения работы с Redux."},{price:100,question:"Что делает configureStore?",answer:"Создаёт store с правильной конфигурацией middleware и devtools."},{price:100,question:"Что такое createSlice?",answer:"Функция для создания редьюсера и action creators в одном месте."},{price:100,question:"Что такое createAsyncThunk?",answer:"Функция для создания асинхронных действий с автоматической обработкой pending/fulfilled/rejected."},{price:100,question:"Что делает getDefaultMiddleware?",answer:"Возвращает набор middleware по умолчанию для RTK."},{price:200,question:"Что такое RTK Query?",answer:"Инструмент для работы с серверными данными в Redux."},{price:200,question:"Что такое endpoint в RTK Query?",answer:"Определяет метод запроса к серверу и его тип (query/mutation)."},{price:200,question:"Что такое mutation в RTK Query?",answer:"Запрос на изменение данных на сервере."},{price:200,question:"Что такое query в RTK Query?",answer:"Запрос на получение данных с сервера."},{price:200,question:"Что делает providesTags и invalidatesTags?",answer:"Помогает управлять кешированием и обновлением данных."},{price:300,question:"Что такое cache invalidation?",answer:"Механизм обновления кеша после мутаций."},{price:300,question:"Что такое polling в RTK Query?",answer:"Автоматическое обновление данных через интервалы."},{price:300,question:"Что такое lazy query?",answer:"Запрос, который выполняется вручную по вызову функции."},{price:300,question:"Что делает middleware listener в RTK?",answer:"Позволяет реагировать на события в store."},{price:300,question:"Что такое matchers в RTK?",answer:"Позволяет обрабатывать несколько action по условию."},{price:400,question:"Чем RTK отличается от классического Redux?",answer:"Упрощает конфигурацию, уменьшает шаблонный код, поддерживает Immer."},{price:400,question:"Что такое optimistic update в RTK Query?",answer:"Предварительное обновление состояния до ответа сервера."},{price:400,question:"Что такое transformResponse?",answer:"Позволяет изменять данные ответа перед сохранением в store."},{price:400,question:"Что такое keepUnusedDataFor?",answer:"Настройка времени хранения неиспользуемых данных в кеше."},{price:400,question:"Что такое refetchOnMount?",answer:"Настройка повторного запроса данных при монтировании компонента."},{price:500,question:"Что такое optimistic concurrency в RTK?",answer:"Обновление состояния с учётом возможных конфликтов с сервером."},{price:500,question:"Что такое invalidationTags и как они помогают?",answer:"Позволяют автоматически обновлять кеш после мутаций."},{price:500,question:"Что такое createEntityAdapter?",answer:"Утилита для управления коллекциями сущностей в store."},{price:500,question:"Что такое prefetch в RTK Query?",answer:"Заранее загружает данные до их фактического использования."},{price:500,question:"Что такое enhancedReducers?",answer:"Редьюсеры с дополнительной логикой, например undo/redo."}]}],C4={topics:[],selectedIndexByTitleAndPrice:{},answeredStatusByTitleAndPrice:{}},Qg=Ia("topics/fetchTopics",async()=>{const t=await ac(Na(Ii,"topics")),e=[];return t.forEach(n=>{const i=n.data();e.push({title:i.title,questions:i.questions})}),e}),I4=Ia("topics/seedTopics",async()=>{const t=R4.map(e=>vP(By(Ii,"topics",e.title),e));await Promise.all(t)}),cA=ud({name:"topics",initialState:C4,reducers:{initializeBoard(t,e){const n=e.payload??t.topics,i=[100,200,300,400,500],o={};n.forEach(u=>{const f={};u.questions.forEach((m,p)=>{f[m.price]||(f[m.price]=[]),f[m.price].push(p)}),o[u.title]={},i.forEach(m=>{const p=f[m]||[];if(p.length>0){const g=Math.floor(Math.random()*p.length);o[u.title][m]=p[g]}})}),t.selectedIndexByTitleAndPrice=o,t.answeredStatusByTitleAndPrice={}},markAnswered(t,e){const{title:n,price:i,result:o}=e.payload;t.answeredStatusByTitleAndPrice[n]||(t.answeredStatusByTitleAndPrice[n]={}),t.answeredStatusByTitleAndPrice[n][i]=o},resetBoard(t){t.answeredStatusByTitleAndPrice={}}},extraReducers:t=>{t.addCase(Qg.fulfilled,(e,{payload:n})=>{e.topics=n})}}),{initializeBoard:cg,markAnswered:fA,resetBoard:x4}=cA.actions,D4=cA.reducer,O4={items:[],loading:!1,error:null},hh=Ia("answers/add",async({userId:t,answer:e},n)=>{try{await DS(Na(Ii,"answersHistory"),{userId:t,...e})}catch(i){return n.rejectWithValue(i.message)}}),dh=Ia("answers/fetch",async({userId:t},e)=>{try{const n=Id(Na(Ii,"answersHistory"),Bh("userId","==",t),RS("answeredAt","desc"));return(await ac(n)).docs.map(o=>o.data())}catch(n){return e.rejectWithValue(n.message)}}),N4=ud({name:"answers",initialState:O4,reducers:{},extraReducers:t=>{t.addCase(dh.pending,e=>{e.loading=!0,e.error=null}).addCase(dh.fulfilled,(e,n)=>{e.loading=!1,e.items=n.payload}).addCase(dh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(hh.pending,e=>{e.loading=!0,e.error=null}).addCase(hh.fulfilled,e=>{e.loading=!1}).addCase(hh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),k4=N4.reducer;/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function hA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function P4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LE(t,e){return t.get(hA(t,e))}function M4(t,e,n){P4(t,e),e.set(t,n)}function V4(t,e,n){return t.set(hA(t,e),n),n}const L4=100,ve={},U4=()=>{ve.previousActiveElement instanceof HTMLElement?(ve.previousActiveElement.focus(),ve.previousActiveElement=null):document.body&&document.body.focus()},B4=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;ve.restoreFocusTimeout=setTimeout(()=>{U4(),e()},L4),window.scrollTo(n,i)}),dA="swal2-",z4=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=z4.reduce((t,e)=>(t[e]=dA+e,t),{}),j4=["success","warning","info","question","error"],$h=j4.reduce((t,e)=>(t[e]=dA+e,t),{}),mA="SweetAlert2:",iw=t=>t.charAt(0).toUpperCase()+t.slice(1),mn=t=>{console.warn(`${mA} ${typeof t=="object"?t.join(" "):t}`)},ka=t=>{console.error(`${mA} ${t}`)},UE=[],q4=t=>{UE.includes(t)||(UE.push(t),mn(t))},pA=(t,e=null)=>{q4(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Nd=t=>typeof t=="function"?t():t,sw=t=>t&&typeof t.toPromise=="function",cc=t=>sw(t)?t.toPromise():Promise.resolve(t),aw=t=>t&&Promise.resolve(t)===t,pn=()=>document.body.querySelector(`.${Y.container}`),fc=t=>{const e=pn();return e?e.querySelector(t):null},Mn=t=>fc(`.${t}`),qe=()=>Mn(Y.popup),ul=()=>Mn(Y.icon),H4=()=>Mn(Y["icon-content"]),gA=()=>Mn(Y.title),ow=()=>Mn(Y["html-container"]),yA=()=>Mn(Y.image),lw=()=>Mn(Y["progress-steps"]),kd=()=>Mn(Y["validation-message"]),Ur=()=>fc(`.${Y.actions} .${Y.confirm}`),cl=()=>fc(`.${Y.actions} .${Y.cancel}`),Pa=()=>fc(`.${Y.actions} .${Y.deny}`),F4=()=>Mn(Y["input-label"]),fl=()=>fc(`.${Y.loader}`),hc=()=>Mn(Y.actions),wA=()=>Mn(Y.footer),Pd=()=>Mn(Y["timer-progress-bar"]),uw=()=>Mn(Y.close),G4=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,cw=()=>{const t=qe();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((u,f)=>{const m=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(f.getAttribute("tabindex")||"0");return m>p?1:m<p?-1:0}),i=t.querySelectorAll(G4),o=Array.from(i).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(u=>bn(u))},fw=()=>wi(document.body,Y.shown)&&!wi(document.body,Y["toast-shown"])&&!wi(document.body,Y["no-backdrop"]),Md=()=>{const t=qe();return t?wi(t,Y.toast):!1},$4=()=>{const t=qe();return t?t.hasAttribute("data-loading"):!1},Vn=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{t.appendChild(f)});const u=i.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?t.appendChild(f.cloneNode(!0)):t.appendChild(f)})}},wi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},K4=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Y).includes(n)&&!Object.values($h).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Pn=(t,e,n)=>{if(K4(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){mn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}Ge(t,i)}},Vd=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return t.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return t.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||t.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return t.querySelector(`.${Y.popup} > .${Y.range} input`);default:return t.querySelector(`.${Y.popup} > .${Y.input}`)}},vA=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},_A=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(i):o.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},Ge=(t,e)=>{_A(t,e,!0)},Zn=(t,e)=>{_A(t,e,!1)},cs=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const o=n[i];if(o instanceof HTMLElement&&wi(o,e))return o}},wa=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Ht=(t,e="flex")=>{t&&(t.style.display=e)},ln=t=>{t&&(t.style.display="none")},hw=(t,e="block")=>{t&&new MutationObserver(()=>{dc(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},BE=(t,e,n,i)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,i)},dc=(t,e,n="flex")=>{e?Ht(t,n):ln(t)},bn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Q4=()=>!bn(Ur())&&!bn(Pa())&&!bn(cl()),Yg=t=>t.scrollHeight>t.clientHeight,Y4=(t,e)=>{let n=t;for(;n&&n!==e;){if(Yg(n))return!0;n=n.parentElement}return!1},bA=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},dw=(t,e=!1)=>{const n=Pd();n&&bn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},X4=()=>{const t=Pd();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},W4=()=>typeof window>"u"||typeof document>"u",Z4=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),J4=()=>{const t=pn();return t?(t.remove(),Zn([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},ca=()=>{ve.currentInstance.resetValidationMessage()},eV=()=>{const t=qe(),e=cs(t,Y.input),n=cs(t,Y.file),i=t.querySelector(`.${Y.range} input`),o=t.querySelector(`.${Y.range} output`),u=cs(t,Y.select),f=t.querySelector(`.${Y.checkbox} input`),m=cs(t,Y.textarea);e.oninput=ca,n.onchange=ca,u.onchange=ca,f.onchange=ca,m.oninput=ca,i.oninput=()=>{ca(),o.value=i.value},i.onchange=()=>{ca(),o.value=i.value}},tV=t=>typeof t=="string"?document.querySelector(t):t,nV=t=>{const e=qe();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},rV=t=>{window.getComputedStyle(t).direction==="rtl"&&Ge(pn(),Y.rtl)},iV=t=>{const e=J4();if(W4()){ka("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Y.container,e&&Ge(n,Y["no-transition"]),Vn(n,Z4),n.dataset.swal2Theme=t.theme;const i=tV(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),nV(t),rV(i),eV()},mw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?sV(t,e):t&&Vn(e,t)},sV=(t,e)=>{t.jquery?aV(e,t):Vn(e,t.toString())},aV=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},oV=(t,e)=>{const n=hc(),i=fl();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ln(n):Ht(n),Pn(n,e,"actions"),lV(n,i,e),Vn(i,e.loaderHtml||""),Pn(i,e,"loader"))};function lV(t,e,n){const i=Ur(),o=Pa(),u=cl();!i||!o||!u||(hg(i,"confirm",n),hg(o,"deny",n),hg(u,"cancel",n),uV(i,o,u,n),n.reverseButtons&&(n.toast?(t.insertBefore(u,i),t.insertBefore(o,i)):(t.insertBefore(u,e),t.insertBefore(o,e),t.insertBefore(i,e))))}function uV(t,e,n,i){if(!i.buttonsStyling){Zn([t,e,n],Y.styled);return}Ge([t,e,n],Y.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),fg(t),fg(e),fg(n)}function fg(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function hg(t,e,n){const i=iw(e);dc(t,n[`show${i}Button`],"inline-block"),Vn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Y[e],Pn(t,n,`${e}Button`)}const cV=(t,e)=>{const n=uw();n&&(Vn(n,e.closeButtonHtml||""),Pn(n,e,"closeButton"),dc(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},fV=(t,e)=>{const n=pn();n&&(hV(n,e.backdrop),dV(n,e.position),mV(n,e.grow),Pn(n,e,"container"))};function hV(t,e){typeof e=="string"?t.style.background=e:e||Ge([document.documentElement,document.body],Y["no-backdrop"])}function dV(t,e){e&&(e in Y?Ge(t,Y[e]):(mn('The "position" parameter is not valid, defaulting to "center"'),Ge(t,Y.center)))}function mV(t,e){e&&Ge(t,Y[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const pV=["input","file","range","select","radio","checkbox","textarea"],gV=(t,e)=>{const n=qe();if(!n)return;const i=st.innerParams.get(t),o=!i||e.input!==i.input;pV.forEach(u=>{const f=cs(n,Y[u]);f&&(vV(u,e.inputAttributes),f.className=Y[u],o&&ln(f))}),e.input&&(o&&yV(e),_V(e))},yV=t=>{if(!t.input)return;if(!vt[t.input]){ka(`Unexpected type of input! Expected ${Object.keys(vt).join(" | ")}, got "${t.input}"`);return}const e=EA(t.input);if(!e)return;const n=vt[t.input](e,t);Ht(e),t.inputAutoFocus&&setTimeout(()=>{vA(n)})},wV=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},vV=(t,e)=>{const n=qe();if(!n)return;const i=Vd(n,t);if(i){wV(i);for(const o in e)i.setAttribute(o,e[o])}},_V=t=>{if(!t.input)return;const e=EA(t.input);e&&Pn(e,t,"input")},pw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},mc=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),o=Y["input-label"];i.setAttribute("for",t.id),i.className=o,typeof n.customClass=="object"&&Ge(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},EA=t=>{const e=qe();if(e)return cs(e,Y[t]||Y.input)},Kh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:aw(e)||mn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=(t,e)=>(Kh(t,e.inputValue),mc(t,t,e),pw(t,e),t.type=e.input,t);vt.file=(t,e)=>(mc(t,t,e),pw(t,e),t);vt.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return Kh(n,e.inputValue),n.type=e.input,Kh(i,e.inputValue),mc(n,t,e),t};vt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Vn(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return mc(t,t,e),t};vt.radio=t=>(t.textContent="",t);vt.checkbox=(t,e)=>{const n=Vd(qe(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return Vn(i,e.inputPlaceholder||e.inputLabel),n};vt.textarea=(t,e)=>{Kh(t,e.inputValue),pw(t,e),mc(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(qe()).width),o=()=>{if(!document.body.contains(t))return;const u=t.offsetWidth+n(t);u>i?qe().style.width=`${u}px`:wa(qe(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const bV=(t,e)=>{const n=ow();n&&(hw(n),Pn(n,e,"htmlContainer"),e.html?(mw(e.html,n),Ht(n,"block")):e.text?(n.textContent=e.text,Ht(n,"block")):ln(n),gV(t,e))},EV=(t,e)=>{const n=wA();n&&(hw(n),dc(n,e.footer,"block"),e.footer&&mw(e.footer,n),Pn(n,e,"footer"))},TV=(t,e)=>{const n=st.innerParams.get(t),i=ul();if(!i)return;if(n&&e.icon===n.icon){jE(i,e),zE(i,e);return}if(!e.icon&&!e.iconHtml){ln(i);return}if(e.icon&&Object.keys($h).indexOf(e.icon)===-1){ka(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ln(i);return}Ht(i),jE(i,e),zE(i,e),Ge(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",TA)},zE=(t,e)=>{for(const[n,i]of Object.entries($h))e.icon!==n&&Zn(t,i);Ge(t,e.icon&&$h[e.icon]),RV(t,e),TA(),Pn(t,e,"icon")},TA=()=>{const t=qe();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},SV=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,AV=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,jE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=qE(e.iconHtml):e.icon==="success"?(i=SV(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=AV:e.icon&&(i=qE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Vn(t,i)},RV=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])BE(t,n,"background-color",e.iconColor);BE(t,".swal2-success-ring","border-color",e.iconColor)}},qE=t=>`<div class="${Y["icon-content"]}">${t}</div>`,CV=(t,e)=>{const n=yA();if(n){if(!e.imageUrl){ln(n);return}Ht(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),wa(n,"width",e.imageWidth),wa(n,"height",e.imageHeight),n.className=Y.image,Pn(n,e,"image")}};let gw=!1,SA=0,AA=0,RA=0,CA=0;const IV=t=>{t.addEventListener("mousedown",Qh),document.body.addEventListener("mousemove",Yh),t.addEventListener("mouseup",Xh),t.addEventListener("touchstart",Qh),document.body.addEventListener("touchmove",Yh),t.addEventListener("touchend",Xh)},xV=t=>{t.removeEventListener("mousedown",Qh),document.body.removeEventListener("mousemove",Yh),t.removeEventListener("mouseup",Xh),t.removeEventListener("touchstart",Qh),document.body.removeEventListener("touchmove",Yh),t.removeEventListener("touchend",Xh)},Qh=t=>{const e=qe();if(t.target===e||ul().contains(t.target)){gw=!0;const n=IA(t);SA=n.clientX,AA=n.clientY,RA=parseInt(e.style.insetInlineStart)||0,CA=parseInt(e.style.insetBlockStart)||0,Ge(e,"swal2-dragging")}},Yh=t=>{const e=qe();if(gw){let{clientX:n,clientY:i}=IA(t);e.style.insetInlineStart=`${RA+(n-SA)}px`,e.style.insetBlockStart=`${CA+(i-AA)}px`}},Xh=()=>{const t=qe();gw=!1,Zn(t,"swal2-dragging")},IA=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},DV=(t,e)=>{const n=pn(),i=qe();if(!(!n||!i)){if(e.toast){wa(n,"width",e.width),i.style.width="100%";const o=fl();o&&i.insertBefore(o,ul())}else wa(i,"width",e.width);wa(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),ln(kd()),OV(i,e),e.draggable&&!e.toast?(Ge(i,Y.draggable),IV(i)):(Zn(i,Y.draggable),xV(i))}},OV=(t,e)=>{const n=e.showClass||{};t.className=`${Y.popup} ${bn(t)?n.popup:""}`,e.toast?(Ge([document.documentElement,document.body],Y["toast-shown"]),Ge(t,Y.toast)):Ge(t,Y.modal),Pn(t,e,"popup"),typeof e.customClass=="string"&&Ge(t,e.customClass),e.icon&&Ge(t,Y[`icon-${e.icon}`])},NV=(t,e)=>{const n=lw();if(!n)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){ln(n);return}Ht(n),n.textContent="",o>=i.length&&mn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((u,f)=>{const m=kV(u);if(n.appendChild(m),f===o&&Ge(m,Y["active-progress-step"]),f!==i.length-1){const p=PV(e);n.appendChild(p)}})},kV=t=>{const e=document.createElement("li");return Ge(e,Y["progress-step"]),Vn(e,t),e},PV=t=>{const e=document.createElement("li");return Ge(e,Y["progress-step-line"]),t.progressStepsDistance&&wa(e,"width",t.progressStepsDistance),e},MV=(t,e)=>{const n=gA();n&&(hw(n),dc(n,e.title||e.titleText,"block"),e.title&&mw(e.title,n),e.titleText&&(n.innerText=e.titleText),Pn(n,e,"title"))},xA=(t,e)=>{DV(t,e),fV(t,e),NV(t,e),TV(t,e),CV(t,e),MV(t,e),cV(t,e),bV(t,e),oV(t,e),EV(t,e);const n=qe();typeof e.didRender=="function"&&n&&e.didRender(n),ve.eventEmitter.emit("didRender",n)},VV=()=>bn(qe()),DA=()=>{var t;return(t=Ur())===null||t===void 0?void 0:t.click()},LV=()=>{var t;return(t=Pa())===null||t===void 0?void 0:t.click()},UV=()=>{var t;return(t=cl())===null||t===void 0?void 0:t.click()},hl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),OA=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},BV=(t,e,n)=>{OA(t),e.toast||(t.keydownHandler=i=>jV(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:qe(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Xg=(t,e)=>{var n;const i=cw();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=qe())===null||n===void 0||n.focus()},NA=["ArrowRight","ArrowDown"],zV=["ArrowLeft","ArrowUp"],jV=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?qV(e,t):e.key==="Tab"?HV(e):[...NA,...zV].includes(e.key)?FV(e.key):e.key==="Escape"&&GV(e,t,n)))},qV=(t,e)=>{if(!Nd(e.allowEnterKey))return;const n=Vd(qe(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;DA(),t.preventDefault()}},HV=t=>{const e=t.target,n=cw();let i=-1;for(let o=0;o<n.length;o++)if(e===n[o]){i=o;break}t.shiftKey?Xg(i,-1):Xg(i,1),t.stopPropagation(),t.preventDefault()},FV=t=>{const e=hc(),n=Ur(),i=Pa(),o=cl();if(!e||!n||!i||!o)return;const u=[n,i,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=NA.includes(t)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let p=0;p<e.children.length;p++){if(m=m[f],!m)return;if(m instanceof HTMLButtonElement&&bn(m))break}m instanceof HTMLButtonElement&&m.focus()}},GV=(t,e,n)=>{t.preventDefault(),Nd(e.allowEscapeKey)&&n(hl.esc)};var Yo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const $V=()=>{const t=pn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},kA=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},PA=typeof window<"u"&&!!window.GestureEvent,KV=()=>{if(PA&&!wi(document.body,Y.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Ge(document.body,Y.iosfix),QV()}},QV=()=>{const t=pn();if(!t)return;let e;t.ontouchstart=n=>{e=YV(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},YV=t=>{const e=t.target,n=pn(),i=ow();return!n||!i||XV(t)||WV(t)?!1:e===n||!Yg(n)&&e instanceof HTMLElement&&!Y4(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Yg(i)&&i.contains(e))},XV=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",WV=t=>t.touches&&t.touches.length>1,ZV=()=>{if(wi(document.body,Y.iosfix)){const t=parseInt(document.body.style.top,10);Zn(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},JV=()=>{const t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Uo=null;const eL=t=>{Uo===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Uo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Uo+JV()}px`)},tL=()=>{Uo!==null&&(document.body.style.paddingRight=`${Uo}px`,Uo=null)};function MA(t,e,n,i){Md()?HE(t,i):(B4(n).then(()=>HE(t,i)),OA(ve)),PA?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),fw()&&(tL(),ZV(),kA()),nL()}function nL(){Zn([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function fs(t){t=iL(t);const e=Yo.swalPromiseResolve.get(this),n=rL(this);this.isAwaitingPromise?t.isDismissed||(pc(this),e(t)):n&&e(t)}const rL=t=>{const e=qe();if(!e)return!1;const n=st.innerParams.get(t);if(!n||wi(e,n.hideClass.popup))return!1;Zn(e,n.showClass.popup),Ge(e,n.hideClass.popup);const i=pn();return Zn(i,n.showClass.backdrop),Ge(i,n.hideClass.backdrop),sL(t,e,n),!0};function VA(t){const e=Yo.swalPromiseReject.get(this);pc(this),e&&e(t)}const pc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,st.innerParams.get(t)||t._destroy())},iL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),sL=(t,e,n)=>{var i;const o=pn(),u=bA(e);typeof n.willClose=="function"&&n.willClose(e),(i=ve.eventEmitter)===null||i===void 0||i.emit("willClose",e),u?aL(t,e,o,n.returnFocus,n.didClose):MA(t,o,n.returnFocus,n.didClose)},aL=(t,e,n,i,o)=>{ve.swalCloseEventFinishedCallback=MA.bind(null,t,n,i,o);const u=function(f){if(f.target===e){var m;(m=ve.swalCloseEventFinishedCallback)===null||m===void 0||m.call(ve),delete ve.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},HE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ve.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Xo=t=>{let e=qe();if(e||new ys,e=qe(),!e)return;const n=fl();Md()?ln(ul()):oL(e,t),Ht(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},oL=(t,e)=>{const n=hc(),i=fl();!n||!i||(!e&&bn(Ur())&&(e=Ur()),Ht(n),e&&(ln(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),Ge([t,n],Y.loading))},lL=(t,e)=>{e.input==="select"||e.input==="radio"?dL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(sw(e.inputValue)||aw(e.inputValue))&&(Xo(Ur()),mL(t,e))},uL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return cL(n);case"radio":return fL(n);case"file":return hL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},cL=t=>t.checked?1:0,fL=t=>t.checked?t.value:null,hL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,dL=(t,e)=>{const n=qe();if(!n)return;const i=o=>{e.input==="select"?pL(n,Wh(o),e):e.input==="radio"&&gL(n,Wh(o),e)};sw(e.inputOptions)||aw(e.inputOptions)?(Xo(Ur()),cc(e.inputOptions).then(o=>{t.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):ka(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},mL=(t,e)=>{const n=t.getInput();n&&(ln(n),cc(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Ht(n),n.focus(),t.hideLoading()}).catch(i=>{ka(`Error in inputValue promise: ${i}`),n.value="",Ht(n),n.focus(),t.hideLoading()}))};function pL(t,e,n){const i=cs(t,Y.select);if(!i)return;const o=(u,f,m)=>{const p=document.createElement("option");p.value=m,Vn(p,f),p.selected=LA(m,n.inputValue),u.appendChild(p)};e.forEach(u=>{const f=u[0],m=u[1];if(Array.isArray(m)){const p=document.createElement("optgroup");p.label=f,p.disabled=!1,i.appendChild(p),m.forEach(g=>o(p,g[1],g[0]))}else o(i,m,f)}),i.focus()}function gL(t,e,n){const i=cs(t,Y.radio);if(!i)return;e.forEach(u=>{const f=u[0],m=u[1],p=document.createElement("input"),g=document.createElement("label");p.type="radio",p.name=Y.radio,p.value=f,LA(f,n.inputValue)&&(p.checked=!0);const w=document.createElement("span");Vn(w,m),w.className=Y.label,g.appendChild(p),g.appendChild(w),i.appendChild(g)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const Wh=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let o=n;typeof o=="object"&&(o=Wh(o)),e.push([i,o])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=Wh(i)),e.push([n,i])}),e},LA=(t,e)=>!!e&&e.toString()===t.toString(),yL=t=>{const e=st.innerParams.get(t);t.disableButtons(),e.input?UA(t,"confirm"):ww(t,!0)},wL=t=>{const e=st.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?UA(t,"deny"):yw(t,!1)},vL=(t,e)=>{t.disableButtons(),e(hl.cancel)},UA=(t,e)=>{const n=st.innerParams.get(t);if(!n.input){ka(`The "input" parameter is needed to be set when using returnInputValueOn${iw(e)}`);return}const i=t.getInput(),o=uL(t,n);n.inputValidator?_L(t,o,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?yw(t,o):ww(t,o)},_L=(t,e,n)=>{const i=st.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>cc(i.inputValidator(e,i.validationMessage))).then(u=>{t.enableButtons(),t.enableInput(),u?t.showValidationMessage(u):n==="deny"?yw(t,e):ww(t,e)})},yw=(t,e)=>{const n=st.innerParams.get(t||void 0);n.showLoaderOnDeny&&Xo(Pa()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>cc(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),pc(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>BA(t||void 0,o))):t.close({isDenied:!0,value:e})},FE=(t,e)=>{t.close({isConfirmed:!0,value:e})},BA=(t,e)=>{t.rejectPromise(e)},ww=(t,e)=>{const n=st.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Xo(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>cc(n.preConfirm(e,n.validationMessage))).then(o=>{bn(kd())||o===!1?(t.hideLoading(),pc(t)):FE(t,typeof o>"u"?e:o)}).catch(o=>BA(t||void 0,o))):FE(t,e)};function Zh(){const t=st.innerParams.get(this);if(!t)return;const e=st.domCache.get(this);ln(e.loader),Md()?t.icon&&Ht(ul()):bL(e),Zn([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const bL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Ht(e[0],"inline-block"):Q4()&&ln(t.actions)};function zA(){const t=st.innerParams.get(this),e=st.domCache.get(this);return e?Vd(e.popup,t.input):null}function jA(t,e,n){const i=st.domCache.get(t);e.forEach(o=>{i[o].disabled=n})}function qA(t,e){const n=qe();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${Y.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else t.disabled=e}function HA(){jA(this,["confirmButton","denyButton","cancelButton"],!1)}function FA(){jA(this,["confirmButton","denyButton","cancelButton"],!0)}function GA(){qA(this.getInput(),!1)}function $A(){qA(this.getInput(),!0)}function KA(t){const e=st.domCache.get(this),n=st.innerParams.get(this);Vn(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&Ge(e.validationMessage,n.customClass.validationMessage),Ht(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",Y["validation-message"]),vA(i),Ge(i,Y.inputerror))}function QA(){const t=st.domCache.get(this);t.validationMessage&&ln(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Zn(e,Y.inputerror))}const Bo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},EL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],TL={allowEnterKey:void 0},SL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],YA=t=>Object.prototype.hasOwnProperty.call(Bo,t),XA=t=>EL.indexOf(t)!==-1,WA=t=>TL[t],AL=t=>{YA(t)||mn(`Unknown parameter "${t}"`)},RL=t=>{SL.includes(t)&&mn(`The parameter "${t}" is incompatible with toasts`)},CL=t=>{const e=WA(t);e&&pA(t,e)},ZA=t=>{t.backdrop===!1&&t.allowOutsideClick&&mn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&mn(`Invalid theme "${t.theme}"`);for(const e in t)AL(e),t.toast&&RL(e),CL(e)};function JA(t){const e=pn(),n=qe(),i=st.innerParams.get(this);if(!n||wi(n,i.hideClass.popup)){mn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=IL(t),u=Object.assign({},i,o);ZA(u),e.dataset.swal2Theme=u.theme,xA(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const IL=t=>{const e={};return Object.keys(t).forEach(n=>{XA(n)?e[n]=t[n]:mn(`Invalid parameter to update: ${n}`)}),e};function e1(){const t=st.domCache.get(this),e=st.innerParams.get(this);if(!e){t1(this);return}t.popup&&ve.swalCloseEventFinishedCallback&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ve.eventEmitter.emit("didDestroy"),xL(this)}const xL=t=>{t1(t),delete t.params,delete ve.keydownHandler,delete ve.keydownTarget,delete ve.currentInstance},t1=t=>{t.isAwaitingPromise?(dg(st,t),t.isAwaitingPromise=!0):(dg(Yo,t),dg(st,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},dg=(t,e)=>{for(const n in t)t[n].delete(e)};var DL=Object.freeze({__proto__:null,_destroy:e1,close:fs,closeModal:fs,closePopup:fs,closeToast:fs,disableButtons:FA,disableInput:$A,disableLoading:Zh,enableButtons:HA,enableInput:GA,getInput:zA,handleAwaitingPromise:pc,hideLoading:Zh,rejectPromise:VA,resetValidationMessage:QA,showValidationMessage:KA,update:JA});const OL=(t,e,n)=>{t.toast?NL(t,e,n):(PL(e),ML(e),VL(t,e,n))},NL=(t,e,n)=>{e.popup.onclick=()=>{t&&(kL(t)||t.timer||t.input)||n(hl.close)}},kL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Jh=!1;const PL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Jh=!0)}}},ML=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Jh=!0)}}},VL=(t,e,n)=>{e.container.onclick=i=>{if(Jh){Jh=!1;return}i.target===e.container&&Nd(t.allowOutsideClick)&&n(hl.backdrop)}},LL=t=>typeof t=="object"&&t.jquery,GE=t=>t instanceof Element||LL(t),UL=t=>{const e={};return typeof t[0]=="object"&&!GE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const o=t[i];typeof o=="string"||GE(o)?e[n]=o:o!==void 0&&ka(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function BL(...t){return new this(...t)}function zL(t){class e extends this{_main(i,o){return super._main(i,Object.assign({},t,o))}}return e}const jL=()=>ve.timeout&&ve.timeout.getTimerLeft(),n1=()=>{if(ve.timeout)return X4(),ve.timeout.stop()},r1=()=>{if(ve.timeout){const t=ve.timeout.start();return dw(t),t}},qL=()=>{const t=ve.timeout;return t&&(t.running?n1():r1())},HL=t=>{if(ve.timeout){const e=ve.timeout.increase(t);return dw(e,!0),e}},FL=()=>!!(ve.timeout&&ve.timeout.isRunning());let $E=!1;const Wg={};function GL(t="data-swal-template"){Wg[t]=this,$E||(document.body.addEventListener("click",$L),$E=!0)}const $L=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Wg){const i=e.getAttribute(n);if(i){Wg[n].fire({template:i});return}}};class KL{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){const i=(...o)=>{this.removeListener(e,i),n.apply(this,o)};this.on(e,i)}emit(e,...n){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),o=i.indexOf(n);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ve.eventEmitter=new KL;const QL=(t,e)=>{ve.eventEmitter.on(t,e)},YL=(t,e)=>{ve.eventEmitter.once(t,e)},XL=(t,e)=>{if(!t){ve.eventEmitter.reset();return}e?ve.eventEmitter.removeListener(t,e):ve.eventEmitter.removeAllListeners(t)};var WL=Object.freeze({__proto__:null,argsToParams:UL,bindClickHandler:GL,clickCancel:UV,clickConfirm:DA,clickDeny:LV,enableLoading:Xo,fire:BL,getActions:hc,getCancelButton:cl,getCloseButton:uw,getConfirmButton:Ur,getContainer:pn,getDenyButton:Pa,getFocusableElements:cw,getFooter:wA,getHtmlContainer:ow,getIcon:ul,getIconContent:H4,getImage:yA,getInputLabel:F4,getLoader:fl,getPopup:qe,getProgressSteps:lw,getTimerLeft:jL,getTimerProgressBar:Pd,getTitle:gA,getValidationMessage:kd,increaseTimer:HL,isDeprecatedParameter:WA,isLoading:$4,isTimerRunning:FL,isUpdatableParameter:XA,isValidParameter:YA,isVisible:VV,mixin:zL,off:XL,on:QL,once:YL,resumeTimer:r1,showLoading:Xo,stopTimer:n1,toggleTimer:qL});class ZL{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const i1=["swal-title","swal-html","swal-footer"],JL=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return o3(n),Object.assign(e3(n),t3(n),n3(n),r3(n),i3(n),s3(n),a3(n,i1))},e3=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Ra(i,["name","value"]);const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(typeof Bo[o]=="boolean"?e[o]=u!=="false":typeof Bo[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},t3=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},n3=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Ra(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${iw(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},r3=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ra(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},i3=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ra(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},s3=t=>{const e={},n=t.querySelector("swal-input");n&&(Ra(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Ra(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},a3=(t,e)=>{const n={};for(const i in e){const o=e[i],u=t.querySelector(o);u&&(Ra(u,[]),n[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return n},o3=t=>{const e=i1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||mn(`Unrecognized element <${i}>`)})},Ra=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&mn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},s1=10,l3=t=>{const e=pn(),n=qe();typeof t.willOpen=="function"&&t.willOpen(n),ve.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;f3(e,n,t),setTimeout(()=>{u3(e,n)},s1),fw()&&(c3(e,t.scrollbarPadding,o),$V()),!Md()&&!ve.previousActiveElement&&(ve.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ve.eventEmitter.emit("didOpen",n),Zn(e,Y["no-transition"])},ed=t=>{const e=qe();if(t.target!==e)return;const n=pn();e.removeEventListener("animationend",ed),e.removeEventListener("transitionend",ed),n.style.overflowY="auto"},u3=(t,e)=>{bA(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",ed),e.addEventListener("transitionend",ed)):t.style.overflowY="auto"},c3=(t,e,n)=>{KV(),e&&n!=="hidden"&&eL(n),setTimeout(()=>{t.scrollTop=0})},f3=(t,e,n)=>{Ge(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Ht(e,"grid"),setTimeout(()=>{Ge(e,n.showClass.popup),e.style.removeProperty("opacity")},s1)):Ht(e,"grid"),Ge([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ge([document.documentElement,document.body],Y["height-auto"])};var KE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function h3(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=KE.email),t.input==="url"&&(t.inputValidator=KE.url))}function d3(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(mn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function m3(t){h3(t),t.showLoaderOnConfirm&&!t.preConfirm&&mn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),d3(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),iV(t)}let Cr;var Xf=new WeakMap;class Et{constructor(...e){if(M4(this,Xf,void 0),typeof window>"u")return;Cr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,V4(Xf,this,this._main(Cr.params))}_main(e,n={}){if(ZA(Object.assign({},n,e)),ve.currentInstance){const u=Yo.swalPromiseResolve.get(ve.currentInstance),{isAwaitingPromise:f}=ve.currentInstance;ve.currentInstance._destroy(),f||u({isDismissed:!0}),fw()&&kA()}ve.currentInstance=Cr;const i=g3(e,n);m3(i),Object.freeze(i),ve.timeout&&(ve.timeout.stop(),delete ve.timeout),clearTimeout(ve.restoreFocusTimeout);const o=y3(Cr);return xA(Cr,i),st.innerParams.set(Cr,i),p3(Cr,o,i)}then(e){return LE(Xf,this).then(e)}finally(e){return LE(Xf,this).finally(e)}}const p3=(t,e,n)=>new Promise((i,o)=>{const u=f=>{t.close({isDismissed:!0,dismiss:f})};Yo.swalPromiseResolve.set(t,i),Yo.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{yL(t)},e.denyButton.onclick=()=>{wL(t)},e.cancelButton.onclick=()=>{vL(t,u)},e.closeButton.onclick=()=>{u(hl.close)},OL(n,e,u),BV(ve,n,u),lL(t,n),l3(n),w3(ve,n,u),v3(e,n),setTimeout(()=>{e.container.scrollTop=0})}),g3=(t,e)=>{const n=JL(t),i=Object.assign({},Bo,e,n,t);return i.showClass=Object.assign({},Bo.showClass,i.showClass),i.hideClass=Object.assign({},Bo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},y3=t=>{const e={popup:qe(),container:pn(),actions:hc(),confirmButton:Ur(),denyButton:Pa(),cancelButton:cl(),loader:fl(),closeButton:uw(),validationMessage:kd(),progressSteps:lw()};return st.domCache.set(t,e),e},w3=(t,e,n)=>{const i=Pd();ln(i),e.timer&&(t.timeout=new ZL(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Ht(i),Pn(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&dw(e.timer)})))},v3=(t,e)=>{if(!e.toast){if(!Nd(e.allowEnterKey)){pA("allowEnterKey"),E3();return}_3(t)||b3(t,e)||Xg(-1,1)}},_3=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&bn(n))return n.focus(),!0;return!1},b3=(t,e)=>e.focusDeny&&bn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&bn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&bn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,E3=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Et.prototype.disableButtons=FA;Et.prototype.enableButtons=HA;Et.prototype.getInput=zA;Et.prototype.disableInput=$A;Et.prototype.enableInput=GA;Et.prototype.hideLoading=Zh;Et.prototype.disableLoading=Zh;Et.prototype.showValidationMessage=KA;Et.prototype.resetValidationMessage=QA;Et.prototype.close=fs;Et.prototype.closePopup=fs;Et.prototype.closeModal=fs;Et.prototype.closeToast=fs;Et.prototype.rejectPromise=VA;Et.prototype.update=JA;Et.prototype._destroy=e1;Object.assign(Et,WL);Object.keys(DL).forEach(t=>{Et[t]=function(...e){return Cr&&Cr[t]?Cr[t](...e):null}});Et.DismissReason=hl;Et.version="11.23.0";const ys=Et;ys.default=ys;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const T3=({title:t,price:e,question:n,answer:i,onClose:o})=>{const[u,f]=K.useState(!1),[m,p]=K.useState(!1),g=Jo(),w=Wn(q=>q.userLayer.id),b=Wn(q=>q.score.scores.score);K.useEffect(()=>{const q=U=>{U.key==="Escape"&&o()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[o]);const S=q=>{q.target===q.currentTarget&&o()};function D(q){if(!w){ys.fire({icon:"info",title:"Гостевой режим",html:`
                    <p class="mb-3">Сохранение очков доступно только для авторизованных пользователей.</p>
                    <a href="/quiz-game/" 
                       class="px-4 py-2 inline-block rounded-lg bg-yellow-400 text-black font-bold hover:bg-yellow-500 transition">
                        Залогиниться
                    </a>
                `,showConfirmButton:!1,background:"#1a1a4f",color:"#fff"});return}g(fh({price:q,oldScore:b,id:w}))}async function V(q){m||(p(!0),g(fA({title:t,price:e,result:q})),w&&g(hh({userId:w,answer:{title:t,price:e,question:n,result:q,answeredAt:Date.now()}})),D(q==="correct"?e:-e),p(!1),o())}return G.jsx("div",{className:"modal-backdrop",onClick:S,role:"dialog","aria-modal":"true","aria-labelledby":"q-title",children:G.jsxs("div",{className:"modal-card animate-fade-in-up",children:[G.jsx("h1",{id:"q-title",className:"font-display text-3xl mb-2 text-white",children:t}),G.jsxs("h2",{className:"text-amber-300 mb-4",children:[e," scores"]}),G.jsx("p",{className:"text-lg mb-6",children:n}),u?G.jsxs("div",{className:"space-y-5",children:[G.jsx("p",{className:"mt-1 text-xl text-green-300",children:i}),G.jsx("div",{className:"flex items-center justify-center w-full opacity-80",children:"User answered correctly?"}),G.jsxs("div",{className:"flex justify-center gap-3",children:[G.jsx("button",{className:"btn-yellow disabled:opacity-60",disabled:m,onClick:()=>V("correct"),children:"YES"}),G.jsx("button",{className:"btn-ghost disabled:opacity-60",disabled:m,onClick:()=>V("wrong"),children:"NO"})]})]}):G.jsx("button",{onClick:()=>f(!0),className:"btn-yellow",children:"Show answer"})]})})},S3=()=>{const[t,e]=K.useState(null),n=()=>e(null),i=Jo(),o=Wn(g=>g.topics.topics),u=Wn(g=>g.topics.answeredStatusByTitleAndPrice),f=Wn(g=>g.userLayer.id),m=K.useRef(0),p=K.useRef(!1);return K.useEffect(()=>{i(Qg()).then(g=>{Array.isArray(g.payload)&&g.payload.length===0?i(I4()).then(()=>i(Qg())).then(w=>{Array.isArray(w.payload)&&i(cg(w.payload))}):Array.isArray(g.payload)&&i(cg(g.payload))})},[i]),K.useEffect(()=>{(async()=>{if(!f)return;const w=Id(Na(Ii,"answersHistory"),Bh("userId","==",f));(await ac(w)).forEach(S=>{const D=S.data();i(fA({title:D.title,price:D.price,result:D.result}))})})()},[f,i]),K.useEffect(()=>{if(!o.length)return;const g=o.length*5;let w=0;Object.values(u).forEach(b=>{w+=Object.keys(b).length}),w===g&&m.current<g&&!p.current&&(p.current=!0,ys.fire({icon:"success",title:"Игра завершена!",text:"Все вопросы отвечены. Начинаем новую игру 🎉",confirmButtonText:"Ок",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#22c55e"}).then(()=>{i(x4()),i(cg(o)),p.current=!1,m.current=0})),m.current=w},[u,o,i]),G.jsx("div",{className:"w-full",children:G.jsxs("div",{className:"game",children:[!t&&G.jsx(MI,{topics:o,onQuestionClick:e}),t&&G.jsx(T3,{title:t.title,price:t.price,question:t.question,answer:t.answer,onClose:n})]})})},A3={id:null,login:null,score:0,loading:!1,error:null,isGuest:!1},mh=Ia("userData/save",async({login:t,password:e},n)=>{try{return{id:(await DS(Na(Ii,"users"),{login:t,password:e,score:0})).id,login:t,password:e,score:0}}catch(i){return n.rejectWithValue(i.message)}}),ph=Ia("userData/checkExist",async({login:t,password:e},n)=>{try{const i=Id(Na(Ii,"users"),Bh("login","==",t),Bh("password","==",e)),o=await ac(i);if(o.empty)throw new Error("User not found or wrong password");const u=o.docs[0],f=u.data();return{id:u.id,login:f.login,password:f.password,score:f.score}}catch(i){return n.rejectWithValue(i.message)}}),a1=ud({name:"userData",initialState:A3,reducers:{changeId:(t,e)=>{t.id=e.payload},changeLogin:(t,e)=>{t.login=e.payload},changeScore:(t,e)=>{t.score=e.payload},setGuest:t=>{t.id=null,t.login="Guest",t.score=0,t.isGuest=!0,localStorage.setItem("guest","true"),localStorage.removeItem("userId")},logout:t=>{t.id=null,t.login="Guest",t.score=0,t.error=null,t.isGuest=!0,localStorage.setItem("guest","true"),localStorage.removeItem("userId")}},extraReducers:t=>{t.addCase(mh.pending,e=>{e.loading=!0,e.error=null}).addCase(mh.fulfilled,(e,n)=>{e.loading=!1,e.id=n.payload.id,e.login=n.payload.login,e.score=0,e.isGuest=!1,localStorage.setItem("userId",n.payload.id),localStorage.removeItem("guest")}).addCase(mh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ph.pending,e=>{e.loading=!0,e.error=null}).addCase(ph.fulfilled,(e,n)=>{e.loading=!1,n.payload&&(e.id=n.payload.id,e.login=n.payload.login,e.score=n.payload.score??0,e.isGuest=!1,localStorage.setItem("userId",n.payload.id),localStorage.removeItem("guest"))}).addCase(ph.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{changeId:R3,changeLogin:C3,changeScore:I3,logout:_6,setGuest:x3}=a1.actions,D3=a1.reducer,QE=()=>{const t=Jo(),e=rd(),n=K.useRef(null),i=K.useRef(null),o=async()=>{const f=n.current.value.trim(),m=i.current.value.trim();if(!f||!m){ys.fire({icon:"warning",title:"Заполните все поля!",confirmButtonText:"Ок",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#facc15"});return}try{const p=await t(ph({login:f,password:m})).unwrap();typeof p?.score=="number"&&(t(I3(p.score)),ys.fire({icon:"success",title:"Добро пожаловать!",text:`Приятной игры, ${f}!`,confirmButtonText:"Играть",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#22c55e"}).then(()=>{e("/game")}))}catch{ys.fire({icon:"error",title:"Ошибка входа",text:"Неверный логин или пароль",confirmButtonText:"Попробовать снова",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#ef4444"})}},u=f=>{f.preventDefault(),t(x3()),setTimeout(()=>{e("/game")},0)};return G.jsx("div",{className:"game-shell flex flex-col items-center gap-6",children:G.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[G.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Sign in"}),G.jsxs("label",{className:"block mb-4",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),G.jsx("input",{id:"login-input",className:"input-glass",type:"text",ref:n,placeholder:"Your nickname"})]}),G.jsxs("label",{className:"block mb-6",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),G.jsx("input",{id:"password-input",className:"input-glass",type:"password",ref:i,placeholder:"••••••••"})]}),G.jsxs("div",{className:"flex flex-col gap-3",children:[G.jsx("button",{className:"btn-yellow",onClick:o,children:"Sign in"}),G.jsx("button",{className:"btn-ghost",onClick:u,children:"Sign in as a guest"}),G.jsx(ma,{to:"/register",className:"btn-ghost text-center",children:"Go to registration"})]})]})})},O3=()=>{const t=Jo(),e=rd(),n=K.useRef(null),i=K.useRef(null),o=async()=>{const u=n.current.value.trim(),f=i.current.value.trim();if(!u||!f){alert("Please fill in all fields");return}try{await t(mh({login:u,password:f})).unwrap(),e("/game")}catch(m){console.error("Registration failed:",m),alert("Registration failed: "+m)}};return G.jsx("div",{className:"game-shell flex flex-col items-center justify-center gap-6",children:G.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[G.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Registration"}),G.jsxs("label",{className:"block mb-4",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),G.jsx("input",{className:"input-glass",type:"text",ref:n,placeholder:"Your nickname"})]}),G.jsxs("label",{className:"block mb-6",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),G.jsx("input",{className:"input-glass",type:"password",ref:i,placeholder:"••••••••"})]}),G.jsxs("div",{className:"flex flex-col gap-3",children:[G.jsx("button",{className:"btn-yellow",onClick:o,children:"Register"}),G.jsx(ma,{to:"/login",className:"btn-ghost text-center",children:"Go to Login"})]})]})})},N3=()=>{const t=Jo(),e=Wn(u=>u.userLayer.id),{items:n,loading:i,error:o}=Wn(u=>u.answers);return K.useEffect(()=>{e&&t(dh({userId:e}))},[t,e]),e?i?G.jsx("div",{className:"p-6 text-center",children:"Loading..."}):o?G.jsxs("div",{className:"p-6 text-center text-red-400",children:["Error loading history: ",o]}):n.length?G.jsxs("div",{className:"w-full max-w-4xl bg-[#0c0f2f]/60 backdrop-blur-md rounded-xl p-6 shadow-md",children:[G.jsx("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"📜 Answers History"}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"w-full text-left border-collapse",children:[G.jsx("thead",{children:G.jsxs("tr",{className:"bg-[#1a1a4f]",children:[G.jsx("th",{className:"px-4 py-2",children:"#"}),G.jsx("th",{className:"px-4 py-2",children:"Topic"}),G.jsx("th",{className:"px-4 py-2",children:"Question"}),G.jsx("th",{className:"px-4 py-2",children:"Result"}),G.jsx("th",{className:"px-4 py-2",children:"Score"}),G.jsx("th",{className:"px-4 py-2",children:"Date"})]})}),G.jsx("tbody",{children:n.map((u,f)=>G.jsxs("tr",{className:`border-b border-white/10 ${u.result==="correct"?"text-green-400":"text-red-400"}`,children:[G.jsx("td",{className:"px-4 py-2",children:f+1}),G.jsx("td",{className:"px-4 py-2",children:u.title}),G.jsx("td",{className:"px-4 py-2",children:u.question}),G.jsx("td",{className:"px-4 py-2 capitalize",children:u.result}),G.jsx("td",{className:"px-4 py-2",children:u.price}),G.jsx("td",{className:"px-4 py-2",children:new Date(u.answeredAt).toLocaleString()})]},f))})]})})]}):G.jsx("div",{className:"p-6 text-center text-gray-400",children:"No answers yet."}):G.jsx("div",{className:"p-6 text-center text-red-400",children:"Please log in to see your answers history."})},k3=()=>{const[t,e]=K.useState([]),[n,i]=K.useState(!0),o=rd();return K.useEffect(()=>{(async()=>{try{const f=Id(Na(Ii,"users"),RS("score","desc")),p=(await ac(f)).docs.map(g=>({id:g.id,login:g.data().login,score:g.data().score??0}));e(p)}catch(f){console.error("Error loading leaderboard:",f)}finally{i(!1)}})()},[]),n?G.jsx("div",{className:"text-center text-yellow-300 mt-10",children:"Loading leaderboard..."}):G.jsxs("div",{className:"w-full max-w-4xl mx-auto px-3",children:[G.jsx("div",{className:"flex justify-center mb-4",children:G.jsx("button",{onClick:()=>o("/game"),className:"px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-black font-bold rounded-lg shadow-md",children:"⬅ Back to Game"})}),G.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center flex items-center justify-center gap-2",children:"🏆 Leaderboard"}),G.jsx("div",{className:"hidden md:block overflow-x-auto",children:G.jsxs("table",{className:"min-w-full bg-[#0f0f3d] rounded-xl overflow-hidden shadow-lg",children:[G.jsx("thead",{children:G.jsxs("tr",{className:"bg-[#1e1e5c] text-yellow-400 text-left",children:[G.jsx("th",{className:"px-4 py-3",children:"#"}),G.jsx("th",{className:"px-4 py-3",children:"Login"}),G.jsx("th",{className:"px-4 py-3 text-right",children:"Score"})]})}),G.jsx("tbody",{children:t.map((u,f)=>{let m=f%2===0?"bg-[#15154a]":"bg-[#10103b]",p="";return f===0?(m="bg-yellow-500/20 text-yellow-300 font-bold",p="🥇"):f===1?(m="bg-gray-400/20 text-gray-200 font-semibold",p="🥈"):f===2&&(m="bg-amber-700/20 text-amber-300 font-medium",p="🥉"),G.jsxs("tr",{className:`border-t border-[#2a2a6e] ${m}`,children:[G.jsx("td",{className:"px-4 py-3",children:p||f+1}),G.jsx("td",{className:"px-4 py-3",children:u.login}),G.jsx("td",{className:"px-4 py-3 text-right",children:u.score})]},u.id)})})]})}),G.jsx("div",{className:"md:hidden grid gap-3",children:t.map((u,f)=>{let m="",p="bg-[#1a1a4f]";return f===0?(m="🥇",p="bg-yellow-500/20 text-yellow-300"):f===1?(m="🥈",p="bg-gray-400/20 text-gray-200"):f===2&&(m="🥉",p="bg-amber-700/20 text-amber-300"),G.jsxs("div",{className:`${p} p-4 rounded-lg shadow-md flex justify-between items-center`,children:[G.jsxs("div",{children:[G.jsx("div",{className:"text-yellow-400 font-bold",children:m||`#${f+1}`}),G.jsx("div",{className:"font-semibold",children:u.login})]}),G.jsx("div",{className:"text-lg font-bold",children:u.score})]},u.id)})})]})},YE=()=>{const t=Wn(e=>e.score.scores.score);return G.jsx("div",{className:"header-chip",children:G.jsxs("div",{className:"flex items-baseline gap-2",children:[G.jsx("span",{className:"opacity-80",children:"Score"}),G.jsx("span",{className:"text-2xl font-extrabold text-yellow-300",children:t})]})})},XE=()=>{const t=Jo(),e=Wn(m=>m.userLayer.id),n=Wn(m=>m.userLayer.login||"Guest"),i="/quiz-game/",o=window.location.pathname===i,u=!e&&n==="Guest"||!e&&localStorage.getItem("guest")==="true",f=()=>{localStorage.removeItem("userId"),localStorage.setItem("guest","true"),t(R3("")),t(C3("Guest")),t(S4(0)),window.location.href=i};return G.jsxs("div",{className:"flex flex-col items-center gap-2",children:[G.jsxs("div",{className:"text-yellow-400 font-semibold text-center",children:["Nickname:",G.jsx("div",{className:"text-white font-normal mt-1",children:n})]}),e?G.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white transition",onClick:f,children:"Logout"}):u&&!o&&G.jsx("button",{className:"px-4 py-2 rounded-lg bg-yellow-400 hover:bg-yellow-500 text-black font-bold transition",onClick:()=>window.location.href=i,children:"Go to Login Page"})]})},P3=()=>{const[t,e]=K.useState(!1);return G.jsxs("header",{className:"sticky top-0 z-50 w-full bg-[#0c0f2f]/90 backdrop-blur-md shadow-md",children:[G.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between px-6 py-4",children:[G.jsx("h1",{className:"text-2xl md:text-3xl font-display title-gradient",children:"Quiz Game"}),G.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-lg",children:[G.jsx(ma,{to:"/history",className:"nav-link",children:"📜 History"}),G.jsx(ma,{to:"/leaderboard",className:"nav-link",children:"🏆 Leaderboard"}),G.jsx(YE,{}),G.jsx(XE,{})]}),G.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-yellow-400 text-3xl",children:"☰"})]}),t&&G.jsxs("div",{className:"md:hidden bg-[#1a1a4f]/95 backdrop-blur-md flex flex-col items-center gap-4 py-6",children:[G.jsx(ma,{to:"/history",className:"nav-link",onClick:()=>e(!1),children:"📜 History"}),G.jsx(ma,{to:"/leaderboard",className:"nav-link",onClick:()=>e(!1),children:"🏆 Leaderboard"}),G.jsx(YE,{}),G.jsx(XE,{})]})]})},M3=()=>G.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1a1a4f] to-[#000032] text-white flex flex-col",children:[G.jsx(P3,{}),G.jsx("div",{className:"flex-1 p-6 mt-8 flex flex-col items-center gap-6",children:G.jsxs(PC,{children:[G.jsx(fa,{path:"/game",element:G.jsx(S3,{})}),G.jsx(fa,{path:"/register",element:G.jsx(O3,{})}),G.jsx(fa,{path:"/",element:G.jsx(QE,{})}),G.jsx(fa,{path:"/login",element:G.jsx(QE,{})}),G.jsx(fa,{path:"/history",element:G.jsx(N3,{})}),G.jsx(fa,{path:"/leaderboard",element:G.jsx(k3,{})})]})})]});var Su={},Wf={},Zf={},WE;function V3(){if(WE)return Zf;WE=1,Zf.__esModule=!0,Zf.default=o;function t(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(u)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function i(u){if((typeof self>"u"?"undefined":t(self))!=="object"||!(u in self))return!1;try{var f=self[u],m="redux-persist ".concat(u," test");f.setItem(m,"test"),f.getItem(m),f.removeItem(m)}catch{return!1}return!0}function o(u){var f="".concat(u,"Storage");return i(f)?self[f]:n}return Zf}var ZE;function L3(){if(ZE)return Wf;ZE=1,Wf.__esModule=!0,Wf.default=n;var t=e(V3());function e(i){return i&&i.__esModule?i:{default:i}}function n(i){var o=(0,t.default)(i);return{getItem:function(f){return new Promise(function(m,p){m(o.getItem(f))})},setItem:function(f,m){return new Promise(function(p,g){p(o.setItem(f,m))})},removeItem:function(f){return new Promise(function(m,p){m(o.removeItem(f))})}}}return Wf}var JE;function U3(){if(JE)return Su;JE=1,Su.__esModule=!0,Su.default=void 0;var t=e(L3());function e(i){return i&&i.__esModule?i:{default:i}}var n=(0,t.default)("local");return Su.default=n,Su}var B3=U3();const z3=PR(B3);var vw="persist:",_w="persist/FLUSH",Ld="persist/REHYDRATE",bw="persist/PAUSE",Ew="persist/PERSIST",Tw="persist/PURGE",Sw="persist/REGISTER",j3=-1;function gh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gh=function(n){return typeof n}:gh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gh(t)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(n,!0).forEach(function(i){H3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function H3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F3(t,e,n,i){i.debug;var o=q3({},n);return t&&gh(t)==="object"&&Object.keys(t).forEach(function(u){u!=="_persist"&&e[u]===n[u]&&(o[u]=t[u])}),o}function G3(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],o=t.throttle||0,u="".concat(t.keyPrefix!==void 0?t.keyPrefix:vw).concat(t.key),f=t.storage,m;t.serialize===!1?m=function(ie){return ie}:typeof t.serialize=="function"?m=t.serialize:m=$3;var p=t.writeFailHandler||null,g={},w={},b=[],S=null,D=null,V=function(ie){Object.keys(ie).forEach(function(he){$(he)&&g[he]!==ie[he]&&b.indexOf(he)===-1&&b.push(he)}),Object.keys(g).forEach(function(he){ie[he]===void 0&&$(he)&&b.indexOf(he)===-1&&g[he]!==void 0&&b.push(he)}),S===null&&(S=setInterval(q,o)),g=ie};function q(){if(b.length===0){S&&clearInterval(S),S=null;return}var ae=b.shift(),ie=i.reduce(function(he,x){return x.in(he,ae,g)},g[ae]);if(ie!==void 0)try{w[ae]=m(ie)}catch(he){console.error("redux-persist/createPersistoid: error serializing state",he)}else delete w[ae];b.length===0&&U()}function U(){Object.keys(w).forEach(function(ae){g[ae]===void 0&&delete w[ae]}),D=f.setItem(u,m(w)).catch(se)}function $(ae){return!(n&&n.indexOf(ae)===-1&&ae!=="_persist"||e&&e.indexOf(ae)!==-1)}function se(ae){p&&p(ae)}var X=function(){for(;b.length!==0;)q();return D||Promise.resolve()};return{update:V,flush:X}}function $3(t){return JSON.stringify(t)}function K3(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:vw).concat(t.key),i=t.storage;t.debug;var o;return t.deserialize===!1?o=function(f){return f}:typeof t.deserialize=="function"?o=t.deserialize:o=Q3,i.getItem(n).then(function(u){if(u)try{var f={},m=o(u);return Object.keys(m).forEach(function(p){f[p]=e.reduceRight(function(g,w){return w.out(g,p,m)},o(m[p]))}),f}catch(p){throw p}else return})}function Q3(t){return JSON.parse(t)}function Y3(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:vw).concat(t.key);return e.removeItem(n,X3)}function X3(t){}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tT(n,!0).forEach(function(i){W3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function W3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z3(t,e){if(t==null)return{};var n=J3(t,e),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(o=0;o<u.length;o++)i=u[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function J3(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,u;for(u=0;u<i.length;u++)o=i[u],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var e6=5e3;function t6(t,e){var n=t.version!==void 0?t.version:j3;t.debug;var i=t.stateReconciler===void 0?F3:t.stateReconciler,o=t.getStoredState||K3,u=t.timeout!==void 0?t.timeout:e6,f=null,m=!1,p=!0,g=function(b){return b._persist.rehydrated&&f&&!p&&f.update(b),b};return function(w,b){var S=w||{},D=S._persist,V=Z3(S,["_persist"]),q=V;if(b.type===Ew){var U=!1,$=function(A,R){U||(b.rehydrate(t.key,A,R),U=!0)};if(u&&setTimeout(function(){!U&&$(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},u),p=!1,f||(f=G3(t)),D)return hi({},e(q,b),{_persist:D});if(typeof b.rehydrate!="function"||typeof b.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return b.register(t.key),o(t).then(function(x){var A=t.migrate||function(R,k){return Promise.resolve(R)};A(x,n).then(function(R){$(R)},function(R){$(void 0,R)})},function(x){$(void 0,x)}),hi({},e(q,b),{_persist:{version:n,rehydrated:!1}})}else{if(b.type===Tw)return m=!0,b.result(Y3(t)),hi({},e(q,b),{_persist:D});if(b.type===_w)return b.result(f&&f.flush()),hi({},e(q,b),{_persist:D});if(b.type===bw)p=!0;else if(b.type===Ld){if(m)return hi({},q,{_persist:hi({},D,{rehydrated:!0})});if(b.key===t.key){var se=e(q,b),X=b.payload,ae=i!==!1&&X!==void 0?i(X,w,se,t):se,ie=hi({},ae,{_persist:hi({},D,{rehydrated:!0})});return g(ie)}}}if(!D)return e(w,b);var he=e(q,b);return he===q?w:g(hi({},he,{_persist:D}))}}function nT(t){return i6(t)||r6(t)||n6()}function n6(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r6(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function i6(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(n,!0).forEach(function(i){s6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function s6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o1={registry:[],bootstrapped:!1},a6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o1,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Sw:return Zg({},e,{registry:[].concat(nT(e.registry),[n.key])});case Ld:var i=e.registry.indexOf(n.key),o=nT(e.registry);return o.splice(i,1),Zg({},e,{registry:o,bootstrapped:o.length===0});default:return e}};function o6(t,e,n){var i=ly(a6,o1,void 0),o=function(p){i.dispatch({type:Sw,key:p})},u=function(p,g,w){var b={type:Ld,payload:g,err:w,key:p};t.dispatch(b),i.dispatch(b)},f=Zg({},i,{purge:function(){var p=[];return t.dispatch({type:Tw,result:function(w){p.push(w)}}),Promise.all(p)},flush:function(){var p=[];return t.dispatch({type:_w,result:function(w){p.push(w)}}),Promise.all(p)},pause:function(){t.dispatch({type:bw})},persist:function(){t.dispatch({type:Ew,register:o,rehydrate:u})}});return f.persist(),f}const l6=TT({userLayer:D3,score:A4,topics:D4,answers:k4}),u6=(t,e)=>(e.type==="LOGOUT"&&(t=void 0),l6(t,e)),c6={key:"root",storage:z3,whitelist:["userLayer","score","topics","answers"]},f6=t6(c6,u6),l1=ax({reducer:f6,middleware:t=>t({serializableCheck:{ignoredActions:[_w,Ld,bw,Ew,Tw,Sw]}})}),h6=o6(l1);function yh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yh=function(n){return typeof n}:yh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yh(t)}function d6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m6(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p6(t,e,n){return e&&m6(t.prototype,e),t}function g6(t,e){return e&&(yh(e)==="object"||typeof e=="function")?e:wh(t)}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(t)}function wh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ey(t,e)}function ey(t,e){return ey=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},ey(t,e)}function vh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u1=function(t){y6(e,t);function e(){var n,i;d6(this,e);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=g6(this,(n=Jg(e)).call.apply(n,[this].concat(u))),vh(wh(i),"state",{bootstrapped:!1}),vh(wh(i),"_unsubscribe",void 0),vh(wh(i),"handlePersistorState",function(){var m=i.props.persistor,p=m.getState(),g=p.bootstrapped;g&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return p6(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(K.PureComponent);vh(u1,"defaultProps",{children:null,loading:null});const w6="/quiz-game/";FR.createRoot(document.getElementById("root")).render(G.jsx(K.StrictMode,{children:G.jsx(II,{store:l1,children:G.jsx(u1,{loading:null,persistor:h6,children:G.jsx(rI,{basename:w6,children:G.jsx(M3,{})})})})}));
