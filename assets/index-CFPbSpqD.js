(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function LR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lp={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function UR(){if(V0)return Eu;V0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:t,type:i,key:h,ref:o!==void 0?o:null,props:u}}return Eu.Fragment=e,Eu.jsx=n,Eu.jsxs=n,Eu}var L0;function BR(){return L0||(L0=1,Lp.exports=UR()),Lp.exports}var H=BR(),Up={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function jR(){if(U0)return Ie;U0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function U(O,re,ce){this.props=O,this.context=re,this.refs=q,this.updater=ce||D}U.prototype.isReactComponent={},U.prototype.setState=function(O,re){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,re,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=U.prototype;function se(O,re,ce){this.props=O,this.context=re,this.refs=q,this.updater=ce||D}var X=se.prototype=new $;X.constructor=se,V(X,U.prototype),X.isPureReactComponent=!0;var ae=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function x(O,re,ce,oe,we,De){return ce=De.ref,{$$typeof:t,type:O,key:re,ref:ce!==void 0?ce:null,props:De}}function A(O,re){return x(O.type,re,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function k(O){var re={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return re[ce]})}var P=/\/+/g;function L(O,re){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):re.toString(36)}function I(){}function Ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(re){O.status==="pending"&&(O.status="fulfilled",O.value=re)},function(re){O.status==="pending"&&(O.status="rejected",O.reason=re)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,re,ce,oe,we){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=O._init,ft(Ae(O._payload),re,ce,oe,we)}}if(Ae)return we=we(O),Ae=oe===""?"."+L(O,0):oe,ae(we)?(ce="",Ae!=null&&(ce=Ae.replace(P,"$&/")+"/"),ft(we,re,ce,"",function(cr){return cr})):we!=null&&(R(we)&&(we=A(we,ce+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(P,"$&/")+"/")+Ae)),re.push(we)),1;Ae=0;var Vt=oe===""?".":oe+":";if(ae(O))for(var nt=0;nt<O.length;nt++)oe=O[nt],De=Vt+L(oe,nt),Ae+=ft(oe,re,ce,De,we);else if(nt=S(O),typeof nt=="function")for(O=nt.call(O),nt=0;!(oe=O.next()).done;)oe=oe.value,De=Vt+L(oe,nt++),Ae+=ft(oe,re,ce,De,we);else if(De==="object"){if(typeof O.then=="function")return ft(Ft(O),re,ce,oe,we);throw re=String(O),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(O,re,ce){if(O==null)return O;var oe=[],we=0;return ft(O,oe,"","",function(De){return re.call(ce,De,we++)}),oe}function ue(O){if(O._status===-1){var re=O._result;re=re(),re.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=re)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function He(){}return Ie.Children={map:W,forEach:function(O,re,ce){W(O,function(){re.apply(this,arguments)},ce)},count:function(O){var re=0;return W(O,function(){re++}),re},toArray:function(O){return W(O,function(re){return re})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=se,Ie.StrictMode=i,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ie.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cloneElement=function(O,re,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=V({},O.props),we=O.key,De=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(we=""+re.key),re)!fe.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(oe[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ce;else if(1<Ae){for(var Vt=Array(Ae),nt=0;nt<Ae;nt++)Vt[nt]=arguments[nt+2];oe.children=Vt}return x(O.type,we,void 0,void 0,De,oe)},Ie.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,re,ce){var oe,we={},De=null;if(re!=null)for(oe in re.key!==void 0&&(De=""+re.key),re)fe.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(we[oe]=re[oe]);var Ae=arguments.length-2;if(Ae===1)we.children=ce;else if(1<Ae){for(var Vt=Array(Ae),nt=0;nt<Ae;nt++)Vt[nt]=arguments[nt+2];we.children=Vt}if(O&&O.defaultProps)for(oe in Ae=O.defaultProps,Ae)we[oe]===void 0&&(we[oe]=Ae[oe]);return x(O,De,void 0,void 0,null,we)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:m,render:O}},Ie.isValidElement=R,Ie.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ue}},Ie.memo=function(O,re){return{$$typeof:g,type:O,compare:re===void 0?null:re}},Ie.startTransition=function(O){var re=ie.T,ce={};ie.T=ce;try{var oe=O(),we=ie.S;we!==null&&we(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(He,ge)}catch(De){ge(De)}finally{ie.T=re}},Ie.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ie.use=function(O){return ie.H.use(O)},Ie.useActionState=function(O,re,ce){return ie.H.useActionState(O,re,ce)},Ie.useCallback=function(O,re){return ie.H.useCallback(O,re)},Ie.useContext=function(O){return ie.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,re){return ie.H.useDeferredValue(O,re)},Ie.useEffect=function(O,re,ce){var oe=ie.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,re)},Ie.useId=function(){return ie.H.useId()},Ie.useImperativeHandle=function(O,re,ce){return ie.H.useImperativeHandle(O,re,ce)},Ie.useInsertionEffect=function(O,re){return ie.H.useInsertionEffect(O,re)},Ie.useLayoutEffect=function(O,re){return ie.H.useLayoutEffect(O,re)},Ie.useMemo=function(O,re){return ie.H.useMemo(O,re)},Ie.useOptimistic=function(O,re){return ie.H.useOptimistic(O,re)},Ie.useReducer=function(O,re,ce){return ie.H.useReducer(O,re,ce)},Ie.useRef=function(O){return ie.H.useRef(O)},Ie.useState=function(O){return ie.H.useState(O)},Ie.useSyncExternalStore=function(O,re,ce){return ie.H.useSyncExternalStore(O,re,ce)},Ie.useTransition=function(){return ie.H.useTransition()},Ie.version="19.1.1",Ie}var B0;function td(){return B0||(B0=1,Up.exports=jR()),Up.exports}var K=td(),Bp={exports:{}},Tu={},jp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function zR(){return j0||(j0=1,function(t){function e(W,ue){var ge=W.length;W.push(ue);e:for(;0<ge;){var He=ge-1>>>1,O=W[He];if(0<o(O,ue))W[He]=ue,W[ge]=O,ge=He;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ue=W[0],ge=W.pop();if(ge!==ue){W[0]=ge;e:for(var He=0,O=W.length,re=O>>>1;He<re;){var ce=2*(He+1)-1,oe=W[ce],we=ce+1,De=W[we];if(0>o(oe,ge))we<O&&0>o(De,oe)?(W[He]=De,W[we]=ge,He=we):(W[He]=oe,W[ce]=ge,He=ce);else if(we<O&&0>o(De,ge))W[He]=De,W[we]=ge,He=we;else break e}}return ue}function o(W,ue){var ge=W.sortIndex-ue.sortIndex;return ge!==0?ge:W.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();t.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,b=null,S=3,D=!1,V=!1,q=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var ue=n(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=W)i(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function ie(W){if(q=!1,ae(W),!V)if(n(p)!==null)V=!0,fe||(fe=!0,L());else{var ue=n(g);ue!==null&&ft(ie,ue.startTime-W)}}var fe=!1,x=-1,A=5,R=-1;function k(){return U?!0:!(t.unstable_now()-R<A)}function P(){if(U=!1,fe){var W=t.unstable_now();R=W;var ue=!0;try{e:{V=!1,q&&(q=!1,se(x),x=-1),D=!0;var ge=S;try{t:{for(ae(W),b=n(p);b!==null&&!(b.expirationTime>W&&k());){var He=b.callback;if(typeof He=="function"){b.callback=null,S=b.priorityLevel;var O=He(b.expirationTime<=W);if(W=t.unstable_now(),typeof O=="function"){b.callback=O,ae(W),ue=!0;break t}b===n(p)&&i(p),ae(W)}else i(p);b=n(p)}if(b!==null)ue=!0;else{var re=n(g);re!==null&&ft(ie,re.startTime-W),ue=!1}}break e}finally{b=null,S=ge,D=!1}ue=void 0}}finally{ue?L():fe=!1}}}var L;if(typeof X=="function")L=function(){X(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ft=I.port2;I.port1.onmessage=P,L=function(){Ft.postMessage(null)}}else L=function(){$(P,0)};function ft(W,ue){x=$(function(){W(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var ge=S;S=ue;try{return W()}finally{S=ge}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=S;S=W;try{return ue()}finally{S=ge}},t.unstable_scheduleCallback=function(W,ue,ge){var He=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,W={id:v++,callback:ue,priorityLevel:W,startTime:ge,expirationTime:O,sortIndex:-1},ge>He?(W.sortIndex=ge,e(g,W),n(p)===null&&W===n(g)&&(q?(se(x),x=-1):q=!0,ft(ie,ge-He))):(W.sortIndex=O,e(p,W),V||D||(V=!0,fe||(fe=!0,L()))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var ue=S;return function(){var ge=S;S=ue;try{return W.apply(this,arguments)}finally{S=ge}}}}(zp)),zp}var z0;function qR(){return z0||(z0=1,jp.exports=zR()),jp.exports}var qp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function HR(){if(q0)return nn;q0=1;var t=td();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},nn.flushSync=function(p){var g=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=g,i.p=v,i.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:D}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},nn.requestFormReset=function(p){i.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var H0;function sT(){if(H0)return qp.exports;H0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qp.exports=HR(),qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function FR(){if(F0)return Tu;F0=1;var t=qR(),e=td(),n=sT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function h(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(u(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=u(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),r;if(d===l)return m(f),s;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,E=f.child;E;){if(E===a){_=!0,a=f,l=d;break}if(E===l){_=!0,l=f,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=f;break}if(E===l){_=!0,l=d,a=f;break}E=E.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Ft(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case U:return"Profiler";case q:return"StrictMode";case ie:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case X:return(r.displayName||"Context")+".Provider";case se:return(r._context.displayName||"Context")+".Consumer";case ae:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:Ft(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Ft(r(s))}catch{}}return null}var ft=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},He=[],O=-1;function re(r){return{current:r}}function ce(r){0>O||(r.current=He[O],He[O]=null,O--)}function oe(r,s){O++,He[O]=r.current,r.current=s}var we=re(null),De=re(null),Ae=re(null),Vt=re(null);function nt(r,s){switch(oe(Ae,s),oe(De,r),oe(we,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?c0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=c0(s),r=h0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(we),oe(we,r)}function cr(){ce(we),ce(De),ce(Ae)}function Oi(r){r.memoizedState!==null&&oe(Vt,r);var s=we.current,a=h0(s,r.type);s!==a&&(oe(De,r),oe(we,a))}function qr(r){De.current===r&&(ce(we),ce(De)),Vt.current===r&&(ce(Vt),yu._currentValue=ge)}var xs=Object.prototype.hasOwnProperty,Ds=t.unstable_scheduleCallback,Os=t.unstable_cancelCallback,ml=t.unstable_shouldYield,yc=t.unstable_requestPaint,Un=t.unstable_now,Ld=t.unstable_getCurrentPriorityLevel,pl=t.unstable_ImmediatePriority,Va=t.unstable_UserBlockingPriority,Ns=t.unstable_NormalPriority,Ud=t.unstable_LowPriority,La=t.unstable_IdlePriority,gl=t.log,wc=t.unstable_setDisableYieldValue,dt=null,Qe=null;function En(r){if(typeof gl=="function"&&wc(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(dt,r)}catch{}}var en=Math.clz32?Math.clz32:ks,vc=Math.log,Bd=Math.LN2;function ks(r){return r>>>=0,r===0?32:31-(vc(r)/Bd|0)|0}var Ps=256,Ms=4194304;function Jn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ua(r,s,a){var l=r.pendingLanes;if(l===0)return 0;var f=0,d=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?f=Jn(l):(_&=E,_!==0?f=Jn(_):a||(a=E&~r,a!==0&&(f=Jn(a))))):(E=l&~d,E!==0?f=Jn(E):_!==0?f=Jn(_):a||(a=l&~r,a!==0&&(f=Jn(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Vs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function yl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wl(){var r=Ps;return Ps<<=1,(Ps&4194048)===0&&(Ps=256),r}function vl(){var r=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),r}function Hr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Fr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function _l(r,s,a,l,f,d){var _=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var E=r.entanglements,C=r.expirationTimes,z=r.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-en(a),te=1<<Z;E[Z]=0,C[Z]=-1;var F=z[Z];if(F!==null)for(z[Z]=null,Z=0;Z<F.length;Z++){var G=F[Z];G!==null&&(G.lane&=-536870913)}a&=~te}l!==0&&hr(r,l,0),d!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=d&~(_&~s))}function hr(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-en(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function bl(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var l=31-en(a),f=1<<l;f&s|r[l]&s&&(r[l]|=s),a&=~f}}function Ni(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ba(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ki(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:D0(r.type))}function _c(r,s){var a=ue.p;try{return ue.p=r,s()}finally{ue.p=a}}var ot=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ot,Tt="__reactProps$"+ot,Bn="__reactContainer$"+ot,El="__reactEvents$"+ot,jd="__reactListeners$"+ot,Pi="__reactHandles$"+ot,bc="__reactResources$"+ot,Ls="__reactMarker$"+ot;function Mi(r){delete r[Dt],delete r[Tt],delete r[El],delete r[jd],delete r[Pi]}function Gr(r){var s=r[Dt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Bn]||a[Dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=p0(r);r!==null;){if(a=r[Dt])return a;r=p0(r)}return s}r=a,a=r.parentNode}return null}function fr(r){if(r=r[Dt]||r[Bn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function dr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function un(r){var s=r[bc];return s||(s=r[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(r){r[Ls]=!0}var Tl=new Set,ja={};function er(r,s){$r(r,s),$r(r+"Capture",s)}function $r(r,s){for(ja[r]=s,r=0;r<s.length;r++)Tl.add(s[r])}var Ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tc={},Us={};function Sc(r){return xs.call(Us,r)?!0:xs.call(Tc,r)?!1:Ec.test(r)?Us[r]=!0:(Tc[r]=!0,!1)}function Vi(r,s,a){if(Sc(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function mr(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Gt(r,s,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+l)}}var Bs,Ac;function Kr(r){if(Bs===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Bs=s&&s[1]||"",Ac=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+r+Ac}var za=!1;function qa(r,s){if(!r||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(r,[],te)}else{try{te.call()}catch(G){F=G}r.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var C=_.split(`
`),z=E.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===z.length)for(l=C.length-1,f=z.length-1;1<=l&&0<=f&&C[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==z[f]){var Z=`
`+C[l].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=l&&0<=f);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Kr(a):""}function Sl(r){switch(r.tag){case 26:case 27:case 5:return Kr(r.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return qa(r.type,!1);case 11:return qa(r.type.render,!1);case 1:return qa(r.type,!0);case 31:return Kr("Activity");default:return""}}function Ha(r){try{var s="";do s+=Sl(r),r=r.return;while(r);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Al(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zd(r){var s=Al(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),l=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Fa(r){r._valueTracker||(r._valueTracker=zd(r))}function Rl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return r&&(l=Al(r)?r.checked?"true":"false":r.value),r=l,r!==a?(s.setValue(r),!0):!1}function js(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var qd=/[\n"\\]/g;function St(r){return r.replace(qd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tn(r,s,a,l,f,d,_,E){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+cn(s)):r.value!==""+cn(s)&&(r.value=""+cn(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?Li(r,_,cn(s)):a!=null?Li(r,_,cn(a)):l!=null&&r.removeAttribute("value"),f==null&&d!=null&&(r.defaultChecked=!!d),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+cn(E):r.removeAttribute("name")}function zs(r,s,a,l,f,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(r.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,E||s===r.value||(r.value=s),r.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=E?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_)}function Li(r,s,a){s==="number"&&js(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Qr(r,s,a,l){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&l&&(r[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function We(r,s,a){if(s!=null&&(s=""+cn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+cn(a):""}function qs(r,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(ft(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function jn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(r,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,a):typeof a!="number"||a===0||Hs.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function Cl(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Rc(r,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Rc(r,d,s[d])}function Il(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(r){return Fd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Yr=null;function zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xr=null,Wr=null;function xl(r){var s=fr(r);if(s&&(r=s.stateNode)){var a=r[Tt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Tn(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==r&&l.form===r.form){var f=l[Tt]||null;if(!f)throw Error(i(90));Tn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===r.form&&Rl(l)}break e;case"textarea":We(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Qr(r,!!a.multiple,s,!1)}}}var pr=!1;function Cc(r,s,a){if(pr)return r(s,a);pr=!0;try{var l=r(s);return l}finally{if(pr=!1,(Xr!==null||Wr!==null)&&(_h(),Xr&&(s=Xr,r=Wr,Wr=Xr=null,xl(s),r)))for(s=0;s<r.length;s++)xl(r[s])}}function Fs(r,s){var a=r.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(tr)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{qn=!1}var gr=null,Ui=null,Zr=null;function Dl(){if(Zr)return Zr;var r,s=Ui,a=s.length,l,f="value"in gr?gr.value:gr.textContent,d=f.length;for(r=0;r<a&&s[r]===f[r];r++);var _=a-r;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Zr=f.slice(r,1<l?1-l:void 0)}function yr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function wr(){return!0}function Ol(){return!1}function Lt(r){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wr:Ol,this.isPropagationStopped=Ol,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),s}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Lt($e),$s=v({},$e,{view:0,detail:0}),Ic=Lt($s),Ka,Qa,vr,Ks=v({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vr&&(vr&&r.type==="mousemove"?(Ka=r.screenX-vr.screenX,Qa=r.screenY-vr.screenY):Qa=Ka=0,vr=r),Ka)},movementY:function(r){return"movementY"in r?r.movementY:Qa}}),Hn=Lt(Ks),xc=v({},Ks,{dataTransfer:0}),Gd=Lt(xc),Qs=v({},$s,{relatedTarget:0}),Ya=Lt(Qs),Nl=v({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=Lt(Nl),Dc=v({},$e,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wa=Lt(Dc),$d=v({},$e,{data:0}),kl=Lt($d),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Nc[r])?!!s[r]:!1}function Xs(){return Pl}var kc=v({},$s,{key:function(r){if(r.key){var s=Ys[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Oc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(r){return r.type==="keypress"?yr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Za=Lt(kc),Pc=v({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=Lt(Pc),Jr=v({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),Mc=Lt(Jr),Vc=v({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lc=Lt(Vc),Uc=v({},Ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=Lt(Uc),hn=v({},$e,{newState:0,oldState:0}),Bc=Lt(hn),jc=[9,13,27,32],_r=tr&&"CompositionEvent"in window,c=null;tr&&"documentMode"in document&&(c=document.documentMode);var y=tr&&"TextEvent"in window&&!c,w=tr&&(!_r||c&&8<c&&11>=c),T=" ",B=!1;function Q(r,s){switch(r){case"keyup":return jc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Le=!1;function Ot(r,s){switch(r){case"compositionend":return le(s);case"keypress":return s.which!==32?null:(B=!0,T);case"textInput":return r=s.data,r===T&&B?null:r;default:return null}}function Ue(r,s){if(Le)return r==="compositionend"||!_r&&Q(r,s)?(r=Dl(),Zr=Ui=gr=null,Le=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ut[r.type]:s==="textarea"}function ei(r,s,a,l){Xr?Wr?Wr.push(l):Wr=[l]:Xr=l,s=Rh(s,"onChange"),0<s.length&&(a=new $a("onChange","change",null,a,l),r.push({event:a,listeners:s}))}var $t=null,br=null;function Vl(r){s0(r,0)}function zc(r){var s=dr(r);if(Rl(s))return r}function Rw(r,s){if(r==="change")return s}var Cw=!1;if(tr){var Kd;if(tr){var Qd="oninput"in document;if(!Qd){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),Qd=typeof Iw.oninput=="function"}Kd=Qd}else Kd=!1;Cw=Kd&&(!document.documentMode||9<document.documentMode)}function xw(){$t&&($t.detachEvent("onpropertychange",Dw),br=$t=null)}function Dw(r){if(r.propertyName==="value"&&zc(br)){var s=[];ei(s,br,r,zn(r)),Cc(Vl,s)}}function d1(r,s,a){r==="focusin"?(xw(),$t=s,br=a,$t.attachEvent("onpropertychange",Dw)):r==="focusout"&&xw()}function m1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zc(br)}function p1(r,s){if(r==="click")return zc(s)}function g1(r,s){if(r==="input"||r==="change")return zc(s)}function y1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sn=typeof Object.is=="function"?Object.is:y1;function Ll(r,s){if(Sn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xs.call(s,f)||!Sn(r[f],s[f]))return!1}return!0}function Ow(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Nw(r,s){var a=Ow(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=s&&l>=s)return{node:a,offset:s-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ow(a)}}function kw(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?kw(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Pw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=js(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=js(r.document)}return s}function Yd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var w1=tr&&"documentMode"in document&&11>=document.documentMode,eo=null,Xd=null,Ul=null,Wd=!1;function Mw(r,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wd||eo==null||eo!==js(l)||(l=eo,"selectionStart"in l&&Yd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ul&&Ll(Ul,l)||(Ul=l,l=Rh(Xd,"onSelect"),0<l.length&&(s=new $a("onSelect","select",null,s,a),r.push({event:s,listeners:l}),s.target=eo)))}function Ws(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var to={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Zd={},Vw={};tr&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Zs(r){if(Zd[r])return Zd[r];if(!to[r])return r;var s=to[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Vw)return Zd[r]=s[a];return r}var Lw=Zs("animationend"),Uw=Zs("animationiteration"),Bw=Zs("animationstart"),v1=Zs("transitionrun"),_1=Zs("transitionstart"),b1=Zs("transitioncancel"),jw=Zs("transitionend"),zw=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function nr(r,s){zw.set(r,s),er(s,[r])}var qw=new WeakMap;function Fn(r,s){if(typeof r=="object"&&r!==null){var a=qw.get(r);return a!==void 0?a:(s={value:r,source:s,stack:Ha(s)},qw.set(r,s),s)}return{value:r,source:s,stack:Ha(s)}}var Gn=[],no=0,em=0;function qc(){for(var r=no,s=em=no=0;s<r;){var a=Gn[s];Gn[s++]=null;var l=Gn[s];Gn[s++]=null;var f=Gn[s];Gn[s++]=null;var d=Gn[s];if(Gn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Hw(a,f,d)}}function Hc(r,s,a,l){Gn[no++]=r,Gn[no++]=s,Gn[no++]=a,Gn[no++]=l,em|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function tm(r,s,a,l){return Hc(r,s,a,l),Fc(r)}function ro(r,s){return Hc(r,null,null,s),Fc(r)}function Hw(r,s,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=r.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(r=d.stateNode,r===null||r._visibility&1||(f=!0)),r=d,d=d.return;return r.tag===3?(d=r.stateNode,f&&s!==null&&(f=31-en(a),r=d.hiddenUpdates,l=r[f],l===null?r[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Fc(r){if(50<uu)throw uu=0,op=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var io={};function E1(r,s,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(r,s,a,l){return new E1(r,s,a,l)}function nm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ti(r,s){var a=r.alternate;return a===null?(a=An(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Fw(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Gc(r,s,a,l,f,d){var _=0;if(l=r,typeof r=="function")nm(r)&&(_=1);else if(typeof r=="string")_=SR(r,a,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=An(31,a,s,f),r.elementType=R,r.lanes=d,r;case V:return Js(a.children,f,d,s);case q:_=8,f|=24;break;case U:return r=An(12,a,s,f|2),r.elementType=U,r.lanes=d,r;case ie:return r=An(13,a,s,f),r.elementType=ie,r.lanes=d,r;case fe:return r=An(19,a,s,f),r.elementType=fe,r.lanes=d,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:case X:_=10;break e;case se:_=9;break e;case ae:_=11;break e;case x:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=An(_,a,s,f),s.elementType=r,s.type=l,s.lanes=d,s}function Js(r,s,a,l){return r=An(7,r,l,s),r.lanes=a,r}function rm(r,s,a){return r=An(6,r,null,s),r.lanes=a,r}function im(r,s,a){return s=An(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var so=[],ao=0,$c=null,Kc=0,$n=[],Kn=0,ea=null,ni=1,ri="";function ta(r,s){so[ao++]=Kc,so[ao++]=$c,$c=r,Kc=s}function Gw(r,s,a){$n[Kn++]=ni,$n[Kn++]=ri,$n[Kn++]=ea,ea=r;var l=ni;r=ri;var f=32-en(l)-1;l&=~(1<<f),a+=1;var d=32-en(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,ni=1<<32-en(s)+f|a<<f|l,ri=d+r}else ni=1<<d|a<<f|l,ri=r}function sm(r){r.return!==null&&(ta(r,1),Gw(r,1,0))}function am(r){for(;r===$c;)$c=so[--ao],so[ao]=null,Kc=so[--ao],so[ao]=null;for(;r===ea;)ea=$n[--Kn],$n[Kn]=null,ri=$n[--Kn],$n[Kn]=null,ni=$n[--Kn],$n[Kn]=null}var fn=null,mt=null,Fe=!1,na=null,Er=!1,om=Error(i(519));function ra(r){var s=Error(i(418,""));throw zl(Fn(s,r)),om}function $w(r){var s=r.stateNode,a=r.type,l=r.memoizedProps;switch(s[Dt]=r,s[Tt]=l,a){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(a=0;a<hu.length;a++)ke(hu[a],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),zs(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fa(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),qs(s,l.value,l.defaultValue,l.children),Fa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||u0(s.textContent,a)?(l.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),l.onScroll!=null&&ke("scroll",s),l.onScrollEnd!=null&&ke("scrollend",s),l.onClick!=null&&(s.onclick=Ch),s=!0):s=!1,s||ra(r)}function Kw(r){for(fn=r.return;fn;)switch(fn.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:fn=fn.return}}function Bl(r){if(r!==fn)return!1;if(!Fe)return Kw(r),Fe=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Tp(r.type,r.memoizedProps)),a=!a),a&&mt&&ra(r),Kw(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(s===0){mt=ir(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;r=r.nextSibling}mt=null}}else s===27?(s=mt,es(r.type)?(r=Cp,Cp=null,mt=r):mt=s):mt=fn?ir(r.stateNode.nextSibling):null;return!0}function jl(){mt=fn=null,Fe=!1}function Qw(){var r=na;return r!==null&&(wn===null?wn=r:wn.push.apply(wn,r),na=null),r}function zl(r){na===null?na=[r]:na.push(r)}var lm=re(null),ia=null,ii=null;function Bi(r,s,a){oe(lm,s._currentValue),s._currentValue=a}function si(r){r._currentValue=lm.current,ce(lm)}function um(r,s,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===a)break;r=r.return}}function cm(r,s,a,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=f;for(var C=0;C<s.length;C++)if(E.context===s[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),um(d.return,a,r),l||(_=null);break e}d=E.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),um(_,a,r),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ql(r,s,a,l){r=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=f.type;Sn(f.pendingProps.value,_.value)||(r!==null?r.push(E):r=[E])}}else if(f===Vt.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(yu):r=[yu])}f=f.return}r!==null&&cm(s,r,a,l),s.flags|=262144}function Qc(r){for(r=r.firstContext;r!==null;){if(!Sn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function sa(r){ia=r,ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return Yw(ia,r)}function Yc(r,s){return ia===null&&sa(r),Yw(r,s)}function Yw(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ii===null){if(r===null)throw Error(i(308));ii=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ii=ii.next=s;return a}var T1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},S1=t.unstable_scheduleCallback,A1=t.unstable_NormalPriority,kt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new T1,data:new Map,refCount:0}}function Hl(r){r.refCount--,r.refCount===0&&S1(A1,function(){r.controller.abort()})}var Fl=null,fm=0,oo=0,lo=null;function R1(r,s){if(Fl===null){var a=Fl=[];fm=0,oo=mp(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fm++,s.then(Xw,Xw),s}function Xw(){if(--fm===0&&Fl!==null){lo!==null&&(lo.status="fulfilled");var r=Fl;Fl=null,oo=0,lo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function C1(r,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ww=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&R1(r,s),Ww!==null&&Ww(r,s)};var aa=re(null);function dm(){var r=aa.current;return r!==null?r:rt.pooledCache}function Xc(r,s){s===null?oe(aa,aa.current):oe(aa,s.pool)}function Zw(){var r=dm();return r===null?null:{parent:kt._currentValue,pool:r}}var Gl=Error(i(460)),Jw=Error(i(474)),Wc=Error(i(542)),mm={then:function(){}};function ev(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Zc(){}function tv(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Zc,Zc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rv(r),r;default:if(typeof s.status=="string")s.then(Zc,Zc);else{if(r=rt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,rv(r),r}throw $l=s,Gl}}var $l=null;function nv(){if($l===null)throw Error(i(459));var r=$l;return $l=null,r}function rv(r){if(r===Gl||r===Wc)throw Error(i(483))}var ji=!1;function pm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function zi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qi(r,s,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Fc(r),Hw(r,null,a),s}return Hc(r,l,s,a),Fc(r)}function Kl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,bl(r,a)}}function ym(r,s){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var wm=!1;function Ql(){if(wm){var r=lo;if(r!==null)throw r}}function Yl(r,s,a,l){wm=!1;var f=r.updateQueue;ji=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var C=E,z=C.next;C.next=null,_===null?d=z:_.next=z,_=C;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==_&&(E===null?Z.firstBaseUpdate=z:E.next=z,Z.lastBaseUpdate=C))}if(d!==null){var te=f.baseState;_=0,Z=z=C=null,E=d;do{var F=E.lane&-536870913,G=F!==E.lane;if(G?(Be&F)===F:(l&F)===F){F!==0&&F===oo&&(wm=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Te=r,_e=E;F=s;var et=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){te=Te.call(et,te,F);break e}te=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,F=typeof Te=="function"?Te.call(et,te,F):Te,F==null)break e;te=v({},te,F);break e;case 2:ji=!0}}F=E.callback,F!==null&&(r.flags|=64,G&&(r.flags|=8192),G=f.callbacks,G===null?f.callbacks=[F]:G.push(F))}else G={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(z=Z=G,C=te):Z=Z.next=G,_|=F;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;G=E,E=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Z===null&&(C=te),f.baseState=C,f.firstBaseUpdate=z,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Xi|=_,r.lanes=_,r.memoizedState=te}}function iv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function sv(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)iv(a[r],s)}var uo=re(null),Jc=re(0);function av(r,s){r=fi,oe(Jc,r),oe(uo,s),fi=r|s.baseLanes}function vm(){oe(Jc,fi),oe(uo,uo.current)}function _m(){fi=Jc.current,ce(uo),ce(Jc)}var Hi=0,xe=null,Ze=null,At=null,eh=!1,co=!1,oa=!1,th=0,Xl=0,ho=null,I1=0;function yt(){throw Error(i(321))}function bm(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Sn(r[a],s[a]))return!1;return!0}function Em(r,s,a,l,f,d){return Hi=d,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?Hv:Fv,oa=!1,d=a(l,f),oa=!1,co&&(d=lv(s,a,l,f)),ov(r),d}function ov(r){W.H=oh;var s=Ze!==null&&Ze.next!==null;if(Hi=0,At=Ze=xe=null,eh=!1,Xl=0,ho=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&Qc(r)&&(Bt=!0))}function lv(r,s,a,l){xe=r;var f=0;do{if(co&&(ho=null),Xl=0,co=!1,25<=f)throw Error(i(301));if(f+=1,At=Ze=null,r.updateQueue!=null){var d=r.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=M1,d=s(a,l)}while(co);return d}function x1(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?Wl(s):s,r=r.useState()[0],(Ze!==null?Ze.memoizedState:null)!==r&&(xe.flags|=1024),s}function Tm(){var r=th!==0;return th=0,r}function Sm(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function Am(r){if(eh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}eh=!1}Hi=0,At=Ze=xe=null,co=!1,Xl=th=0,ho=null}function gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?xe.memoizedState=At=r:At=At.next=r,At}function Rt(){if(Ze===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var s=At===null?xe.memoizedState:At.next;if(s!==null)At=s,Ze=r;else{if(r===null)throw xe.alternate===null?Error(i(467)):Error(i(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?xe.memoizedState=At=r:At=At.next=r}return At}function Rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(r){var s=Xl;return Xl+=1,ho===null&&(ho=[]),r=tv(ho,r,s),s=xe,(At===null?s.memoizedState:At.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?Hv:Fv),r}function nh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wl(r);if(r.$$typeof===X)return tn(r)}throw Error(i(438,String(r)))}function Cm(r){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Rm(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),l=0;l<r;l++)a[l]=k;return s.index++,a}function ai(r,s){return typeof s=="function"?s(r):s}function rh(r){var s=Rt();return Im(s,Ze,r)}function Im(r,s,a){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=r.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=r.baseState,f===null)r.memoizedState=d;else{s=f.next;var E=_=null,C=null,z=s,Z=!1;do{var te=z.lane&-536870913;if(te!==z.lane?(Be&te)===te:(Hi&te)===te){var F=z.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),te===oo&&(Z=!0);else if((Hi&F)===F){z=z.next,F===oo&&(Z=!0);continue}else te={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=te,_=d):C=C.next=te,xe.lanes|=F,Xi|=F;te=z.action,oa&&a(d,te),d=z.hasEagerState?z.eagerState:a(d,te)}else F={lane:te,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=F,_=d):C=C.next=F,xe.lanes|=te,Xi|=te;z=z.next}while(z!==null&&z!==s);if(C===null?_=d:C.next=E,!Sn(d,r.memoizedState)&&(Bt=!0,Z&&(a=lo,a!==null)))throw a;r.memoizedState=d,r.baseState=_,r.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function xm(r){var s=Rt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=r(d,_.action),_=_.next;while(_!==f);Sn(d,s.memoizedState)||(Bt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function uv(r,s,a){var l=xe,f=Rt(),d=Fe;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!Sn((Ze||f).memoizedState,a);_&&(f.memoizedState=a,Bt=!0),f=f.queue;var E=fv.bind(null,l,f,r);if(Zl(2048,8,E,[r]),f.getSnapshot!==s||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,fo(9,ih(),hv.bind(null,l,f,a,s),null),rt===null)throw Error(i(349));d||(Hi&124)!==0||cv(l,s,a)}return a}function cv(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=Rm(),xe.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function hv(r,s,a,l){s.value=a,s.getSnapshot=l,dv(s)&&mv(r)}function fv(r,s,a){return a(function(){dv(s)&&mv(r)})}function dv(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Sn(r,a)}catch{return!0}}function mv(r){var s=ro(r,2);s!==null&&Dn(s,r,2)}function Dm(r){var s=gn();if(typeof r=="function"){var a=r;if(r=a(),oa){En(!0);try{a()}finally{En(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:r},s}function pv(r,s,a,l){return r.baseState=a,Im(r,Ze,typeof l=="function"?l:ai)}function D1(r,s,a,l,f){if(ah(r))throw Error(i(485));if(r=s.action,r!==null){var d={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,gv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function gv(r,s){var a=s.action,l=s.payload,f=r.state;if(s.isTransition){var d=W.T,_={};W.T=_;try{var E=a(f,l),C=W.S;C!==null&&C(_,E),yv(r,s,E)}catch(z){Om(r,s,z)}finally{W.T=d}}else try{d=a(f,l),yv(r,s,d)}catch(z){Om(r,s,z)}}function yv(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wv(r,s,l)},function(l){return Om(r,s,l)}):wv(r,s,a)}function wv(r,s,a){s.status="fulfilled",s.value=a,vv(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,gv(r,a)))}function Om(r,s,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,vv(s),s=s.next;while(s!==l)}r.action=null}function vv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function _v(r,s){return s}function bv(r,s){if(Fe){var a=rt.formState;if(a!==null){e:{var l=xe;if(Fe){if(mt){t:{for(var f=mt,d=Er;f.nodeType!==8;){if(!d){f=null;break t}if(f=ir(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){mt=ir(f.nextSibling),l=f.data==="F!";break e}}ra(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_v,lastRenderedState:s},a.queue=l,a=jv.bind(null,xe,l),l.dispatch=a,l=Dm(!1),d=Vm.bind(null,xe,!1,l.queue),l=gn(),f={state:s,dispatch:null,action:r,pending:null},l.queue=f,a=D1.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=r,[s,a,!1]}function Ev(r){var s=Rt();return Tv(s,Ze,r)}function Tv(r,s,a){if(s=Im(r,s,_v)[0],r=rh(ai)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Wl(s)}catch(_){throw _===Gl?Wc:_}else l=s;s=Rt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,fo(9,ih(),O1.bind(null,f,a),null)),[l,d,r]}function O1(r,s){r.action=s}function Sv(r){var s=Rt(),a=Ze;if(a!==null)return Tv(s,a,r);Rt(),s=s.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=r,[s,l,!1]}function fo(r,s,a,l){return r={tag:r,create:a,deps:l,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Rm(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,s.lastEffect=r),r}function ih(){return{destroy:void 0,resource:void 0}}function Av(){return Rt().memoizedState}function sh(r,s,a,l){var f=gn();l=l===void 0?null:l,xe.flags|=r,f.memoizedState=fo(1|s,ih(),a,l)}function Zl(r,s,a,l){var f=Rt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&bm(l,Ze.memoizedState.deps)?f.memoizedState=fo(s,d,a,l):(xe.flags|=r,f.memoizedState=fo(1|s,d,a,l))}function Rv(r,s){sh(8390656,8,r,s)}function Cv(r,s){Zl(2048,8,r,s)}function Iv(r,s){return Zl(4,2,r,s)}function xv(r,s){return Zl(4,4,r,s)}function Dv(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ov(r,s,a){a=a!=null?a.concat([r]):null,Zl(4,4,Dv.bind(null,s,r),a)}function Nm(){}function Nv(r,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&bm(s,l[1])?l[0]:(a.memoizedState=[r,s],r)}function kv(r,s){var a=Rt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&bm(s,l[1]))return l[0];if(l=r(),oa){En(!0);try{r()}finally{En(!1)}}return a.memoizedState=[l,s],l}function km(r,s,a){return a===void 0||(Hi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=a,r=V_(),xe.lanes|=r,Xi|=r,a)}function Pv(r,s,a,l){return Sn(a,s)?a:uo.current!==null?(r=km(r,a,l),Sn(r,s)||(Bt=!0),r):(Hi&42)===0?(Bt=!0,r.memoizedState=a):(r=V_(),xe.lanes|=r,Xi|=r,s)}function Mv(r,s,a,l,f){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=W.T,E={};W.T=E,Vm(r,!1,s,a);try{var C=f(),z=W.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=C1(C,l);Jl(r,s,Z,xn(r))}else Jl(r,s,l,xn(r))}catch(te){Jl(r,s,{then:function(){},status:"rejected",reason:te},xn())}finally{ue.p=d,W.T=_}}function N1(){}function Pm(r,s,a,l){if(r.tag!==5)throw Error(i(476));var f=Vv(r).queue;Mv(r,f,s,ge,a===null?N1:function(){return Lv(r),a(l)})}function Vv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Lv(r){var s=Vv(r).next.queue;Jl(r,s,{},xn())}function Mm(){return tn(yu)}function Uv(){return Rt().memoizedState}function Bv(){return Rt().memoizedState}function k1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();r=zi(a);var l=qi(s,r,a);l!==null&&(Dn(l,s,a),Kl(l,s,a)),s={cache:hm()},r.payload=s;return}s=s.return}}function P1(r,s,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ah(r)?zv(s,a):(a=tm(r,s,a,l),a!==null&&(Dn(a,r,l),qv(a,s,l)))}function jv(r,s,a){var l=xn();Jl(r,s,a,l)}function Jl(r,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ah(r))zv(s,f);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,E=d(_,a);if(f.hasEagerState=!0,f.eagerState=E,Sn(E,_))return Hc(r,s,f,0),rt===null&&qc(),!1}catch{}finally{}if(a=tm(r,s,f,l),a!==null)return Dn(a,r,l),qv(a,s,l),!0}return!1}function Vm(r,s,a,l){if(l={lane:2,revertLane:mp(),action:l,hasEagerState:!1,eagerState:null,next:null},ah(r)){if(s)throw Error(i(479))}else s=tm(r,a,l,2),s!==null&&Dn(s,r,2)}function ah(r){var s=r.alternate;return r===xe||s!==null&&s===xe}function zv(r,s){co=eh=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function qv(r,s,a){if((a&4194048)!==0){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,bl(r,a)}}var oh={readContext:tn,use:nh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Hv={readContext:tn,use:nh,useCallback:function(r,s){return gn().memoizedState=[r,s===void 0?null:s],r},useContext:tn,useEffect:Rv,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,sh(4194308,4,Dv.bind(null,s,r),a)},useLayoutEffect:function(r,s){return sh(4194308,4,r,s)},useInsertionEffect:function(r,s){sh(4,2,r,s)},useMemo:function(r,s){var a=gn();s=s===void 0?null:s;var l=r();if(oa){En(!0);try{r()}finally{En(!1)}}return a.memoizedState=[l,s],l},useReducer:function(r,s,a){var l=gn();if(a!==void 0){var f=a(s);if(oa){En(!0);try{a(s)}finally{En(!1)}}}else f=s;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=P1.bind(null,xe,r),[l.memoizedState,r]},useRef:function(r){var s=gn();return r={current:r},s.memoizedState=r},useState:function(r){r=Dm(r);var s=r.queue,a=jv.bind(null,xe,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:Nm,useDeferredValue:function(r,s){var a=gn();return km(a,r,s)},useTransition:function(){var r=Dm(!1);return r=Mv.bind(null,xe,r.queue,!0,!1),gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var l=xe,f=gn();if(Fe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),rt===null)throw Error(i(349));(Be&124)!==0||cv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Rv(fv.bind(null,l,d,r),[r]),l.flags|=2048,fo(9,ih(),hv.bind(null,l,d,a,s),null),a},useId:function(){var r=gn(),s=rt.identifierPrefix;if(Fe){var a=ri,l=ni;a=(l&~(1<<32-en(l)-1)).toString(32)+a,s=""+s+"R"+a,a=th++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=I1++,s=""+s+"r"+a.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Mm,useFormState:bv,useActionState:bv,useOptimistic:function(r){var s=gn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Vm.bind(null,xe,!0,a),a.dispatch=s,[r,s]},useMemoCache:Cm,useCacheRefresh:function(){return gn().memoizedState=k1.bind(null,xe)}},Fv={readContext:tn,use:nh,useCallback:Nv,useContext:tn,useEffect:Cv,useImperativeHandle:Ov,useInsertionEffect:Iv,useLayoutEffect:xv,useMemo:kv,useReducer:rh,useRef:Av,useState:function(){return rh(ai)},useDebugValue:Nm,useDeferredValue:function(r,s){var a=Rt();return Pv(a,Ze.memoizedState,r,s)},useTransition:function(){var r=rh(ai)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Wl(r),s]},useSyncExternalStore:uv,useId:Uv,useHostTransitionStatus:Mm,useFormState:Ev,useActionState:Ev,useOptimistic:function(r,s){var a=Rt();return pv(a,Ze,r,s)},useMemoCache:Cm,useCacheRefresh:Bv},M1={readContext:tn,use:nh,useCallback:Nv,useContext:tn,useEffect:Cv,useImperativeHandle:Ov,useInsertionEffect:Iv,useLayoutEffect:xv,useMemo:kv,useReducer:xm,useRef:Av,useState:function(){return xm(ai)},useDebugValue:Nm,useDeferredValue:function(r,s){var a=Rt();return Ze===null?km(a,r,s):Pv(a,Ze.memoizedState,r,s)},useTransition:function(){var r=xm(ai)[0],s=Rt().memoizedState;return[typeof r=="boolean"?r:Wl(r),s]},useSyncExternalStore:uv,useId:Uv,useHostTransitionStatus:Mm,useFormState:Sv,useActionState:Sv,useOptimistic:function(r,s){var a=Rt();return Ze!==null?pv(a,Ze,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:Bv},mo=null,eu=0;function lh(r){var s=eu;return eu+=1,mo===null&&(mo=[]),tv(mo,r,s)}function tu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function uh(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Gv(r){var s=r._init;return s(r._payload)}function $v(r){function s(M,N){if(r){var j=M.deletions;j===null?(M.deletions=[N],M.flags|=16):j.push(N)}}function a(M,N){if(!r)return null;for(;N!==null;)s(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function f(M,N){return M=ti(M,N),M.index=0,M.sibling=null,M}function d(M,N,j){return M.index=j,r?(j=M.alternate,j!==null?(j=j.index,j<N?(M.flags|=67108866,N):j):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function _(M){return r&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,j,J){return N===null||N.tag!==6?(N=rm(j,M.mode,J),N.return=M,N):(N=f(N,j),N.return=M,N)}function C(M,N,j,J){var me=j.type;return me===V?Z(M,N,j.props.children,J,j.key):N!==null&&(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Gv(me)===N.type)?(N=f(N,j.props),tu(N,j),N.return=M,N):(N=Gc(j.type,j.key,j.props,null,M.mode,J),tu(N,j),N.return=M,N)}function z(M,N,j,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=im(j,M.mode,J),N.return=M,N):(N=f(N,j.children||[]),N.return=M,N)}function Z(M,N,j,J,me){return N===null||N.tag!==7?(N=Js(j,M.mode,J,me),N.return=M,N):(N=f(N,j),N.return=M,N)}function te(M,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=rm(""+N,M.mode,j),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return j=Gc(N.type,N.key,N.props,null,M.mode,j),tu(j,N),j.return=M,j;case D:return N=im(N,M.mode,j),N.return=M,N;case A:var J=N._init;return N=J(N._payload),te(M,N,j)}if(ft(N)||L(N))return N=Js(N,M.mode,j,null),N.return=M,N;if(typeof N.then=="function")return te(M,lh(N),j);if(N.$$typeof===X)return te(M,Yc(M,N),j);uh(M,N)}return null}function F(M,N,j,J){var me=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:E(M,N,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===me?C(M,N,j,J):null;case D:return j.key===me?z(M,N,j,J):null;case A:return me=j._init,j=me(j._payload),F(M,N,j,J)}if(ft(j)||L(j))return me!==null?null:Z(M,N,j,J,null);if(typeof j.then=="function")return F(M,N,lh(j),J);if(j.$$typeof===X)return F(M,N,Yc(M,j),J);uh(M,j)}return null}function G(M,N,j,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return M=M.get(j)||null,E(N,M,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return M=M.get(J.key===null?j:J.key)||null,C(N,M,J,me);case D:return M=M.get(J.key===null?j:J.key)||null,z(N,M,J,me);case A:var Oe=J._init;return J=Oe(J._payload),G(M,N,j,J,me)}if(ft(J)||L(J))return M=M.get(j)||null,Z(N,M,J,me,null);if(typeof J.then=="function")return G(M,N,j,lh(J),me);if(J.$$typeof===X)return G(M,N,j,Yc(N,J),me);uh(N,J)}return null}function Te(M,N,j,J){for(var me=null,Oe=null,pe=N,be=N=0,zt=null;pe!==null&&be<j.length;be++){pe.index>be?(zt=pe,pe=null):zt=pe.sibling;var ze=F(M,pe,j[be],J);if(ze===null){pe===null&&(pe=zt);break}r&&pe&&ze.alternate===null&&s(M,pe),N=d(ze,N,be),Oe===null?me=ze:Oe.sibling=ze,Oe=ze,pe=zt}if(be===j.length)return a(M,pe),Fe&&ta(M,be),me;if(pe===null){for(;be<j.length;be++)pe=te(M,j[be],J),pe!==null&&(N=d(pe,N,be),Oe===null?me=pe:Oe.sibling=pe,Oe=pe);return Fe&&ta(M,be),me}for(pe=l(pe);be<j.length;be++)zt=G(pe,M,be,j[be],J),zt!==null&&(r&&zt.alternate!==null&&pe.delete(zt.key===null?be:zt.key),N=d(zt,N,be),Oe===null?me=zt:Oe.sibling=zt,Oe=zt);return r&&pe.forEach(function(ss){return s(M,ss)}),Fe&&ta(M,be),me}function _e(M,N,j,J){if(j==null)throw Error(i(151));for(var me=null,Oe=null,pe=N,be=N=0,zt=null,ze=j.next();pe!==null&&!ze.done;be++,ze=j.next()){pe.index>be?(zt=pe,pe=null):zt=pe.sibling;var ss=F(M,pe,ze.value,J);if(ss===null){pe===null&&(pe=zt);break}r&&pe&&ss.alternate===null&&s(M,pe),N=d(ss,N,be),Oe===null?me=ss:Oe.sibling=ss,Oe=ss,pe=zt}if(ze.done)return a(M,pe),Fe&&ta(M,be),me;if(pe===null){for(;!ze.done;be++,ze=j.next())ze=te(M,ze.value,J),ze!==null&&(N=d(ze,N,be),Oe===null?me=ze:Oe.sibling=ze,Oe=ze);return Fe&&ta(M,be),me}for(pe=l(pe);!ze.done;be++,ze=j.next())ze=G(pe,M,be,ze.value,J),ze!==null&&(r&&ze.alternate!==null&&pe.delete(ze.key===null?be:ze.key),N=d(ze,N,be),Oe===null?me=ze:Oe.sibling=ze,Oe=ze);return r&&pe.forEach(function(VR){return s(M,VR)}),Fe&&ta(M,be),me}function et(M,N,j,J){if(typeof j=="object"&&j!==null&&j.type===V&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var me=j.key;N!==null;){if(N.key===me){if(me=j.type,me===V){if(N.tag===7){a(M,N.sibling),J=f(N,j.props.children),J.return=M,M=J;break e}}else if(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Gv(me)===N.type){a(M,N.sibling),J=f(N,j.props),tu(J,j),J.return=M,M=J;break e}a(M,N);break}else s(M,N);N=N.sibling}j.type===V?(J=Js(j.props.children,M.mode,J,j.key),J.return=M,M=J):(J=Gc(j.type,j.key,j.props,null,M.mode,J),tu(J,j),J.return=M,M=J)}return _(M);case D:e:{for(me=j.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(M,N.sibling),J=f(N,j.children||[]),J.return=M,M=J;break e}else{a(M,N);break}else s(M,N);N=N.sibling}J=im(j,M.mode,J),J.return=M,M=J}return _(M);case A:return me=j._init,j=me(j._payload),et(M,N,j,J)}if(ft(j))return Te(M,N,j,J);if(L(j)){if(me=L(j),typeof me!="function")throw Error(i(150));return j=me.call(j),_e(M,N,j,J)}if(typeof j.then=="function")return et(M,N,lh(j),J);if(j.$$typeof===X)return et(M,N,Yc(M,j),J);uh(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(M,N.sibling),J=f(N,j),J.return=M,M=J):(a(M,N),J=rm(j,M.mode,J),J.return=M,M=J),_(M)):a(M,N)}return function(M,N,j,J){try{eu=0;var me=et(M,N,j,J);return mo=null,me}catch(pe){if(pe===Gl||pe===Wc)throw pe;var Oe=An(29,pe,null,M.mode);return Oe.lanes=J,Oe.return=M,Oe}finally{}}}var po=$v(!0),Kv=$v(!1),Qn=re(null),Tr=null;function Fi(r){var s=r.alternate;oe(Pt,Pt.current&1),oe(Qn,r),Tr===null&&(s===null||uo.current!==null||s.memoizedState!==null)&&(Tr=r)}function Qv(r){if(r.tag===22){if(oe(Pt,Pt.current),oe(Qn,r),Tr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Tr=r)}}else Gi()}function Gi(){oe(Pt,Pt.current),oe(Qn,Qn.current)}function oi(r){ce(Qn),Tr===r&&(Tr=null),ce(Pt)}var Pt=re(0);function ch(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Rp(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Lm(r,s,a,l){s=r.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Um={enqueueSetState:function(r,s,a){r=r._reactInternals;var l=xn(),f=zi(l);f.payload=s,a!=null&&(f.callback=a),s=qi(r,f,l),s!==null&&(Dn(s,r,l),Kl(s,r,l))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var l=xn(),f=zi(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=qi(r,f,l),s!==null&&(Dn(s,r,l),Kl(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=xn(),l=zi(a);l.tag=2,s!=null&&(l.callback=s),s=qi(r,l,a),s!==null&&(Dn(s,r,a),Kl(s,r,a))}};function Yv(r,s,a,l,f,d,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Ll(a,l)||!Ll(f,d):!0}function Xv(r,s,a,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==r&&Um.enqueueReplaceState(s,s.state,null)}function la(r,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(r=r.defaultProps){a===s&&(a=v({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var hh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Wv(r){hh(r)}function Zv(r){console.error(r)}function Jv(r){hh(r)}function fh(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function e_(r,s,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bm(r,s,a){return a=zi(a),a.tag=3,a.payload={element:null},a.callback=function(){fh(r,s)},a}function t_(r){return r=zi(r),r.tag=3,r}function n_(r,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;r.payload=function(){return f(d)},r.callback=function(){e_(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){e_(s,a,l),typeof f!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function V1(r,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ql(s,a,f,!0),a=Qn.current,a!==null){switch(a.tag){case 13:return Tr===null?up():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===mm?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),hp(r,l,f)),!1;case 22:return a.flags|=65536,l===mm?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),hp(r,l,f)),!1}throw Error(i(435,a.tag))}return hp(r,l,f),up(),!1}if(Fe)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==om&&(r=Error(i(422),{cause:l}),zl(Fn(r,a)))):(l!==om&&(s=Error(i(423),{cause:l}),zl(Fn(s,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=Fn(l,a),f=Bm(r.stateNode,l,f),ym(r,f),pt!==4&&(pt=2)),!1;var d=Error(i(520),{cause:l});if(d=Fn(d,a),lu===null?lu=[d]:lu.push(d),pt!==4&&(pt=2),s===null)return!0;l=Fn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=Bm(a.stateNode,l,r),ym(a,r),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wi===null||!Wi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=t_(f),n_(f,r,a,l),ym(a,f),!1}a=a.return}while(a!==null);return!1}var r_=Error(i(461)),Bt=!1;function Kt(r,s,a,l){s.child=r===null?Kv(s,null,a,l):po(s,r.child,a,l)}function i_(r,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return sa(s),l=Em(r,s,a,_,d,f),E=Tm(),r!==null&&!Bt?(Sm(r,s,f),li(r,s,f)):(Fe&&E&&sm(s),s.flags|=1,Kt(r,s,l,f),s.child)}function s_(r,s,a,l,f){if(r===null){var d=a.type;return typeof d=="function"&&!nm(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,a_(r,s,d,l,f)):(r=Gc(a.type,null,l,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(d=r.child,!Km(r,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ll,a(_,l)&&r.ref===s.ref)return li(r,s,f)}return s.flags|=1,r=ti(d,l),r.ref=s.ref,r.return=s,s.child=r}function a_(r,s,a,l,f){if(r!==null){var d=r.memoizedProps;if(Ll(d,l)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=l=d,Km(r,f))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,li(r,s,f)}return jm(r,s,a,l,f)}function o_(r,s,a){var l=s.pendingProps,f=l.children,d=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,r!==null){for(f=s.child=r.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return l_(r,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Xc(s,d!==null?d.cachePool:null),d!==null?av(s,d):vm(),Qv(s);else return s.lanes=s.childLanes=536870912,l_(r,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(Xc(s,d.cachePool),av(s,d),Gi(),s.memoizedState=null):(r!==null&&Xc(s,null),vm(),Gi());return Kt(r,s,f,a),s.child}function l_(r,s,a,l){var f=dm();return f=f===null?null:{parent:kt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},r!==null&&Xc(s,null),vm(),Qv(s),r!==null&&ql(r,s,l,!0),null}function dh(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function jm(r,s,a,l,f){return sa(s),a=Em(r,s,a,l,void 0,f),l=Tm(),r!==null&&!Bt?(Sm(r,s,f),li(r,s,f)):(Fe&&l&&sm(s),s.flags|=1,Kt(r,s,a,f),s.child)}function u_(r,s,a,l,f,d){return sa(s),s.updateQueue=null,a=lv(s,l,a,f),ov(r),l=Tm(),r!==null&&!Bt?(Sm(r,s,d),li(r,s,d)):(Fe&&l&&sm(s),s.flags|=1,Kt(r,s,a,d),s.child)}function c_(r,s,a,l,f){if(sa(s),s.stateNode===null){var d=io,_=a.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Um,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},pm(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?tn(_):io,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lm(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Um.enqueueReplaceState(d,d.state,null),Yl(s,l,d,f),Ql(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){d=s.stateNode;var E=s.memoizedProps,C=la(a,E);d.props=C;var z=d.context,Z=a.contextType;_=io,typeof Z=="object"&&Z!==null&&(_=tn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==_)&&Xv(s,d,l,_),ji=!1;var F=s.memoizedState;d.state=F,Yl(s,l,d,f),Ql(),z=s.memoizedState,E||F!==z||ji?(typeof te=="function"&&(Lm(s,a,te,l),z=s.memoizedState),(C=ji||Yv(s,a,C,l,F,z,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),d.props=l,d.state=z,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,gm(r,s),_=s.memoizedProps,Z=la(a,_),d.props=Z,te=s.pendingProps,F=d.context,z=a.contextType,C=io,typeof z=="object"&&z!==null&&(C=tn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==C)&&Xv(s,d,l,C),ji=!1,F=s.memoizedState,d.state=F,Yl(s,l,d,f),Ql();var G=s.memoizedState;_!==te||F!==G||ji||r!==null&&r.dependencies!==null&&Qc(r.dependencies)?(typeof E=="function"&&(Lm(s,a,E,l),G=s.memoizedState),(Z=ji||Yv(s,a,Z,l,F,G,C)||r!==null&&r.dependencies!==null&&Qc(r.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=G),d.props=l,d.state=G,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),l=!1)}return d=l,dh(r,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,r!==null&&l?(s.child=po(s,r.child,null,f),s.child=po(s,null,a,f)):Kt(r,s,a,f),s.memoizedState=d.state,r=s.child):r=li(r,s,f),r}function h_(r,s,a,l){return jl(),s.flags|=256,Kt(r,s,a,l),s.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qm(r){return{baseLanes:r,cachePool:Zw()}}function Hm(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=Yn),r}function f_(r,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(Fe){if(f?Fi(s):Gi(),Fe){var E=mt,C;if(C=E){e:{for(C=E,E=Er;C.nodeType!==8;){if(!E){E=null;break e}if(C=ir(C.nextSibling),C===null){E=null;break e}}E=C}E!==null?(s.memoizedState={dehydrated:E,treeContext:ea!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},C=An(18,null,null,0),C.stateNode=E,C.return=s,s.child=C,fn=s,mt=null,C=!0):C=!1}C||ra(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Rp(E)?s.lanes=32:s.lanes=536870912,null;oi(s)}return E=l.children,l=l.fallback,f?(Gi(),f=s.mode,E=mh({mode:"hidden",children:E},f),l=Js(l,f,a,null),E.return=s,l.return=s,E.sibling=l,s.child=E,f=s.child,f.memoizedState=qm(a),f.childLanes=Hm(r,_,a),s.memoizedState=zm,l):(Fi(s),Fm(s,E))}if(C=r.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(d)s.flags&256?(Fi(s),s.flags&=-257,s=Gm(r,s,a)):s.memoizedState!==null?(Gi(),s.child=r.child,s.flags|=128,s=null):(Gi(),f=l.fallback,E=s.mode,l=mh({mode:"visible",children:l.children},E),f=Js(f,E,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,po(s,r.child,null,a),l=s.child,l.memoizedState=qm(a),l.childLanes=Hm(r,_,a),s.memoizedState=zm,s=f);else if(Fi(s),Rp(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(i(419)),l.stack="",l.digest=_,zl({value:l,source:null,stack:null}),s=Gm(r,s,a)}else if(Bt||ql(r,s,a,!1),_=(a&r.childLanes)!==0,Bt||_){if(_=rt,_!==null&&(l=a&-a,l=(l&42)!==0?1:Ni(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ro(r,l),Dn(_,r,l),r_;E.data==="$?"||up(),s=Gm(r,s,a)}else E.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=C.treeContext,mt=ir(E.nextSibling),fn=s,Fe=!0,na=null,Er=!1,r!==null&&($n[Kn++]=ni,$n[Kn++]=ri,$n[Kn++]=ea,ni=r.id,ri=r.overflow,ea=s),s=Fm(s,l.children),s.flags|=4096);return s}return f?(Gi(),f=l.fallback,E=s.mode,C=r.child,z=C.sibling,l=ti(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?f=ti(z,f):(f=Js(f,E,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,E=r.child.memoizedState,E===null?E=qm(a):(C=E.cachePool,C!==null?(z=kt._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Zw(),E={baseLanes:E.baseLanes|a,cachePool:C}),f.memoizedState=E,f.childLanes=Hm(r,_,a),s.memoizedState=zm,l):(Fi(s),a=r.child,r=a.sibling,a=ti(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=a,s.memoizedState=null,a)}function Fm(r,s){return s=mh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function mh(r,s){return r=An(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Gm(r,s,a){return po(s,r.child,null,a),r=Fm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function d_(r,s,a){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),um(r.return,s,a)}function $m(r,s,a,l,f){var d=r.memoizedState;d===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function m_(r,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;if(Kt(r,s,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&d_(r,a,s);else if(r.tag===19)d_(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(oe(Pt,l),f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&ch(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),$m(s,!1,f,a,d);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&ch(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}$m(s,!0,a,null,d);break;case"together":$m(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function li(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Xi|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(ql(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=ti(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ti(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Km(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Qc(r)))}function L1(r,s,a){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),Bi(s,kt,r.memoizedState.cache),jl();break;case 27:case 5:Oi(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:Bi(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?f_(r,s,a):(Fi(s),r=li(r,s,a),r!==null?r.sibling:null);Fi(s);break;case 19:var f=(r.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ql(r,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return m_(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Pt,Pt.current),l)break;return null;case 22:case 23:return s.lanes=0,o_(r,s,a);case 24:Bi(s,kt,r.memoizedState.cache)}return li(r,s,a)}function p_(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Km(r,a)&&(s.flags&128)===0)return Bt=!1,L1(r,s,a);Bt=(r.flags&131072)!==0}else Bt=!1,Fe&&(s.flags&1048576)!==0&&Gw(s,Kc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")nm(l)?(r=la(l,r),s.tag=1,s=c_(null,s,l,r,a)):(s.tag=0,s=jm(null,s,l,r,a));else{if(l!=null){if(f=l.$$typeof,f===ae){s.tag=11,s=i_(null,s,l,r,a);break e}else if(f===x){s.tag=14,s=s_(null,s,l,r,a);break e}}throw s=Ft(l)||l,Error(i(306,s,""))}}return s;case 0:return jm(r,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=la(l,s.pendingProps),c_(r,s,l,f,a);case 3:e:{if(nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,gm(r,s),Yl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Bi(s,kt,l),l!==d.cache&&cm(s,[kt],a,!0),Ql(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=h_(r,s,l,a);break e}else if(l!==f){f=Fn(Error(i(424)),s),zl(f),s=h_(r,s,l,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=ir(r.firstChild),fn=s,Fe=!0,na=null,Er=!0,a=Kv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jl(),l===f){s=li(r,s,a);break e}Kt(r,s,l,a)}s=s.child}return s;case 26:return dh(r,s),r===null?(a=v0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Fe||(a=s.type,r=s.pendingProps,l=Ih(Ae.current).createElement(a),l[Dt]=s,l[Tt]=r,Yt(l,a,r),gt(l),s.stateNode=l):s.memoizedState=v0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Oi(s),r===null&&Fe&&(l=s.stateNode=g0(s.type,s.pendingProps,Ae.current),fn=s,Er=!0,f=mt,es(s.type)?(Cp=f,mt=ir(l.firstChild)):mt=f),Kt(r,s,s.pendingProps.children,a),dh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Fe&&((f=l=mt)&&(l=hR(l,s.type,s.pendingProps,Er),l!==null?(s.stateNode=l,fn=s,mt=ir(l.firstChild),Er=!1,f=!0):f=!1),f||ra(s)),Oi(s),f=s.type,d=s.pendingProps,_=r!==null?r.memoizedProps:null,l=d.children,Tp(f,d)?l=null:_!==null&&Tp(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Em(r,s,x1,null,null,a),yu._currentValue=f),dh(r,s),Kt(r,s,l,a),s.child;case 6:return r===null&&Fe&&((r=a=mt)&&(a=fR(a,s.pendingProps,Er),a!==null?(s.stateNode=a,fn=s,mt=null,r=!0):r=!1),r||ra(s)),null;case 13:return f_(r,s,a);case 4:return nt(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=po(s,null,l,a):Kt(r,s,l,a),s.child;case 11:return i_(r,s,s.type,s.pendingProps,a);case 7:return Kt(r,s,s.pendingProps,a),s.child;case 8:return Kt(r,s,s.pendingProps.children,a),s.child;case 12:return Kt(r,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bi(s,s.type,l.value),Kt(r,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,sa(s),f=tn(f),l=l(f),s.flags|=1,Kt(r,s,l,a),s.child;case 14:return s_(r,s,s.type,s.pendingProps,a);case 15:return a_(r,s,s.type,s.pendingProps,a);case 19:return m_(r,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},r===null?(a=mh(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=ti(r.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return o_(r,s,a);case 24:return sa(s),l=tn(kt),r===null?(f=dm(),f===null&&(f=rt,d=hm(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},pm(s),Bi(s,kt,f)):((r.lanes&a)!==0&&(gm(r,s),Yl(s,null,null,a),Ql()),f=r.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Bi(s,kt,l)):(l=d.cache,Bi(s,kt,l),l!==f.cache&&cm(s,[kt],a,!0))),Kt(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ui(r){r.flags|=4}function g_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!S0(s)){if(s=Qn.current,s!==null&&((Be&4194048)===Be?Tr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==Tr))throw $l=mm,Jw;r.flags|=8192}}function ph(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?vl():536870912,r.lanes|=s,vo|=s)}function nu(r,s){if(!Fe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=a,s}function U1(r,s,a){var l=s.pendingProps;switch(am(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return a=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),si(kt),cr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Bl(s)?ui(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qw())),ut(s),null;case 26:return a=s.memoizedState,r===null?(ui(s),a!==null?(ut(s),g_(s,a)):(ut(s),s.flags&=-16777217)):a?a!==r.memoizedState?(ui(s),ut(s),g_(s,a)):(ut(s),s.flags&=-16777217):(r.memoizedProps!==l&&ui(s),ut(s),s.flags&=-16777217),null;case 27:qr(s),a=Ae.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==l&&ui(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}r=we.current,Bl(s)?$w(s):(r=g0(f,l,a),s.stateNode=r,ui(s))}return ut(s),null;case 5:if(qr(s),a=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&ui(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}if(r=we.current,Bl(s))$w(s);else{switch(f=Ih(Ae.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}r[Dt]=s,r[Tt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Yt(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ui(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&ui(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,Bl(s)){if(r=s.stateNode,a=s.memoizedProps,l=null,f=fn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[Dt]=s,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u0(r.nodeValue,a)),r||ra(s)}else r=Ih(r).createTextNode(l),r[Dt]=s,s.stateNode=r}return ut(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Bl(s),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Dt]=s}else jl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),f=!1}else f=Qw(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(oi(s),s):(oi(s),null)}if(oi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==r&&a&&(s.child.flags|=8192),ph(s,s.updateQueue),ut(s),null;case 4:return cr(),r===null&&wp(s.stateNode.containerInfo),ut(s),null;case 10:return si(s.type),ut(s),null;case 19:if(ce(Pt),f=s.memoizedState,f===null)return ut(s),null;if(l=(s.flags&128)!==0,d=f.rendering,d===null)if(l)nu(f,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(d=ch(r),d!==null){for(s.flags|=128,nu(f,!1),r=d.updateQueue,s.updateQueue=r,ph(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Fw(a,r),a=a.sibling;return oe(Pt,Pt.current&1|2),s.child}r=r.sibling}f.tail!==null&&Un()>wh&&(s.flags|=128,l=!0,nu(f,!1),s.lanes=4194304)}else{if(!l)if(r=ch(d),r!==null){if(s.flags|=128,l=!0,r=r.updateQueue,s.updateQueue=r,ph(s,r),nu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(s),null}else 2*Un()-f.renderingStartTime>wh&&a!==536870912&&(s.flags|=128,l=!0,nu(f,!1),s.lanes=4194304);f.isBackwards?(d.sibling=s.child,s.child=d):(r=f.last,r!==null?r.sibling=d:s.child=d,f.last=d)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Un(),s.sibling=null,r=Pt.current,oe(Pt,l?r&1|2:r&1),s):(ut(s),null);case 22:case 23:return oi(s),_m(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),a=s.updateQueue,a!==null&&ph(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),r!==null&&ce(aa),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),si(kt),ut(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function B1(r,s){switch(am(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return si(kt),cr(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return qr(s),null;case 13:if(oi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));jl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(Pt),null;case 4:return cr(),null;case 10:return si(s.type),null;case 22:case 23:return oi(s),_m(),r!==null&&ce(aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return si(kt),null;case 25:return null;default:return null}}function y_(r,s){switch(am(s),s.tag){case 3:si(kt),cr();break;case 26:case 27:case 5:qr(s);break;case 4:cr();break;case 13:oi(s);break;case 19:ce(Pt);break;case 10:si(s.type);break;case 22:case 23:oi(s),_m(),r!==null&&ce(aa);break;case 24:si(kt)}}function ru(r,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&r)===r){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(E){tt(s,s.return,E)}}function $i(r,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&r)===r){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,f=s;var C=a,z=E;try{z()}catch(Z){tt(f,C,Z)}}}l=l.next}while(l!==d)}}catch(Z){tt(s,s.return,Z)}}function w_(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{sv(s,a)}catch(l){tt(r,r.return,l)}}}function v_(r,s,a){a.props=la(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){tt(r,s,l)}}function iu(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(f){tt(r,s,f)}}function Sr(r,s){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(r,s,f)}else a.current=null}function __(r){var s=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(r,r.return,f)}}function Qm(r,s,a){try{var l=r.stateNode;aR(l,r.type,a,s),l[Tt]=s}catch(f){tt(r,r.return,f)}}function b_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&es(r.type)||r.tag===4}function Ym(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||b_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&es(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xm(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ch));else if(l!==4&&(l===27&&es(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Xm(r,s,a),r=r.sibling;r!==null;)Xm(r,s,a),r=r.sibling}function gh(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(l!==4&&(l===27&&es(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(gh(r,s,a),r=r.sibling;r!==null;)gh(r,s,a),r=r.sibling}function E_(r){var s=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Yt(s,l,a),s[Dt]=r,s[Tt]=a}catch(d){tt(r,r.return,d)}}var ci=!1,wt=!1,Wm=!1,T_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function j1(r,s){if(r=r.containerInfo,bp=Ph,r=Pw(r),Yd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,z=0,Z=0,te=r,F=null;t:for(;;){for(var G;te!==a||f!==0&&te.nodeType!==3||(E=_+f),te!==d||l!==0&&te.nodeType!==3||(C=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===r)break t;if(F===a&&++z===f&&(E=_),F===d&&++Z===l&&(C=_),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ep={focusedElem:r,selectionRange:a},Ph=!1,jt=s;jt!==null;)if(s=jt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,jt=r;else for(;jt!==null;){switch(s=jt,d=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&d!==null){r=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=la(a.type,f,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=r}catch(_e){tt(a,a.return,_e)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)Ap(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ap(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,jt=r;break}jt=s.return}}function S_(r,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(r,a),l&4&&ru(5,a);break;case 1:if(Ki(r,a),l&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(_){tt(a,a.return,_)}else{var f=la(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&w_(a),l&512&&iu(a,a.return);break;case 3:if(Ki(r,a),l&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{sv(r,s)}catch(_){tt(a,a.return,_)}}break;case 27:s===null&&l&4&&E_(a);case 26:case 5:Ki(r,a),s===null&&l&4&&__(a),l&512&&iu(a,a.return);break;case 12:Ki(r,a);break;case 13:Ki(r,a),l&4&&C_(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=Y1.bind(null,a),dR(r,a))));break;case 22:if(l=a.memoizedState!==null||ci,!l){s=s!==null&&s.memoizedState!==null||wt,f=ci;var d=wt;ci=l,(wt=s)&&!d?Qi(r,a,(a.subtreeFlags&8772)!==0):Ki(r,a),ci=f,wt=d}break;case 30:break;default:Ki(r,a)}}function A_(r){var s=r.alternate;s!==null&&(r.alternate=null,A_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Mi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var lt=null,yn=!1;function hi(r,s,a){for(a=a.child;a!==null;)R_(r,s,a),a=a.sibling}function R_(r,s,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:wt||Sr(a,s),hi(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Sr(a,s);var l=lt,f=yn;es(a.type)&&(lt=a.stateNode,yn=!1),hi(r,s,a),du(a.stateNode),lt=l,yn=f;break;case 5:wt||Sr(a,s);case 6:if(l=lt,f=yn,lt=null,hi(r,s,a),lt=l,yn=f,lt!==null)if(yn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){tt(a,s,d)}else try{lt.removeChild(a.stateNode)}catch(d){tt(a,s,d)}break;case 18:lt!==null&&(yn?(r=lt,m0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),bu(r)):m0(lt,a.stateNode));break;case 4:l=lt,f=yn,lt=a.stateNode.containerInfo,yn=!0,hi(r,s,a),lt=l,yn=f;break;case 0:case 11:case 14:case 15:wt||$i(2,a,s),wt||$i(4,a,s),hi(r,s,a);break;case 1:wt||(Sr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,s,l)),hi(r,s,a);break;case 21:hi(r,s,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,hi(r,s,a),wt=l;break;default:hi(r,s,a)}}function C_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{bu(r)}catch(a){tt(s,s.return,a)}}function z1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new T_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new T_),s;default:throw Error(i(435,r.tag))}}function Zm(r,s){var a=z1(r);s.forEach(function(l){var f=X1.bind(null,r,l);a.has(l)||(a.add(l),l.then(f,f))})}function Rn(r,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=r,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(es(E.type)){lt=E.stateNode,yn=!1;break e}break;case 5:lt=E.stateNode,yn=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(lt===null)throw Error(i(160));R_(d,_,f),lt=null,yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)I_(s,r),s=s.sibling}var rr=null;function I_(r,s){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Rn(s,r),Cn(r),l&4&&($i(3,r,r.return),ru(3,r),$i(5,r,r.return));break;case 1:Rn(s,r),Cn(r),l&512&&(wt||a===null||Sr(a,a.return)),l&64&&ci&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=rr;if(Rn(s,r),Cn(r),l&512&&(wt||a===null||Sr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ls]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[Dt]=r,gt(d),l=d;break e;case"link":var _=E0("link","href",f).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=E0("meta","content",f).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(i(468,l))}d[Dt]=r,gt(d),l=d}r.stateNode=l}else T0(f,r.type,r.stateNode);else r.stateNode=b0(f,l,r.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?T0(f,r.type,r.stateNode):b0(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Qm(r,r.memoizedProps,a.memoizedProps)}break;case 27:Rn(s,r),Cn(r),l&512&&(wt||a===null||Sr(a,a.return)),a!==null&&l&4&&Qm(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Rn(s,r),Cn(r),l&512&&(wt||a===null||Sr(a,a.return)),r.flags&32){f=r.stateNode;try{jn(f,"")}catch(G){tt(r,r.return,G)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,Qm(r,f,a!==null?a.memoizedProps:f)),l&1024&&(Wm=!0);break;case 6:if(Rn(s,r),Cn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(G){tt(r,r.return,G)}}break;case 3:if(Oh=null,f=rr,rr=xh(s.containerInfo),Rn(s,r),rr=f,Cn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bu(s.containerInfo)}catch(G){tt(r,r.return,G)}Wm&&(Wm=!1,x_(r));break;case 4:l=rr,rr=xh(r.stateNode.containerInfo),Rn(s,r),Cn(r),rr=l;break;case 12:Rn(s,r),Cn(r);break;case 13:Rn(s,r),Cn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ip=Un()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Zm(r,l)));break;case 22:f=r.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ci,Z=wt;if(ci=z||f,wt=Z||C,Rn(s,r),wt=Z,ci=z,Cn(r),l&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||C||ci||wt||ua(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(d=C.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var te=C.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){tt(C,C.return,G)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(G){tt(C,C.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zm(r,a))));break;case 19:Rn(s,r),Cn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Zm(r,l)));break;case 30:break;case 21:break;default:Rn(s,r),Cn(r)}}function Cn(r){var s=r.flags;if(s&2){try{for(var a,l=r.return;l!==null;){if(b_(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,d=Ym(r);gh(r,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(jn(_,""),a.flags&=-33);var E=Ym(r);gh(r,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Ym(r);Xm(r,z,C);break;default:throw Error(i(161))}}catch(Z){tt(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function x_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;x_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ki(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)S_(r,s.alternate,s),s=s.sibling}function ua(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:$i(4,s,s.return),ua(s);break;case 1:Sr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&v_(s,s.return,a),ua(s);break;case 27:du(s.stateNode);case 26:case 5:Sr(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}r=r.sibling}}function Qi(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=r,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(f,d,a),ru(4,d);break;case 1:if(Qi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){tt(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)iv(C[f],E)}catch(z){tt(l,l.return,z)}}a&&_&64&&w_(d),iu(d,d.return);break;case 27:E_(d);case 26:case 5:Qi(f,d,a),a&&l===null&&_&4&&__(d),iu(d,d.return);break;case 12:Qi(f,d,a);break;case 13:Qi(f,d,a),a&&_&4&&C_(f,d);break;case 22:d.memoizedState===null&&Qi(f,d,a),iu(d,d.return);break;case 30:break;default:Qi(f,d,a)}s=s.sibling}}function Jm(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Hl(a))}function ep(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hl(r))}function Ar(r,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)D_(r,s,a,l),s=s.sibling}function D_(r,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ar(r,s,a,l),f&2048&&ru(9,s);break;case 1:Ar(r,s,a,l);break;case 3:Ar(r,s,a,l),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hl(r)));break;case 12:if(f&2048){Ar(r,s,a,l),r=s.stateNode;try{var d=s.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(C){tt(s,s.return,C)}}else Ar(r,s,a,l);break;case 13:Ar(r,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Ar(r,s,a,l):su(r,s):d._visibility&2?Ar(r,s,a,l):(d._visibility|=2,go(r,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Jm(_,s);break;case 24:Ar(r,s,a,l),f&2048&&ep(s.alternate,s);break;default:Ar(r,s,a,l)}}function go(r,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=r,_=s,E=a,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:go(d,_,E,C,f),ru(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?go(d,_,E,C,f):su(d,_):(Z._visibility|=2,go(d,_,E,C,f)),f&&z&2048&&Jm(_.alternate,_);break;case 24:go(d,_,E,C,f),f&&z&2048&&ep(_.alternate,_);break;default:go(d,_,E,C,f)}s=s.sibling}}function su(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,l=s,f=l.flags;switch(l.tag){case 22:su(a,l),f&2048&&Jm(l.alternate,l);break;case 24:su(a,l),f&2048&&ep(l.alternate,l);break;default:su(a,l)}s=s.sibling}}var au=8192;function yo(r){if(r.subtreeFlags&au)for(r=r.child;r!==null;)O_(r),r=r.sibling}function O_(r){switch(r.tag){case 26:yo(r),r.flags&au&&r.memoizedState!==null&&RR(rr,r.memoizedState,r.memoizedProps);break;case 5:yo(r);break;case 3:case 4:var s=rr;rr=xh(r.stateNode.containerInfo),yo(r),rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=au,au=16777216,yo(r),au=s):yo(r));break;default:yo(r)}}function N_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ou(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];jt=l,P_(l,r)}N_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k_(r),r=r.sibling}function k_(r){switch(r.tag){case 0:case 11:case 15:ou(r),r.flags&2048&&$i(9,r,r.return);break;case 3:ou(r);break;case 12:ou(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,yh(r)):ou(r);break;default:ou(r)}}function yh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];jt=l,P_(l,r)}N_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:$i(8,s,s.return),yh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,yh(s));break;default:yh(s)}r=r.sibling}}function P_(r,s){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:$i(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=r;jt!==null;){l=jt;var f=l.sibling,d=l.return;if(A_(l),l===a){jt=null;break e}if(f!==null){f.return=d,jt=f;break e}jt=d}}}var q1={getCacheForType:function(r){var s=tn(kt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a}},H1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Ne=null,Be=0,Xe=0,In=null,Yi=!1,wo=!1,tp=!1,fi=0,pt=0,Xi=0,ca=0,np=0,Yn=0,vo=0,lu=null,wn=null,rp=!1,ip=0,wh=1/0,vh=null,Wi=null,Qt=0,Zi=null,_o=null,bo=0,sp=0,ap=null,M_=null,uu=0,op=null;function xn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(W.T!==null){var r=oo;return r!==0?r:mp()}return ki()}function V_(){Yn===0&&(Yn=(Be&536870912)===0||Fe?wl():536870912);var r=Qn.current;return r!==null&&(r.flags|=32),Yn}function Dn(r,s,a){(r===rt&&(Xe===2||Xe===9)||r.cancelPendingCommit!==null)&&(Eo(r,0),Ji(r,Be,Yn,!1)),Fr(r,a),((Ye&2)===0||r!==rt)&&(r===rt&&((Ye&2)===0&&(ca|=a),pt===4&&Ji(r,Be,Yn,!1)),Rr(r))}function L_(r,s,a){if((Ye&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&r.expiredLanes)===0||Vs(r,s),f=l?$1(r,s):cp(r,s,!0),d=l;do{if(f===0){wo&&!l&&Ji(r,s,0,!1);break}else{if(a=r.current.alternate,d&&!F1(a)){f=cp(r,s,!1),d=!1;continue}if(f===2){if(d=s,r.errorRecoveryDisabledLanes&d)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var E=r;f=lu;var C=E.current.memoizedState.isDehydrated;if(C&&(Eo(E,_).flags|=256),_=cp(E,_,!1),_!==2){if(tp&&!C){E.errorRecoveryDisabledLanes|=d,ca|=d,f=4;break e}d=wn,wn=f,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Eo(r,0),Ji(r,s,0,!0);break}e:{switch(l=r,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ji(l,s,Yn,!Yi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=ip+300-Un(),10<f)){if(Ji(l,s,Yn,!Yi),Ua(l,0,!0)!==0)break e;l.timeoutHandle=f0(U_.bind(null,l,a,wn,vh,rp,s,Yn,ca,vo,Yi,d,2,-0,0),f);break e}U_(l,a,wn,vh,rp,s,Yn,ca,vo,Yi,d,0,-0,0)}}break}while(!0);Rr(r)}function U_(r,s,a,l,f,d,_,E,C,z,Z,te,F,G){if(r.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(gu={stylesheets:null,count:0,unsuspend:AR},O_(s),te=CR(),te!==null)){r.cancelPendingCommit=te(G_.bind(null,r,s,d,a,l,f,_,E,C,Z,1,F,G)),Ji(r,d,_,!z);return}G_(r,s,d,a,l,f,_,E,C)}function F1(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ji(r,s,a,l){s&=~np,s&=~ca,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var f=s;0<f;){var d=31-en(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&hr(r,a,s)}function _h(){return(Ye&6)===0?(cu(0),!1):!0}function lp(){if(Ne!==null){if(Xe===0)var r=Ne.return;else r=Ne,ii=ia=null,Am(r),mo=null,eu=0,r=Ne;for(;r!==null;)y_(r.alternate,r),r=r.return;Ne=null}}function Eo(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,lR(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),lp(),rt=r,Ne=a=ti(r.current,null),Be=s,Xe=0,In=null,Yi=!1,wo=Vs(r,s),tp=!1,vo=Yn=np=ca=Xi=pt=0,wn=lu=null,rp=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var f=31-en(l),d=1<<f;s|=r[f],l&=~d}return fi=s,qc(),a}function B_(r,s){xe=null,W.H=oh,s===Gl||s===Wc?(s=nv(),Xe=3):s===Jw?(s=nv(),Xe=4):Xe=s===r_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Ne===null&&(pt=1,fh(r,Fn(s,r.current)))}function j_(){var r=W.H;return W.H=oh,r===null?oh:r}function z_(){var r=W.A;return W.A=q1,r}function up(){pt=4,Yi||(Be&4194048)!==Be&&Qn.current!==null||(wo=!0),(Xi&134217727)===0&&(ca&134217727)===0||rt===null||Ji(rt,Be,Yn,!1)}function cp(r,s,a){var l=Ye;Ye|=2;var f=j_(),d=z_();(rt!==r||Be!==s)&&(vh=null,Eo(r,s)),s=!1;var _=pt;e:do try{if(Xe!==0&&Ne!==null){var E=Ne,C=In;switch(Xe){case 8:lp(),_=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var z=Xe;if(Xe=0,In=null,To(r,E,C,z),a&&wo){_=0;break e}break;default:z=Xe,Xe=0,In=null,To(r,E,C,z)}}G1(),_=pt;break}catch(Z){B_(r,Z)}while(!0);return s&&r.shellSuspendCounter++,ii=ia=null,Ye=l,W.H=f,W.A=d,Ne===null&&(rt=null,Be=0,qc()),_}function G1(){for(;Ne!==null;)q_(Ne)}function $1(r,s){var a=Ye;Ye|=2;var l=j_(),f=z_();rt!==r||Be!==s?(vh=null,wh=Un()+500,Eo(r,s)):wo=Vs(r,s);e:do try{if(Xe!==0&&Ne!==null){s=Ne;var d=In;t:switch(Xe){case 1:Xe=0,In=null,To(r,s,d,1);break;case 2:case 9:if(ev(d)){Xe=0,In=null,H_(s);break}s=function(){Xe!==2&&Xe!==9||rt!==r||(Xe=7),Rr(r)},d.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ev(d)?(Xe=0,In=null,H_(s)):(Xe=0,In=null,To(r,s,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var E=Ne;if(!_||S0(_)){Xe=0,In=null;var C=E.sibling;if(C!==null)Ne=C;else{var z=E.return;z!==null?(Ne=z,bh(z)):Ne=null}break t}}Xe=0,In=null,To(r,s,d,5);break;case 6:Xe=0,In=null,To(r,s,d,6);break;case 8:lp(),pt=6;break e;default:throw Error(i(462))}}K1();break}catch(Z){B_(r,Z)}while(!0);return ii=ia=null,W.H=l,W.A=f,Ye=a,Ne!==null?0:(rt=null,Be=0,qc(),pt)}function K1(){for(;Ne!==null&&!ml();)q_(Ne)}function q_(r){var s=p_(r.alternate,r,fi);r.memoizedProps=r.pendingProps,s===null?bh(r):Ne=s}function H_(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=u_(a,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=u_(a,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Am(s);default:y_(a,s),s=Ne=Fw(s,fi),s=p_(a,s,fi)}r.memoizedProps=r.pendingProps,s===null?bh(r):Ne=s}function To(r,s,a,l){ii=ia=null,Am(s),mo=null,eu=0;var f=s.return;try{if(V1(r,f,s,a,Be)){pt=1,fh(r,Fn(a,r.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;pt=1,fh(r,Fn(a,r.current)),Ne=null;return}s.flags&32768?(Fe||l===1?r=!0:wo||(Be&536870912)!==0?r=!1:(Yi=r=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),F_(s,r)):bh(s)}function bh(r){var s=r;do{if((s.flags&32768)!==0){F_(s,Yi);return}r=s.return;var a=U1(s.alternate,s,fi);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=r}while(s!==null);pt===0&&(pt=5)}function F_(r,s){do{var a=B1(r.alternate,r);if(a!==null){a.flags&=32767,Ne=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ne=r;return}Ne=r=a}while(r!==null);pt=6,Ne=null}function G_(r,s,a,l,f,d,_,E,C){r.cancelPendingCommit=null;do Eh();while(Qt!==0);if((Ye&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(d=s.lanes|s.childLanes,d|=em,_l(r,a,d,_,E,C),r===rt&&(Ne=rt=null,Be=0),_o=s,Zi=r,bo=a,sp=d,ap=f,M_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,W1(Ns,function(){return X_(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ue.p,ue.p=2,_=Ye,Ye|=4;try{j1(r,s,a)}finally{Ye=_,ue.p=f,W.T=l}}Qt=1,$_(),K_(),Q_()}}function $_(){if(Qt===1){Qt=0;var r=Zi,s=_o,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var f=Ye;Ye|=4;try{I_(s,r);var d=Ep,_=Pw(r.containerInfo),E=d.focusedElem,C=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&kw(E.ownerDocument.documentElement,E)){if(C!==null&&Yd(E)){var z=C.start,Z=C.end;if(Z===void 0&&(Z=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Z,E.value.length);else{var te=E.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),Te=E.textContent.length,_e=Math.min(C.start,Te),et=C.end===void 0?_e:Math.min(C.end,Te);!G.extend&&_e>et&&(_=et,et=_e,_e=_);var M=Nw(E,_e),N=Nw(E,et);if(M&&N&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var j=te.createRange();j.setStart(M.node,M.offset),G.removeAllRanges(),_e>et?(G.addRange(j),G.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),G.addRange(j))}}}}for(te=[],G=E;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<te.length;E++){var J=te[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ph=!!bp,Ep=bp=null}finally{Ye=f,ue.p=l,W.T=a}}r.current=s,Qt=2}}function K_(){if(Qt===2){Qt=0;var r=Zi,s=_o,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var f=Ye;Ye|=4;try{S_(r,s.alternate,s)}finally{Ye=f,ue.p=l,W.T=a}}Qt=3}}function Q_(){if(Qt===4||Qt===3){Qt=0,yc();var r=Zi,s=_o,a=bo,l=M_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,_o=Zi=null,Y_(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Wi=null),Ba(a),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(dt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=ue.p,ue.p=2,W.T=null;try{for(var d=r.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{W.T=s,ue.p=f}}(bo&3)!==0&&Eh(),Rr(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===op?uu++:(uu=0,op=r):uu=0,cu(0)}}function Y_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Hl(s)))}function Eh(r){return $_(),K_(),Q_(),X_()}function X_(){if(Qt!==5)return!1;var r=Zi,s=sp;sp=0;var a=Ba(bo),l=W.T,f=ue.p;try{ue.p=32>a?32:a,W.T=null,a=ap,ap=null;var d=Zi,_=bo;if(Qt=0,_o=Zi=null,bo=0,(Ye&6)!==0)throw Error(i(331));var E=Ye;if(Ye|=4,k_(d.current),D_(d,d.current,_,a),Ye=E,cu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{ue.p=f,W.T=l,Y_(r,s)}}function W_(r,s,a){s=Fn(a,s),s=Bm(r.stateNode,s,2),r=qi(r,s,2),r!==null&&(Fr(r,2),Rr(r))}function tt(r,s,a){if(r.tag===3)W_(r,r,a);else for(;s!==null;){if(s.tag===3){W_(s,r,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wi===null||!Wi.has(l))){r=Fn(a,r),a=t_(2),l=qi(s,a,2),l!==null&&(n_(a,l,s,r),Fr(l,2),Rr(l));break}}s=s.return}}function hp(r,s,a){var l=r.pingCache;if(l===null){l=r.pingCache=new H1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(tp=!0,f.add(a),r=Q1.bind(null,r,s,a),s.then(r,r))}function Q1(r,s,a){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,rt===r&&(Be&a)===a&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Un()-ip?(Ye&2)===0&&Eo(r,0):np|=a,vo===Be&&(vo=0)),Rr(r)}function Z_(r,s){s===0&&(s=vl()),r=ro(r,s),r!==null&&(Fr(r,s),Rr(r))}function Y1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Z_(r,a)}function X1(r,s){var a=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Z_(r,a)}function W1(r,s){return Ds(r,s)}var Th=null,So=null,fp=!1,Sh=!1,dp=!1,ha=0;function Rr(r){r!==So&&r.next===null&&(So===null?Th=So=r:So=So.next=r),Sh=!0,fp||(fp=!0,J1())}function cu(r,s){if(!dp&&Sh){dp=!0;do for(var a=!1,l=Th;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-en(42|r)+1)-1,d&=f&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n0(l,d))}else d=Be,d=Ua(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Vs(l,d)||(a=!0,n0(l,d));l=l.next}while(a);dp=!1}}function Z1(){J_()}function J_(){Sh=fp=!1;var r=0;ha!==0&&(oR()&&(r=ha),ha=0);for(var s=Un(),a=null,l=Th;l!==null;){var f=l.next,d=e0(l,s);d===0?(l.next=null,a===null?Th=f:a.next=f,f===null&&(So=a)):(a=l,(r!==0||(d&3)!==0)&&(Sh=!0)),l=f}cu(r)}function e0(r,s){for(var a=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,d=r.pendingLanes&-62914561;0<d;){var _=31-en(d),E=1<<_,C=f[_];C===-1?((E&a)===0||(E&l)!==0)&&(f[_]=yl(E,s)):C<=s&&(r.expiredLanes|=E),d&=~E}if(s=rt,a=Be,a=Ua(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===s&&(Xe===2||Xe===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Os(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Vs(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(l!==null&&Os(l),Ba(a)){case 2:case 8:a=Va;break;case 32:a=Ns;break;case 268435456:a=La;break;default:a=Ns}return l=t0.bind(null,r),a=Ds(a,l),r.callbackPriority=s,r.callbackNode=a,s}return l!==null&&l!==null&&Os(l),r.callbackPriority=2,r.callbackNode=null,2}function t0(r,s){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Eh()&&r.callbackNode!==a)return null;var l=Be;return l=Ua(r,r===rt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(L_(r,l,s),e0(r,Un()),r.callbackNode!=null&&r.callbackNode===a?t0.bind(null,r):null)}function n0(r,s){if(Eh())return null;L_(r,s,!0)}function J1(){uR(function(){(Ye&6)!==0?Ds(pl,Z1):J_()})}function mp(){return ha===0&&(ha=wl()),ha}function r0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ga(""+r)}function i0(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function eR(r,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=r0((f[Tt]||null).action),_=l.submitter;_&&(s=(s=_[Tt]||null)?r0(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var E=new $a("action","action",null,l,f);r.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var C=_?i0(f,_):new FormData(f);Pm(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=_?i0(f,_):new FormData(f),Pm(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var pp=0;pp<Jd.length;pp++){var gp=Jd[pp],tR=gp.toLowerCase(),nR=gp[0].toUpperCase()+gp.slice(1);nr(tR,"on"+nR)}nr(Lw,"onAnimationEnd"),nr(Uw,"onAnimationIteration"),nr(Bw,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(v1,"onTransitionRun"),nr(_1,"onTransitionStart"),nr(b1,"onTransitionCancel"),nr(jw,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function s0(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var E=l[_],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=z;try{d(f)}catch(Z){hh(Z)}f.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(E=l[_],C=E.instance,z=E.currentTarget,E=E.listener,C!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=z;try{d(f)}catch(Z){hh(Z)}f.currentTarget=null,d=C}}}}function ke(r,s){var a=s[El];a===void 0&&(a=s[El]=new Set);var l=r+"__bubble";a.has(l)||(a0(s,r,2,!1),a.add(l))}function yp(r,s,a){var l=0;s&&(l|=4),a0(a,r,l,s)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function wp(r){if(!r[Ah]){r[Ah]=!0,Tl.forEach(function(a){a!=="selectionchange"&&(rR.has(a)||yp(a,!1,r),yp(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ah]||(s[Ah]=!0,yp("selectionchange",!1,s))}}function a0(r,s,a,l){switch(D0(s)){case 2:var f=DR;break;case 8:f=OR;break;default:f=Np}a=f.bind(null,s,a,r),f=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function vp(r,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;E!==null;){if(_=Gr(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}E=E.parentNode}}l=l.return}Cc(function(){var z=d,Z=zn(a),te=[];e:{var F=zw.get(r);if(F!==void 0){var G=$a,Te=r;switch(r){case"keypress":if(yr(a)===0)break e;case"keydown":case"keyup":G=Za;break;case"focusin":Te="focus",G=Ya;break;case"focusout":Te="blur",G=Ya;break;case"beforeblur":case"afterblur":G=Ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Mc;break;case Lw:case Uw:case Bw:G=Xa;break;case jw:G=Lc;break;case"scroll":case"scrollend":G=Ic;break;case"wheel":G=Ja;break;case"copy":case"cut":case"paste":G=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ml;break;case"toggle":case"beforetoggle":G=Bc}var _e=(s&4)!==0,et=!_e&&(r==="scroll"||r==="scrollend"),M=_e?F!==null?F+"Capture":null:F;_e=[];for(var N=z,j;N!==null;){var J=N;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||M===null||(J=Fs(N,M),J!=null&&_e.push(fu(N,J,j))),et)break;N=N.return}0<_e.length&&(F=new G(F,Te,null,a,Z),te.push({event:F,listeners:_e}))}}if((s&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",F&&a!==Yr&&(Te=a.relatedTarget||a.fromElement)&&(Gr(Te)||Te[Bn]))break e;if((G||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=z,Te=Te?Gr(Te):null,Te!==null&&(et=u(Te),_e=Te.tag,Te!==et||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(G=null,Te=z),G!==Te)){if(_e=Hn,J="onMouseLeave",M="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(_e=Ml,J="onPointerLeave",M="onPointerEnter",N="pointer"),et=G==null?F:dr(G),j=Te==null?F:dr(Te),F=new _e(J,N+"leave",G,a,Z),F.target=et,F.relatedTarget=j,J=null,Gr(Z)===z&&(_e=new _e(M,N+"enter",Te,a,Z),_e.target=j,_e.relatedTarget=et,J=_e),et=J,G&&Te)t:{for(_e=G,M=Te,N=0,j=_e;j;j=Ao(j))N++;for(j=0,J=M;J;J=Ao(J))j++;for(;0<N-j;)_e=Ao(_e),N--;for(;0<j-N;)M=Ao(M),j--;for(;N--;){if(_e===M||M!==null&&_e===M.alternate)break t;_e=Ao(_e),M=Ao(M)}_e=null}else _e=null;G!==null&&o0(te,F,G,_e,!1),Te!==null&&et!==null&&o0(te,et,Te,_e,!0)}}e:{if(F=z?dr(z):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var me=Rw;else if(Nt(F))if(Cw)me=g1;else{me=m1;var Oe=d1}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?z&&Il(z.elementType)&&(me=Rw):me=p1;if(me&&(me=me(r,z))){ei(te,me,a,Z);break e}Oe&&Oe(r,F,z),r==="focusout"&&z&&F.type==="number"&&z.memoizedProps.value!=null&&Li(F,"number",F.value)}switch(Oe=z?dr(z):window,r){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(eo=Oe,Xd=z,Ul=null);break;case"focusout":Ul=Xd=eo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Mw(te,a,Z);break;case"selectionchange":if(w1)break;case"keydown":case"keyup":Mw(te,a,Z)}var pe;if(_r)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?Q(r,a)&&(be="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(w&&a.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(pe=Dl()):(gr=Z,Ui="value"in gr?gr.value:gr.textContent,Le=!0)),Oe=Rh(z,be),0<Oe.length&&(be=new kl(be,r,null,a,Z),te.push({event:be,listeners:Oe}),pe?be.data=pe:(pe=le(a),pe!==null&&(be.data=pe)))),(pe=y?Ot(r,a):Ue(r,a))&&(be=Rh(z,"onBeforeInput"),0<be.length&&(Oe=new kl("onBeforeInput","beforeinput",null,a,Z),te.push({event:Oe,listeners:be}),Oe.data=pe)),eR(te,r,z,a,Z)}s0(te,s)})}function fu(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Rh(r,s){for(var a=s+"Capture",l=[];r!==null;){var f=r,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Fs(r,a),f!=null&&l.unshift(fu(r,f,d)),f=Fs(r,s),f!=null&&l.push(fu(r,f,d))),r.tag===3)return l;r=r.return}return[]}function Ao(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function o0(r,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,f?(z=Fs(a,d),z!=null&&_.unshift(fu(a,z,C))):f||(z=Fs(a,d),z!=null&&_.push(fu(a,z,C)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var iR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function l0(r){return(typeof r=="string"?r:""+r).replace(iR,`
`).replace(sR,"")}function u0(r,s){return s=l0(s),l0(r)===s}function Ch(){}function Je(r,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||jn(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&jn(r,""+l);break;case"className":mr(r,"class",l);break;case"tabIndex":mr(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(r,a,l);break;case"style":Cl(r,l,d);break;case"data":if(s!=="object"){mr(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Ga(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Je(r,s,"name",f.name,f,null),Je(r,s,"formEncType",f.formEncType,f,null),Je(r,s,"formMethod",f.formMethod,f,null),Je(r,s,"formTarget",f.formTarget,f,null)):(Je(r,s,"encType",f.encType,f,null),Je(r,s,"method",f.method,f,null),Je(r,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Ga(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Ch);break;case"onScroll":l!=null&&ke("scroll",r);break;case"onScrollEnd":l!=null&&ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=Ga(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":ke("beforetoggle",r),ke("toggle",r),Vi(r,"popover",l);break;case"xlinkActuate":Gt(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vi(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hd.get(a)||a,Vi(r,a,l))}}function _p(r,s,a,l,f,d){switch(a){case"style":Cl(r,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof l=="string"?jn(r,l):(typeof l=="number"||typeof l=="bigint")&&jn(r,""+l);break;case"onScroll":l!=null&&ke("scroll",r);break;case"onScrollEnd":l!=null&&ke("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=r[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&r.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,l,f);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):Vi(r,a,l)}}}function Yt(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",r),ke("load",r);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,d,_,a,null)}}f&&Je(r,s,"srcSet",a.srcSet,a,null),l&&Je(r,s,"src",a.src,a,null);return;case"input":ke("invalid",r);var E=d=_=f=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":z=Z;break;case"value":d=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Je(r,s,l,Z,a,null)}}zs(r,d,E,C,z,_,f,!1),Fa(r);return;case"select":ke("invalid",r),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Je(r,s,f,E,a,null)}s=d,a=_,r.multiple=!!l,s!=null?Qr(r,!!l,s,!1):a!=null&&Qr(r,!!l,a,!0);return;case"textarea":ke("invalid",r),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Je(r,s,_,E,a,null)}qs(r,l,f,d),Fa(r);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(r,s,C,l,a,null)}return;case"dialog":ke("beforetoggle",r),ke("toggle",r),ke("cancel",r),ke("close",r);break;case"iframe":case"object":ke("load",r);break;case"video":case"audio":for(l=0;l<hu.length;l++)ke(hu[l],r);break;case"image":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"embed":case"source":case"link":ke("error",r),ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,z,l,a,null)}return;default:if(Il(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&_p(r,s,Z,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Je(r,s,E,l,a,null))}function aR(r,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,E=null,C=null,z=null,Z=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(G)||Je(r,s,G,null,l,te)}}for(var F in l){var G=l[F];if(te=a[F],l.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":d=G;break;case"name":f=G;break;case"checked":z=G;break;case"defaultChecked":Z=G;break;case"value":_=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==te&&Je(r,s,F,G,l,te)}}Tn(r,_,E,C,z,Z,d,f);return;case"select":G=_=E=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Je(r,s,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":F=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==C&&Je(r,s,f,d,l,C)}s=E,a=_,l=G,F!=null?Qr(r,!!a,F,!1):!!l!=!!a&&(s!=null?Qr(r,!!a,s,!0):Qr(r,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(r,s,E,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&Je(r,s,_,f,l,d)}We(r,F,G);return;case"option":for(var Te in a)if(F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":r.selected=!1;break;default:Je(r,s,Te,null,l,F)}for(C in l)if(F=l[C],G=a[C],l.hasOwnProperty(C)&&F!==G&&(F!=null||G!=null))switch(C){case"selected":r.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(r,s,C,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Je(r,s,_e,null,l,F);for(z in l)if(F=l[z],G=a[z],l.hasOwnProperty(z)&&F!==G&&(F!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,s));break;default:Je(r,s,z,F,l,G)}return;default:if(Il(s)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&_p(r,s,et,void 0,l,F);for(Z in l)F=l[Z],G=a[Z],!l.hasOwnProperty(Z)||F===G||F===void 0&&G===void 0||_p(r,s,Z,F,l,G);return}}for(var M in a)F=a[M],a.hasOwnProperty(M)&&F!=null&&!l.hasOwnProperty(M)&&Je(r,s,M,null,l,F);for(te in l)F=l[te],G=a[te],!l.hasOwnProperty(te)||F===G||F==null&&G==null||Je(r,s,te,F,l,G)}var bp=null,Ep=null;function Ih(r){return r.nodeType===9?r:r.ownerDocument}function c0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Tp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sp=null;function oR(){var r=window.event;return r&&r.type==="popstate"?r===Sp?!1:(Sp=r,!0):(Sp=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,uR=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(r){return d0.resolve(null).then(r).catch(cR)}:f0;function cR(r){setTimeout(function(){throw r})}function es(r){return r==="head"}function m0(r,s){var a=s,l=0,f=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=r.ownerDocument;if(a&1&&du(_.documentElement),a&2&&du(_.body),a&4)for(a=_.head,du(a),_=a.firstChild;_;){var E=_.nextSibling,C=_.nodeName;_[Ls]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(f===0){r.removeChild(d),bu(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);bu(s)}function Ap(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ap(a),Mi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function hR(r,s,a,l){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ls])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(d=r.getAttribute("rel"),d==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(d!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(d=r.getAttribute("src"),(d!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===d)return r}else return r;if(r=ir(r.nextSibling),r===null)break}return null}function fR(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=ir(r.nextSibling),r===null))return null;return r}function Rp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function dR(r,s){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function ir(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Cp=null;function p0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}function g0(r,s,a){switch(s=Ih(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function du(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Mi(r)}var Xn=new Map,y0=new Set;function xh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var di=ue.d;ue.d={f:mR,r:pR,D:gR,C:yR,L:wR,m:vR,X:bR,S:_R,M:ER};function mR(){var r=di.f(),s=_h();return r||s}function pR(r){var s=fr(r);s!==null&&s.tag===5&&s.type==="form"?Lv(s):di.r(r)}var Ro=typeof document>"u"?null:document;function w0(r,s,a){var l=Ro;if(l&&typeof s=="string"&&s){var f=St(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),y0.has(f)||(y0.add(f),r={rel:r,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Yt(s,"link",r),gt(s),l.head.appendChild(s)))}}function gR(r){di.D(r),w0("dns-prefetch",r,null)}function yR(r,s){di.C(r,s),w0("preconnect",r,s)}function wR(r,s,a){di.L(r,s,a);var l=Ro;if(l&&r&&s){var f='link[rel="preload"][as="'+St(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+St(a.imageSizes)+'"]')):f+='[href="'+St(r)+'"]';var d=f;switch(s){case"style":d=Co(r);break;case"script":d=Io(r)}Xn.has(d)||(r=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Xn.set(d,r),l.querySelector(f)!==null||s==="style"&&l.querySelector(mu(d))||s==="script"&&l.querySelector(pu(d))||(s=l.createElement("link"),Yt(s,"link",r),gt(s),l.head.appendChild(s)))}}function vR(r,s){di.m(r,s);var a=Ro;if(a&&r){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(r)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Io(r)}if(!Xn.has(d)&&(r=v({rel:"modulepreload",href:r},s),Xn.set(d,r),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pu(d)))return}l=a.createElement("link"),Yt(l,"link",r),gt(l),a.head.appendChild(l)}}}function _R(r,s,a){di.S(r,s,a);var l=Ro;if(l&&r){var f=un(l).hoistableStyles,d=Co(r);s=s||"default";var _=f.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(mu(d)))E.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Xn.get(d))&&Ip(r,a);var C=_=l.createElement("link");gt(C),Yt(C,"link",r),C._p=new Promise(function(z,Z){C.onload=z,C.onerror=Z}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Dh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:E},f.set(d,_)}}}function bR(r,s){di.X(r,s);var a=Ro;if(a&&r){var l=un(a).hoistableScripts,f=Io(r),d=l.get(f);d||(d=a.querySelector(pu(f)),d||(r=v({src:r,async:!0},s),(s=Xn.get(f))&&xp(r,s),d=a.createElement("script"),gt(d),Yt(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ER(r,s){di.M(r,s);var a=Ro;if(a&&r){var l=un(a).hoistableScripts,f=Io(r),d=l.get(f);d||(d=a.querySelector(pu(f)),d||(r=v({src:r,async:!0,type:"module"},s),(s=Xn.get(f))&&xp(r,s),d=a.createElement("script"),gt(d),Yt(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function v0(r,s,a,l){var f=(f=Ae.current)?xh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Co(a.href),a=un(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Co(a.href);var d=un(f).hoistableStyles,_=d.get(r);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(r,_),(d=f.querySelector(mu(r)))&&!d._p&&(_.instance=d,_.state.loading=5),Xn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(r,a),d||TR(f,r,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Io(a),a=un(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Co(r){return'href="'+St(r)+'"'}function mu(r){return'link[rel="stylesheet"]['+r+"]"}function _0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function TR(r,s,a,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Yt(s,"link",a),gt(s),r.head.appendChild(s))}function Io(r){return'[src="'+St(r)+'"]'}function pu(r){return"script[async]"+r}function b0(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return s.instance=l,gt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),gt(l),Yt(l,"style",f),Dh(l,a.precedence,r),s.instance=l;case"stylesheet":f=Co(a.href);var d=r.querySelector(mu(f));if(d)return s.state.loading|=4,s.instance=d,gt(d),d;l=_0(a),(f=Xn.get(f))&&Ip(l,f),d=(r.ownerDocument||r).createElement("link"),gt(d);var _=d;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Yt(d,"link",l),s.state.loading|=4,Dh(d,a.precedence,r),s.instance=d;case"script":return d=Io(a.src),(f=r.querySelector(pu(d)))?(s.instance=f,gt(f),f):(l=a,(f=Xn.get(d))&&(l=v({},a),xp(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),gt(f),Yt(f,"link",l),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Dh(l,a.precedence,r));return s.instance}function Dh(r,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===s)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(r,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function Ip(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function xp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Oh=null;function E0(r,s,a){if(Oh===null){var l=new Map,f=Oh=new Map;f.set(a,l)}else f=Oh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var d=a[f];if(!(d[Ls]||d[Dt]||r==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=r+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function T0(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function SR(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var gu=null;function AR(){}function RR(r,s,a){if(gu===null)throw Error(i(475));var l=gu;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Co(a.href),d=r.querySelector(mu(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Nh.bind(l),r.then(l,l)),s.state.loading|=4,s.instance=d,gt(d);return}d=r.ownerDocument||r,a=_0(a),(f=Xn.get(f))&&Ip(a,f),d=d.createElement("link"),gt(d);var _=d;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Yt(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Nh.bind(l),r.addEventListener("load",s),r.addEventListener("error",s))}}function CR(){if(gu===null)throw Error(i(475));var r=gu;return r.stylesheets&&r.count===0&&Dp(r,r.stylesheets),0<r.count?function(s){var a=setTimeout(function(){if(r.stylesheets&&Dp(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kh=null;function Dp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kh=new Map,s.forEach(IR,r),kh=null,Nh.call(r))}function IR(r,s){if(!(s.state.loading&4)){var a=kh.get(r);if(a)var l=a.get(null);else{a=new Map,kh.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var yu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function xR(r,s,a,l,f,d,_,E){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function A0(r,s,a,l,f,d,_,E,C,z,Z,te){return r=new xR(r,s,a,_,E,C,z,te),s=1,d===!0&&(s|=24),d=An(3,null,null,s),r.current=d,d.stateNode=r,s=hm(),s.refCount++,r.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},pm(d),r}function R0(r){return r?(r=io,r):io}function C0(r,s,a,l,f,d){f=R0(f),l.context===null?l.context=f:l.pendingContext=f,l=zi(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qi(r,l,s),a!==null&&(Dn(a,r,s),Kl(a,r,s))}function I0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Op(r,s){I0(r,s),(r=r.alternate)&&I0(r,s)}function x0(r){if(r.tag===13){var s=ro(r,67108864);s!==null&&Dn(s,r,67108864),Op(r,67108864)}}var Ph=!0;function DR(r,s,a,l){var f=W.T;W.T=null;var d=ue.p;try{ue.p=2,Np(r,s,a,l)}finally{ue.p=d,W.T=f}}function OR(r,s,a,l){var f=W.T;W.T=null;var d=ue.p;try{ue.p=8,Np(r,s,a,l)}finally{ue.p=d,W.T=f}}function Np(r,s,a,l){if(Ph){var f=kp(l);if(f===null)vp(r,s,l,Mh,a),O0(r,l);else if(kR(f,r,s,a,l))l.stopPropagation();else if(O0(r,l),s&4&&-1<NR.indexOf(r)){for(;f!==null;){var d=fr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Jn(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-en(_);E.entanglements[1]|=C,_&=~C}Rr(d),(Ye&6)===0&&(wh=Un()+500,cu(0))}}break;case 13:E=ro(d,2),E!==null&&Dn(E,d,2),_h(),Op(d,2)}if(d=kp(l),d===null&&vp(r,s,l,Mh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else vp(r,s,l,null,a)}}function kp(r){return r=zn(r),Pp(r)}var Mh=null;function Pp(r){if(Mh=null,r=Gr(r),r!==null){var s=u(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=h(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Mh=r,null}function D0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ld()){case pl:return 2;case Va:return 8;case Ns:case Ud:return 32;case La:return 268435456;default:return 32}default:return 32}}var Mp=!1,ts=null,ns=null,rs=null,wu=new Map,vu=new Map,is=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O0(r,s){switch(r){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(s.pointerId)}}function _u(r,s,a,l,f,d){return r===null||r.nativeEvent!==d?(r={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=fr(s),s!==null&&x0(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function kR(r,s,a,l,f){switch(s){case"focusin":return ts=_u(ts,r,s,a,l,f),!0;case"dragenter":return ns=_u(ns,r,s,a,l,f),!0;case"mouseover":return rs=_u(rs,r,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return wu.set(d,_u(wu.get(d)||null,r,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,vu.set(d,_u(vu.get(d)||null,r,s,a,l,f)),!0}return!1}function N0(r){var s=Gr(r.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){r.blockedOn=s,_c(r.priority,function(){if(a.tag===13){var l=xn();l=Ni(l);var f=ro(a,l);f!==null&&Dn(f,a,l),Op(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=kp(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);Yr=l,a.target.dispatchEvent(l),Yr=null}else return s=fr(a),s!==null&&x0(s),r.blockedOn=a,!1;s.shift()}return!0}function k0(r,s,a){Vh(r)&&a.delete(s)}function PR(){Mp=!1,ts!==null&&Vh(ts)&&(ts=null),ns!==null&&Vh(ns)&&(ns=null),rs!==null&&Vh(rs)&&(rs=null),wu.forEach(k0),vu.forEach(k0)}function Lh(r,s){r.blockedOn===s&&(r.blockedOn=null,Mp||(Mp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PR)))}var Uh=null;function P0(r){Uh!==r&&(Uh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uh===r&&(Uh=null);for(var s=0;s<r.length;s+=3){var a=r[s],l=r[s+1],f=r[s+2];if(typeof l!="function"){if(Pp(l||a)===null)continue;break}var d=fr(a);d!==null&&(r.splice(s,3),s-=3,Pm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function bu(r){function s(C){return Lh(C,r)}ts!==null&&Lh(ts,r),ns!==null&&Lh(ns,r),rs!==null&&Lh(rs,r),wu.forEach(s),vu.forEach(s);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)N0(a),a.blockedOn===null&&is.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Tt]||null;if(typeof d=="function")_||P0(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Tt]||null)E=_.formAction;else if(Pp(f)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),P0(a)}}}function Vp(r){this._internalRoot=r}Bh.prototype.render=Vp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=xn();C0(a,l,r,s,null,null)},Bh.prototype.unmount=Vp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;C0(r.current,2,null,r,null,null),_h(),s[Bn]=null}};function Bh(r){this._internalRoot=r}Bh.prototype.unstable_scheduleHydration=function(r){if(r){var s=ki();r={blockedOn:null,target:r,priority:s};for(var a=0;a<is.length&&s!==0&&s<is[a].priority;a++);is.splice(a,0,r),a===0&&N0(r)}};var M0=e.version;if(M0!=="19.1.1")throw Error(i(527,M0,"19.1.1"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var MR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{dt=jh.inject(MR),Qe=jh}catch{}}return Tu.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,l="",f=Wv,d=Zv,_=Jv,E=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=A0(r,1,!1,null,null,a,l,f,d,_,E,null),r[Bn]=s.current,wp(r),new Vp(s)},Tu.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var l=!1,f="",d=Wv,_=Zv,E=Jv,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),s=A0(r,1,!0,s,a??null,l,f,d,_,E,C,z),s.context=R0(null),a=s.current,l=xn(),l=Ni(l),f=zi(l),f.callback=null,qi(a,f,l),a=l,s.current.lanes=a,Fr(s,a),Rr(s),r[Bn]=s.current,wp(r),new Bh(s)},Tu.version="19.1.1",Tu}var G0;function GR(){if(G0)return Bp.exports;G0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bp.exports=FR(),Bp.exports}var $R=GR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $0="popstate";function KR(t={}){function e(i,o){let{pathname:u,search:h,hash:m}=i.location;return fg("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Uu(o)}return YR(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QR(){return Math.random().toString(36).substring(2,10)}function K0(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:n,key:e&&e.key||i||QR()}}function Uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function YR(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){m="POP";let U=v(),$=U==null?null:U-g;g=U,p&&p({action:m,location:q.location,delta:$})}function S(U,$){m="PUSH";let se=fg(q.location,U,$);g=v()+1;let X=K0(se,g),ae=q.createHref(se);try{h.pushState(X,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ae)}u&&p&&p({action:m,location:q.location,delta:1})}function D(U,$){m="REPLACE";let se=fg(q.location,U,$);g=v();let X=K0(se,g),ae=q.createHref(se);h.replaceState(X,"",ae),u&&p&&p({action:m,location:q.location,delta:0})}function V(U){return XR(U)}let q={get action(){return m},get location(){return t(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($0,b),p=U,()=>{o.removeEventListener($0,b),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let $=V(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:D,go(U){return h.go(U)}};return q}function XR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Uu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function aT(t,e,n="/"){return WR(t,e,n,!1)}function WR(t,e,n,i){let o=typeof e=="string"?Zo(e):e,u=bi(o.pathname||"/",n);if(u==null)return null;let h=oT(t);ZR(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=uC(u);m=oC(h[p],g,i)}return m}function oT(t,e=[],n=[],i=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=yi([i,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),oT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:sC(g,u.index),routesMeta:v})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of lT(u.path))o(u,h,m)}),e}function lT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=lT(i.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function ZR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var JR=/^:[\w-]+$/,eC=3,tC=2,nC=1,rC=10,iC=-2,Q0=t=>t==="*";function sC(t,e){let n=t.split("/"),i=n.length;return n.some(Q0)&&(i+=iC),e&&(i+=tC),n.filter(o=>!Q0(o)).reduce((o,u)=>o+(JR.test(u)?eC:u===""?nC:rC),i)}function aC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function oC(t,e,n=!1){let{routesMeta:i}=t,o={},u="/",h=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!b&&g&&n&&!i[i.length-1].route.index&&(b=bf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:yi([u,b.pathname]),pathnameBase:dC(yi([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=yi([u,b.pathnameBase]))}return h}function bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=lC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},S)=>{if(v==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const D=m[S];return b&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:t}}function lC(t,e=!1,n=!0){Vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function uC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function cC(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Zo(t):t;return{pathname:n?n.startsWith("/")?n:hC(n,e):e,search:mC(i),hash:pC(o)}}function hC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uT(t){let e=fC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function cT(t,e,n,i=!1){let o;typeof t=="string"?o=Zo(t):(o={...t},ct(!o.pathname||!o.pathname.includes("?"),Hp("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Hp("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Hp("#","search","hash",o)));let u=t===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=cC(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var yi=t=>t.join("/").replace(/\/\/+/g,"/"),dC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hT=["POST","PUT","PATCH","DELETE"];new Set(hT);var yC=["GET",...hT];new Set(yC);var Jo=K.createContext(null);Jo.displayName="DataRouter";var nd=K.createContext(null);nd.displayName="DataRouterState";K.createContext(!1);var fT=K.createContext({isTransitioning:!1});fT.displayName="ViewTransition";var wC=K.createContext(new Map);wC.displayName="Fetchers";var vC=K.createContext(null);vC.displayName="Await";var zr=K.createContext(null);zr.displayName="Navigation";var Xu=K.createContext(null);Xu.displayName="Location";var xi=K.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var ty=K.createContext(null);ty.displayName="RouteError";function _C(t,{relative:e}={}){ct(Wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=K.useContext(zr),{hash:o,pathname:u,search:h}=Zu(t,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:yi([n,u])),i.createHref({pathname:m,search:h,hash:o})}function Wu(){return K.useContext(Xu)!=null}function Ia(){return ct(Wu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Xu).location}var dT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mT(t){K.useContext(zr).static||K.useLayoutEffect(t)}function rd(){let{isDataRoute:t}=K.useContext(xi);return t?kC():bC()}function bC(){ct(Wu(),"useNavigate() may be used only in the context of a <Router> component.");let t=K.useContext(Jo),{basename:e,navigator:n}=K.useContext(zr),{matches:i}=K.useContext(xi),{pathname:o}=Ia(),u=JSON.stringify(uT(i)),h=K.useRef(!1);return mT(()=>{h.current=!0}),K.useCallback((p,g={})=>{if(Vr(h.current,dT),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=cT(p,JSON.parse(u),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:yi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,t])}K.createContext(null);function Zu(t,{relative:e}={}){let{matches:n}=K.useContext(xi),{pathname:i}=Ia(),o=JSON.stringify(uT(n));return K.useMemo(()=>cT(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function EC(t,e){return pT(t,e)}function pT(t,e,n,i){ct(Wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(zr),{matches:u}=K.useContext(xi),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let $=v&&v.path||"";gT(p,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Ia(),S;if(e){let $=typeof e=="string"?Zo(e):e;ct(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=b;let D=S.pathname||"/",V=D;if(g!=="/"){let $=g.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let q=aT(t,{pathname:V});Vr(v||q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Vr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=CC(q&&q.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:yi([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:yi([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,i);return e&&U?K.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function TC(){let t=NC(),e=gC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,h)}var SC=K.createElement(TC,null),AC=class extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?K.createElement(xi.Provider,{value:this.props.routeContext},K.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RC({routeContext:t,match:e,children:n}){let i=K.useContext(Jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(xi.Provider,{value:t},n)}function CC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:b}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,S=!1,D=null,V=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||SC,h&&(m<0&&v===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===v&&(S=!0,V=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,v+1)),U=()=>{let $;return b?$=D:S?$=V:g.route.Component?$=K.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,K.createElement(RC,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?K.createElement(AC,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:U(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):U()},null)}function ny(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IC(t){let e=K.useContext(Jo);return ct(e,ny(t)),e}function xC(t){let e=K.useContext(nd);return ct(e,ny(t)),e}function DC(t){let e=K.useContext(xi);return ct(e,ny(t)),e}function ry(t){let e=DC(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function OC(){return ry("useRouteId")}function NC(){let t=K.useContext(ty),e=xC("useRouteError"),n=ry("useRouteError");return t!==void 0?t:e.errors?.[n]}function kC(){let{router:t}=IC("useNavigate"),e=ry("useNavigate"),n=K.useRef(!1);return mT(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{Vr(n.current,dT),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var Y0={};function gT(t,e,n){!e&&!Y0[t]&&(Y0[t]=!0,Vr(!1,n))}K.memo(PC);function PC({routes:t,future:e,state:n}){return pT(t,void 0,n,e)}function os(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){ct(!Wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Zo(n));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:S="default"}=n,D=K.useMemo(()=>{let V=bi(p,h);return V==null?null:{location:{pathname:V,search:g,hash:v,state:b,key:S},navigationType:i}},[h,p,g,v,b,S,i]);return Vr(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:K.createElement(zr.Provider,{value:m},K.createElement(Xu.Provider,{children:e,value:D}))}function VC({children:t,location:e}){return EC(dg(t),e)}function dg(t,e=[]){let n=[];return K.Children.forEach(t,(i,o)=>{if(!K.isValidElement(i))return;let u=[...e,o];if(i.type===K.Fragment){n.push.apply(n,dg(i.props.children,u));return}ct(i.type===os,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=dg(i.props.children,u)),n.push(h)}),n}var Jh="get",ef="application/x-www-form-urlencoded";function id(t){return t!=null&&typeof t.tagName=="string"}function LC(t){return id(t)&&t.tagName.toLowerCase()==="button"}function UC(t){return id(t)&&t.tagName.toLowerCase()==="form"}function BC(t){return id(t)&&t.tagName.toLowerCase()==="input"}function jC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zC(t,e){return t.button===0&&(!e||e==="_self")&&!jC(t)}var zh=null;function qC(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var HC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(t){return t!=null&&!HC.has(t)?(Vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):t}function FC(t,e){let n,i,o,u,h;if(UC(t)){let m=t.getAttribute("action");i=m?bi(m,e):null,n=t.getAttribute("method")||Jh,o=Fp(t.getAttribute("enctype"))||ef,u=new FormData(t)}else if(LC(t)||BC(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(i=p?bi(p,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Jh,o=Fp(t.getAttribute("formenctype"))||Fp(m.getAttribute("enctype"))||ef,u=new FormData(m,t),!qC()){let{name:g,type:v,value:b}=t;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jh,i=null,o=ef,h=t}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&bi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function $C(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QC(t,e,n){let i=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await $C(u,n);return h.links?h.links():[]}return[]}));return ZC(i.flat(1).filter(KC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X0(t,e,n,i,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function YC(t,e,{includeHydrateFallback:n}={}){return XC(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function XC(t){return[...new Set(t)]}function WC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function ZC(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let u=JSON.stringify(WC(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function yT(){let t=K.useContext(Jo);return iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JC(){let t=K.useContext(nd);return iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sy=K.createContext(void 0);sy.displayName="FrameworkContext";function wT(){let t=K.useContext(sy);return iy(t,"You must render this element inside a <HydratedRouter> element"),t}function eI(t,e){let n=K.useContext(sy),[i,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,S=K.useRef(null);K.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let q=$=>{$.forEach(se=>{h(se.isIntersecting)})},U=new IntersectionObserver(q,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[t]),K.useEffect(()=>{if(i){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[i]);let D=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?t!=="intent"?[u,S,{}]:[u,S,{onFocus:Su(m,D),onBlur:Su(p,V),onMouseEnter:Su(g,D),onMouseLeave:Su(v,V),onTouchStart:Su(b,D)}]:[!1,S,{}]}function Su(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tI({page:t,...e}){let{router:n}=yT(),i=K.useMemo(()=>aT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?K.createElement(rI,{page:t,matches:i,...e}):null}function nI(t){let{manifest:e,routeModules:n}=wT(),[i,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return QC(t,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[t,e,n]),i}function rI({page:t,matches:e,...n}){let i=Ia(),{manifest:o,routeModules:u}=wT(),{basename:h}=yT(),{loaderData:m,matches:p}=JC(),g=K.useMemo(()=>X0(t,e,p,o,i,"data"),[t,e,p,o,i]),v=K.useMemo(()=>X0(t,e,p,o,i,"assets"),[t,e,p,o,i]),b=K.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let V=new Set,q=!1;if(e.forEach($=>{let se=o.routes[$.route.id];!se||!se.hasLoader||(!g.some(X=>X.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||se.hasClientLoader?q=!0:V.add($.route.id))}),V.size===0)return[];let U=GC(t,h,"data");return q&&V.size>0&&U.searchParams.set("_routes",e.filter($=>V.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[h,m,i,o,g,e,t,u]),S=K.useMemo(()=>YC(v,o),[v,o]),D=nI(v);return K.createElement(K.Fragment,null,b.map(V=>K.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>K.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),D.map(({key:V,link:q})=>K.createElement("link",{key:V,...q})))}function iI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vT&&(window.__reactRouterVersion="7.7.1")}catch{}function sI({basename:t,children:e,window:n}){let i=K.useRef();i.current==null&&(i.current=KR({window:n,v5Compat:!0}));let o=i.current,[u,h]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>h(p))},[h]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(MC,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bT=K.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...S},D){let{basename:V}=K.useContext(zr),q=typeof g=="string"&&_T.test(g),U,$=!1;if(typeof g=="string"&&q&&(U=g,vT))try{let R=new URL(window.location.href),k=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=bi(k.pathname,V);k.origin===R.origin&&P!=null?g=P+k.search+k.hash:$=!0}catch{Vr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=_C(g,{relative:o}),[X,ae,ie]=eI(i,S),fe=lI(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function x(R){e&&e(R),R.defaultPrevented||fe(R)}let A=K.createElement("a",{...S,...ie,href:U||se,onClick:$||u?e:x,ref:iI(D,ae),target:p,"data-discover":!q&&n==="render"?"true":void 0});return X&&!q?K.createElement(K.Fragment,null,A,K.createElement(tI,{page:se})):A});bT.displayName="Link";var ar=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let b=Zu(h,{relative:g.relative}),S=Ia(),D=K.useContext(nd),{navigator:V,basename:q}=K.useContext(zr),U=D!=null&&dI(b)&&m===!0,$=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,se=S.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(se=se.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&q&&(X=bi(X,q)||X);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=se===$||!o&&se.startsWith($)&&se.charAt(ae)==="/",fe=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),x={isActive:ie,isPending:fe,isTransitioning:U},A=ie?e:void 0,R;typeof i=="function"?R=i(x):R=[i,ie?"active":null,fe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return K.createElement(bT,{...g,"aria-current":A,className:R,ref:v,style:k,to:h,viewTransition:m},typeof p=="function"?p(x):p)});ar.displayName="NavLink";var aI=K.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:h=Jh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...S},D)=>{let V=hI(),q=fI(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&_T.test(m),se=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ae=X.nativeEvent.submitter,ie=ae?.getAttribute("formmethod")||h;V(ae||X.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return K.createElement("form",{ref:D,method:U,action:q,onSubmit:i?p:se,...S,"data-discover":!$&&t==="render"?"true":void 0})});aI.displayName="Form";function oI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(t){let e=K.useContext(Jo);return ct(e,oI(t)),e}function lI(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=rd(),p=Ia(),g=Zu(t,{relative:u});return K.useCallback(v=>{if(zC(v,e)){v.preventDefault();let b=n!==void 0?n:Uu(p)===Uu(g);m(t,{replace:b,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,i,e,t,o,u,h])}var uI=0,cI=()=>`__${String(++uI)}__`;function hI(){let{router:t}=ET("useSubmit"),{basename:e}=K.useContext(zr),n=OC();return K.useCallback(async(i,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=FC(i,e);if(o.navigate===!1){let v=o.fetcherKey||cI();await t.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function fI(t,{relative:e}={}){let{basename:n}=K.useContext(zr),i=K.useContext(xi);ct(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Zu(t||".",{relative:e})},h=Ia();if(t==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yi([n,u.pathname])),Uu(u)}function dI(t,{relative:e}={}){let n=K.useContext(fT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ET("useViewTransitionState"),o=Zu(t,{relative:e});if(!n.isTransitioning)return!1;let u=bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return bf(o.pathname,h)!=null||bf(o.pathname,u)!=null}var mI=sT(),Gp={exports:{}},$p={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function pI(){if(W0)return $p;W0=1;var t=td();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,u=t.useEffect,h=t.useMemo,m=t.useDebugValue;return $p.useSyncExternalStoreWithSelector=function(p,g,v,b,S){var D=o(null);if(D.current===null){var V={hasValue:!1,value:null};D.current=V}else V=D.current;D=h(function(){function U(ie){if(!$){if($=!0,se=ie,ie=b(ie),S!==void 0&&V.hasValue){var fe=V.value;if(S(fe,ie))return X=fe}return X=ie}if(fe=X,n(se,ie))return fe;var x=b(ie);return S!==void 0&&S(fe,x)?(se=ie,fe):(se=ie,X=x)}var $=!1,se,X,ae=v===void 0?null:v;return[function(){return U(g())},ae===null?void 0:function(){return U(ae())}]},[g,v,b,S]);var q=i(p,D[0],D[1]);return u(function(){V.hasValue=!0,V.value=q},[q]),m(q),q},$p}var Z0;function gI(){return Z0||(Z0=1,Gp.exports=pI()),Gp.exports}var yI=gI();function wI(t){t()}function vI(){let t=null,e=null;return{clear(){t=null,e=null},notify(){wI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var J0={notify(){},get:()=>[]};function _I(t,e){let n,i=J0,o=0,u=!1;function h(q){v();const U=i.subscribe(q);let $=!1;return()=>{$||($=!0,U(),b())}}function m(){i.notify()}function p(){V.onStateChange&&V.onStateChange()}function g(){return u}function v(){o++,n||(n=t.subscribe(p),i=vI())}function b(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=J0)}function S(){u||(u=!0,v())}function D(){u&&(u=!1,b())}const V={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:S,tryUnsubscribe:D,getListeners:()=>i};return V}var bI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EI=bI(),TI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SI=TI(),AI=()=>EI||SI?K.useLayoutEffect:K.useEffect,RI=AI(),CI=Symbol.for("react-redux-context"),II=typeof globalThis<"u"?globalThis:{};function xI(){if(!K.createContext)return{};const t=II[CI]??=new Map;let e=t.get(K.createContext);return e||(e=K.createContext(null),t.set(K.createContext,e)),e}var _s=xI();function DI(t){const{children:e,context:n,serverState:i,store:o}=t,u=K.useMemo(()=>{const p=_I(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),h=K.useMemo(()=>o.getState(),[o]);RI(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,h]);const m=n||_s;return K.createElement(m.Provider,{value:u},e)}var OI=DI;function ay(t=_s){return function(){return K.useContext(t)}}var TT=ay();function ST(t=_s){const e=t===_s?TT:ay(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var NI=ST();function kI(t=_s){const e=t===_s?NI:ST(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var PI=kI(),MI=(t,e)=>t===e;function VI(t=_s){const e=t===_s?TT:ay(t),n=(i,o={})=>{const{equalityFn:u=MI}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:m,subscription:p,getServerState:g}=h;K.useRef(!0);const v=K.useCallback({[i.name](S){return i(S)}}[i.name],[i]),b=yI.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,v,u);return K.useDebugValue(b),b};return Object.assign(n,{withTypes:()=>n}),n}var LI=VI();const xa=PI.withTypes(),Lr=LI.withTypes(),eb=[100,200,300,400,500];function UI({topics:t,onQuestionClick:e}){const n=Lr(h=>h.topics.selectedIndexByTitleAndPrice),i=Lr(h=>h.topics.answeredStatusByTitleAndPrice),o=(h,m)=>{const p=n[h.title]?.[m];return typeof p=="number"?h.questions[p]:void 0},u=({topic:h,price:m,compact:p})=>{const g=o(h,m),v=i[h.title]?.[m],b=v==="correct"||v==="wrong",S=v==="correct"?"board-cell--correct":v==="wrong"?"board-cell--wrong":"";return H.jsxs("button",{onClick:()=>g&&e({title:h.title,price:m,question:g.question,answer:g.answer}),disabled:!g||b,className:["board-cell",S,b?"opacity-90 cursor-not-allowed":"cursor-pointer",p?"px-3 py-4 text-lg":""].join(" "),onMouseMove:D=>{const V=D.currentTarget.getBoundingClientRect();D.currentTarget.style.setProperty("--mx",`${D.clientX-V.left}px`),D.currentTarget.style.setProperty("--my",`${D.clientY-V.top}px`)},children:[H.jsx("span",{className:"status-mark"}),m]})};return H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"hidden md:block w-full",children:H.jsx("div",{className:"mx-auto max-w-6xl flex flex-col gap-3",children:t.map((h,m)=>H.jsxs("div",{className:"grid grid-cols-[repeat(6,minmax(110px,1fr))] gap-3",children:[H.jsx("div",{className:"title-cell",children:h.title}),eb.map(p=>H.jsx(u,{topic:h,price:p},p))]},m))})}),H.jsx("div",{className:"md:hidden w-full",children:H.jsx("div",{className:"mx-auto max-w-md flex flex-col gap-4",children:t.map((h,m)=>H.jsxs("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl shadow-[0_10px_30px_rgba(0,0,0,.45)] p-4",children:[H.jsx("div",{className:"text-slate-100 font-semibold mb-3",children:h.title}),H.jsx("div",{className:"grid grid-cols-3 gap-3",children:eb.map(p=>H.jsx(u,{topic:h,price:p,compact:!0},p))})]},m))})})]})}function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var BI=typeof Symbol=="function"&&Symbol.observable||"@@observable",tb=BI,Kp=()=>Math.random().toString(36).substring(7).split("").join("."),jI={INIT:`@@redux/INIT${Kp()}`,REPLACE:`@@redux/REPLACE${Kp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kp()}`},Ef=jI;function oy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ly(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(ly)(t,e)}let i=t,o=e,u=new Map,h=u,m=0,p=!1;function g(){h===u&&(h=new Map,u.forEach((U,$)=>{h.set($,U)}))}function v(){if(p)throw new Error(Xt(3));return o}function b(U){if(typeof U!="function")throw new Error(Xt(4));if(p)throw new Error(Xt(5));let $=!0;g();const se=m++;return h.set(se,U),function(){if($){if(p)throw new Error(Xt(6));$=!1,g(),h.delete(se),u=null}}}function S(U){if(!oy(U))throw new Error(Xt(7));if(typeof U.type>"u")throw new Error(Xt(8));if(typeof U.type!="string")throw new Error(Xt(17));if(p)throw new Error(Xt(9));try{p=!0,o=i(o,U)}finally{p=!1}return(u=h).forEach(se=>{se()}),U}function D(U){if(typeof U!="function")throw new Error(Xt(10));i=U,S({type:Ef.REPLACE})}function V(){const U=b;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Xt(11));function se(){const ae=$;ae.next&&ae.next(v())}return se(),{unsubscribe:U(se)}},[tb](){return this}}}return S({type:Ef.INIT}),{dispatch:S,subscribe:b,getState:v,replaceReducer:D,[tb]:V}}function zI(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ef.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:Ef.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function AT(t){const e=Object.keys(t),n={};for(let u=0;u<e.length;u++){const h=e[u];typeof t[h]=="function"&&(n[h]=t[h])}const i=Object.keys(n);let o;try{zI(n)}catch(u){o=u}return function(h={},m){if(o)throw o;let p=!1;const g={};for(let v=0;v<i.length;v++){const b=i[v],S=n[b],D=h[b],V=S(D,m);if(typeof V>"u")throw m&&m.type,new Error(Xt(14));g[b]=V,p=p||V!==D}return p=p||i.length!==Object.keys(h).length,p?g:h}}function Tf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function qI(...t){return e=>(n,i)=>{const o=e(n,i);let u=()=>{throw new Error(Xt(15))};const h={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=t.map(p=>p(h));return u=Tf(...m)(o.dispatch),{...o,dispatch:u}}}function HI(t){return oy(t)&&"type"in t&&typeof t.type=="string"}var RT=Symbol.for("immer-nothing"),nb=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function sr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zo=Object.getPrototypeOf;function _a(t){return!!t&&!!t[Nn]}function Ei(t){return t?CT(t)||Array.isArray(t)||!!t[nb]||!!t.constructor?.[nb]||ad(t)||od(t):!1}var FI=Object.prototype.constructor.toString();function CT(t){if(!t||typeof t!="object")return!1;const e=zo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===FI}function Sf(t,e){sd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function sd(t){const e=t[Nn];return e?e.type_:Array.isArray(t)?1:ad(t)?2:od(t)?3:0}function mg(t,e){return sd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function IT(t,e,n){const i=sd(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function GI(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ad(t){return t instanceof Map}function od(t){return t instanceof Set}function da(t){return t.copy_||t.base_}function pg(t,e){if(ad(t))return new Map(t);if(od(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=CT(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Nn];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const h=o[u],m=i[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:t[h]})}return Object.create(zo(t),i)}else{const i=zo(t);if(i!==null&&n)return{...t};const o=Object.create(i);return Object.assign(o,t)}}function uy(t,e=!1){return ld(t)||_a(t)||!Ei(t)||(sd(t)>1&&(t.set=t.add=t.clear=t.delete=$I),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>uy(i,!0))),t}function $I(){sr(2)}function ld(t){return Object.isFrozen(t)}var KI={};function ba(t){const e=KI[t];return e||sr(0,t),e}var Bu;function xT(){return Bu}function QI(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rb(t,e){e&&(ba("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function gg(t){yg(t),t.drafts_.forEach(YI),t.drafts_=null}function yg(t){t===Bu&&(Bu=t.parent_)}function ib(t){return Bu=QI(Bu,t)}function YI(t){const e=t[Nn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sb(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Nn].modified_&&(gg(e),sr(4)),Ei(t)&&(t=Af(e,t),e.parent_||Rf(e,t)),e.patches_&&ba("Patches").generateReplacementPatches_(n[Nn].base_,t,e.patches_,e.inversePatches_)):t=Af(e,n,[]),gg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==RT?t:void 0}function Af(t,e,n){if(ld(e))return e;const i=e[Nn];if(!i)return Sf(e,(o,u)=>ab(t,i,e,o,u,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Rf(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,h=!1;i.type_===3&&(u=new Set(o),o.clear(),h=!0),Sf(u,(m,p)=>ab(t,i,o,m,p,n,h)),Rf(t,o,!1),n&&t.patches_&&ba("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function ab(t,e,n,i,o,u,h){if(_a(o)){const m=u&&e&&e.type_!==3&&!mg(e.assigned_,i)?u.concat(i):void 0,p=Af(t,o,m);if(IT(n,i,p),_a(p))t.canAutoFreeze_=!1;else return}else h&&n.add(o);if(Ei(o)&&!ld(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Af(t,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Rf(t,o)}}function Rf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uy(e,n)}function XI(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:xT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=cy;n&&(o=[i],u=ju);const{revoke:h,proxy:m}=Proxy.revocable(o,u);return i.draft_=m,i.revoke_=h,m}var cy={get(t,e){if(e===Nn)return t;const n=da(t);if(!mg(n,e))return WI(t,n,e);const i=n[e];return t.finalized_||!Ei(i)?i:i===Qp(t.base_,e)?(Yp(t),t.copy_[e]=vg(i,t)):i},has(t,e){return e in da(t)},ownKeys(t){return Reflect.ownKeys(da(t))},set(t,e,n){const i=DT(da(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const o=Qp(da(t),e),u=o?.[Nn];if(u&&u.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(GI(n,o)&&(n!==void 0||mg(t.base_,e)))return!0;Yp(t),wg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Qp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Yp(t),wg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=da(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){sr(11)},getPrototypeOf(t){return zo(t.base_)},setPrototypeOf(){sr(12)}},ju={};Sf(cy,(t,e)=>{ju[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ju.deleteProperty=function(t,e){return ju.set.call(this,t,e,void 0)};ju.set=function(t,e,n){return cy.set.call(this,t[0],e,n,t[0])};function Qp(t,e){const n=t[Nn];return(n?da(n):t)[e]}function WI(t,e,n){const i=DT(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function DT(t,e){if(!(e in t))return;let n=zo(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=zo(n)}}function wg(t){t.modified_||(t.modified_=!0,t.parent_&&wg(t.parent_))}function Yp(t){t.copy_||(t.copy_=pg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ZI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const h=this;return function(p=u,...g){return h.produce(p,v=>n.call(this,v,...g))}}typeof n!="function"&&sr(6),i!==void 0&&typeof i!="function"&&sr(7);let o;if(Ei(e)){const u=ib(this),h=vg(e,void 0);let m=!0;try{o=n(h),m=!1}finally{m?gg(u):yg(u)}return rb(u,i),sb(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===RT&&(o=void 0),this.autoFreeze_&&uy(o,!0),i){const u=[],h=[];ba("Patches").generateReplacementPatches_(e,o,u,h),i(u,h)}return o}else sr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,p=>e(p,...m));let i,o;return[this.produce(e,n,(h,m)=>{i=h,o=m}),i,o]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ei(t)||sr(8),_a(t)&&(t=JI(t));const e=ib(this),n=vg(t,void 0);return n[Nn].isManual_=!0,yg(e),n}finishDraft(t,e){const n=t&&t[Nn];(!n||!n.isManual_)&&sr(9);const{scope_:i}=n;return rb(i,e),sb(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const i=ba("Patches").applyPatches_;return _a(t)?i(t,e):this.produce(t,o=>i(o,e))}};function vg(t,e){const n=ad(t)?ba("MapSet").proxyMap_(t,e):od(t)?ba("MapSet").proxySet_(t,e):XI(t,e);return(e?e.scope_:xT()).drafts_.push(n),n}function JI(t){return _a(t)||sr(10,t),OT(t)}function OT(t){if(!Ei(t)||ld(t))return t;const e=t[Nn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=pg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=pg(t,!0);return Sf(n,(i,o)=>{IT(n,i,OT(o))}),e&&(e.finalized_=!1),n}var kn=new ZI,NT=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseStrictShallowCopy.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function kT(t){return({dispatch:n,getState:i})=>o=>u=>typeof u=="function"?u(n,i,t):o(u)}var ex=kT(),tx=kT,nx=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tf:Tf.apply(null,arguments)},rx=t=>t&&typeof t.match=="function";function Ou(t,e){function n(...i){if(e){let o=e(...i);if(!o)throw new Error(wi(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>HI(i)&&i.type===t,n}var PT=class Ru extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ru.prototype)}static get[Symbol.species](){return Ru}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ru(...e[0].concat(this)):new Ru(...e.concat(this))}};function ob(t){return Ei(t)?NT(t,()=>{}):t}function qh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ix(t){return typeof t=="boolean"}var sx=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new PT;return n&&(ix(n)?h.push(ex):h.push(tx(n.extraArgument))),h},ax="RTK_autoBatch",lb=t=>e=>{setTimeout(e,t)},ox=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let o=!0,u=!1,h=!1;const m=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lb(10):t.type==="callback"?t.queueNotification:lb(t.timeout),g=()=>{h=!1,u&&(u=!1,m.forEach(v=>v()))};return Object.assign({},i,{subscribe(v){const b=()=>o&&v(),S=i.subscribe(b);return m.add(v),()=>{S(),m.delete(v)}},dispatch(v){try{return o=!v?.meta?.[ax],u=!o,u&&(h||(h=!0,p(g))),i.dispatch(v)}finally{o=!0}}})},lx=t=>function(n){const{autoBatch:i=!0}=n??{};let o=new PT(t);return i&&o.push(ox(typeof i=="object"?i:void 0)),o};function ux(t){const e=sx(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=t||{};let m;if(typeof n=="function")m=n;else if(oy(n))m=AT(n);else throw new Error(wi(1));let p;typeof i=="function"?p=i(e):p=e();let g=Tf;o&&(g=nx({trace:!1,...typeof o=="object"&&o}));const v=qI(...p),b=lx(v);let S=typeof h=="function"?h(b):b();const D=g(...S);return ly(m,u,D)}function MT(t){const e={},n=[];let i;const o={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(wi(28));if(m in e)throw new Error(wi(29));return e[m]=h,o},addMatcher(u,h){return n.push({matcher:u,reducer:h}),o},addDefaultCase(u){return i=u,o}};return t(o),[e,n,i]}function cx(t){return typeof t=="function"}function hx(t,e){let[n,i,o]=MT(e),u;if(cx(t))u=()=>ob(t());else{const m=ob(t);u=()=>m}function h(m=u(),p){let g=[n[p.type],...i.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[o]),g.reduce((v,b)=>{if(b)if(_a(v)){const D=b(v,p);return D===void 0?v:D}else{if(Ei(v))return NT(v,S=>b(S,p));{const S=b(v,p);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},m)}return h.getInitialState=u,h}var fx=(t,e)=>rx(t)?t.match(e):t(e);function dx(...t){return e=>t.some(n=>fx(n,e))}var mx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",px=(t=21)=>{let e="",n=t;for(;n--;)e+=mx[Math.random()*64|0];return e},gx=["name","message","stack","code"],Xp=class{constructor(t,e){this.payload=t,this.meta=e}_type},ub=class{constructor(t,e){this.payload=t,this.meta=e}_type},yx=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of gx)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},cb="External signal was aborted",Da=(()=>{function t(e,n,i){const o=Ou(e+"/fulfilled",(p,g,v,b)=>({payload:p,meta:{...b||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),u=Ou(e+"/pending",(p,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:p,requestStatus:"pending"}})),h=Ou(e+"/rejected",(p,g,v,b,S)=>({payload:b,error:(i&&i.serializeError||yx)(p||"Rejected"),meta:{...S||{},arg:v,requestId:g,rejectedWithValue:!!b,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(v,b,S)=>{const D=i?.idGenerator?i.idGenerator(p):px(),V=new AbortController;let q,U;function $(X){U=X,V.abort()}g&&(g.aborted?$(cb):g.addEventListener("abort",()=>$(cb),{once:!0}));const se=async function(){let X;try{let ie=i?.condition?.(p,{getState:b,extra:S});if(vx(ie)&&(ie=await ie),ie===!1||V.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const fe=new Promise((x,A)=>{q=()=>{A({name:"AbortError",message:U||"Aborted"})},V.signal.addEventListener("abort",q)});v(u(D,p,i?.getPendingMeta?.({requestId:D,arg:p},{getState:b,extra:S}))),X=await Promise.race([fe,Promise.resolve(n(p,{dispatch:v,getState:b,extra:S,requestId:D,signal:V.signal,abort:$,rejectWithValue:(x,A)=>new Xp(x,A),fulfillWithValue:(x,A)=>new ub(x,A)})).then(x=>{if(x instanceof Xp)throw x;return x instanceof ub?o(x.payload,D,p,x.meta):o(x,D,p)})])}catch(ie){X=ie instanceof Xp?h(null,D,p,ie.payload,ie.meta):h(ie,D,p)}finally{q&&V.signal.removeEventListener("abort",q)}return i&&!i.dispatchConditionRejection&&h.match(X)&&X.meta.condition||v(X),X}();return Object.assign(se,{abort:$,requestId:D,arg:p,unwrap(){return se.then(wx)}})}}return Object.assign(m,{pending:u,rejected:h,fulfilled:o,settled:dx(h,o),typePrefix:e})}return t.withTypes=()=>t,t})();function wx(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function vx(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var _x=Symbol.for("rtk-slice-createasyncthunk");function bx(t,e){return`${t}/${e}`}function Ex({creators:t}={}){const e=t?.asyncThunk?.[_x];return function(i){const{name:o,reducerPath:u=o}=i;if(!o)throw new Error(wi(11));const h=(typeof i.reducers=="function"?i.reducers(Sx()):i.reducers)||{},m=Object.keys(h),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(X,ae){const ie=typeof X=="string"?X:X.type;if(!ie)throw new Error(wi(12));if(ie in p.sliceCaseReducersByType)throw new Error(wi(13));return p.sliceCaseReducersByType[ie]=ae,g},addMatcher(X,ae){return p.sliceMatchers.push({matcher:X,reducer:ae}),g},exposeAction(X,ae){return p.actionCreators[X]=ae,g},exposeCaseReducer(X,ae){return p.sliceCaseReducersByName[X]=ae,g}};m.forEach(X=>{const ae=h[X],ie={reducerName:X,type:bx(o,X),createNotation:typeof i.reducers=="function"};Rx(ae)?Ix(ie,ae,g,e):Ax(ie,ae,g)});function v(){const[X={},ae=[],ie=void 0]=typeof i.extraReducers=="function"?MT(i.extraReducers):[i.extraReducers],fe={...X,...p.sliceCaseReducersByType};return hx(i.initialState,x=>{for(let A in fe)x.addCase(A,fe[A]);for(let A of p.sliceMatchers)x.addMatcher(A.matcher,A.reducer);for(let A of ae)x.addMatcher(A.matcher,A.reducer);ie&&x.addDefaultCase(ie)})}const b=X=>X,S=new Map,D=new WeakMap;let V;function q(X,ae){return V||(V=v()),V(X,ae)}function U(){return V||(V=v()),V.getInitialState()}function $(X,ae=!1){function ie(x){let A=x[X];return typeof A>"u"&&ae&&(A=qh(D,ie,U)),A}function fe(x=b){const A=qh(S,ae,()=>new WeakMap);return qh(A,x,()=>{const R={};for(const[k,P]of Object.entries(i.selectors??{}))R[k]=Tx(P,x,()=>qh(D,x,U),ae);return R})}return{reducerPath:X,getSelectors:fe,get selectors(){return fe(ie)},selectSlice:ie}}const se={name:o,reducer:q,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:U,...$(u),injectInto(X,{reducerPath:ae,...ie}={}){const fe=ae??u;return X.inject({reducerPath:fe,reducer:q},ie),{...se,...$(fe,!0)}}};return se}}function Tx(t,e,n,i){function o(u,...h){let m=e(u);return typeof m>"u"&&i&&(m=n()),t(m,...h)}return o.unwrapped=t,o}var ud=Ex();function Sx(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ax({type:t,reducerName:e,createNotation:n},i,o){let u,h;if("reducer"in i){if(n&&!Cx(i))throw new Error(wi(17));u=i.reducer,h=i.prepare}else u=i;o.addCase(t,u).exposeCaseReducer(e,u).exposeAction(e,h?Ou(t,h):Ou(t))}function Rx(t){return t._reducerDefinitionType==="asyncThunk"}function Cx(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ix({type:t,reducerName:e},n,i,o){if(!o)throw new Error(wi(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:p,settled:g,options:v}=n,b=o(t,u,v);i.exposeAction(e,b),h&&i.addCase(b.fulfilled,h),m&&i.addCase(b.pending,m),p&&i.addCase(b.rejected,p),g&&i.addMatcher(b.settled,g),i.exposeCaseReducer(e,{fulfilled:h||Hh,pending:m||Hh,rejected:p||Hh,settled:g||Hh})}function Hh(){}function wi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const xx=()=>{};var hb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Dx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],h=t[n++],m=t[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],h=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const u=t[o],h=o+1<t.length,m=h?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(S=64)),i.push(n[v],n[b],n[S],n[D])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const b=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new Ox;const S=u<<2|m>>4;if(i.push(S),g!==64){const D=m<<4&240|g>>2;if(i.push(D),b!==64){const V=g<<6&192|b;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ox extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nx=function(t){const e=VT(t);return LT.encodeByteArray(e,!0)},Cf=function(t){return Nx(t).replace(/\./g,"")},UT=function(t){try{return LT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=()=>kx().__FIREBASE_DEFAULTS__,Mx=()=>{if(typeof process>"u"||typeof hb>"u")return;const t=hb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UT(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return xx()||Px()||Mx()||Vx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BT=t=>cd()?.emulatorHosts?.[t],Lx=t=>{const e=BT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},jT=()=>cd()?.config,zT=t=>cd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cf(JSON.stringify(n)),Cf(JSON.stringify(h)),""].join(".")}const Nu={};function jx(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function zx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fb=!1;function HT(t,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||Nu[t]===e||Nu[t]||fb)return;Nu[t]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=jx().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{fb=!0,h()},S}function v(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=zx(i),D=n("text"),V=document.getElementById(D)||document.createElement("span"),q=n("learnmore"),U=document.getElementById(q)||document.createElement("a"),$=n("preprendIcon"),se=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;m(X),v(U,q);const ae=g();p(se,$),X.append(se,V,U,ae),document.body.appendChild(X)}u?(V.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Hx(){const t=cd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kx(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qx(){return!Hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yx(){try{return typeof indexedDB=="object"}catch{return!1}}function Xx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="FirebaseError";class Di extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Wx,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Zx(u,i):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Di(o,m,i)}}function Zx(t,e){return t.replace(Jx,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Jx=/\{\$([^}]+)}/g;function eD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ea(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=t[o],h=e[o];if(db(u)&&db(h)){if(!Ea(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function db(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tD(t,e){const n=new nD(t,e);return n.subscribe.bind(n)}class nD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");rD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Wp),o.error===void 0&&(o.error=Wp),o.complete===void 0&&(o.complete=Wp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ta{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ux;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aD(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sD(t){return t===ma?void 0:t}function aD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const lD={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},uD=Pe.INFO,cD={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},hD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=cD[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hy{constructor(e){this.name=e,this._logLevel=uD,this._logHandler=hD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const fD=(t,e)=>e.some(n=>t instanceof n);let mb,pb;function dD(){return mb||(mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return pb||(pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,_g=new WeakMap,GT=new WeakMap,Zp=new WeakMap,fy=new WeakMap;function pD(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",h)},u=()=>{n(ps(t.result)),o()},h=()=>{i(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&FT.set(n,t)}).catch(()=>{}),fy.set(e,t),e}function gD(t){if(_g.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",h),t.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",h),t.addEventListener("abort",h)});_g.set(t,e)}let bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yD(t){bg=t(bg)}function wD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Jp(this),e,...n);return GT.set(i,e.sort?e.sort():[e]),ps(i)}:mD().includes(t)?function(...e){return t.apply(Jp(this),e),ps(FT.get(this))}:function(...e){return ps(t.apply(Jp(this),e))}}function vD(t){return typeof t=="function"?wD(t):(t instanceof IDBTransaction&&gD(t),fD(t,dD())?new Proxy(t,bg):t)}function ps(t){if(t instanceof IDBRequest)return pD(t);if(Zp.has(t))return Zp.get(t);const e=vD(t);return e!==t&&(Zp.set(t,e),fy.set(e,t)),e}const Jp=t=>fy.get(t);function _D(t,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(t,e),m=ps(h);return i&&h.addEventListener("upgradeneeded",p=>{i(ps(h.result),p.oldVersion,p.newVersion,ps(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const bD=["get","getKey","getAll","getAllKeys","count"],ED=["put","add","delete","clear"],eg=new Map;function gb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eg.get(e))return eg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=ED.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||bD.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return eg.set(e,u),u}yD(t=>({...t,get:(e,n,i)=>gb(e,n)||t.get(e,n,i),has:(e,n)=>!!gb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function SD(t){return t.getComponent()?.type==="VERSION"}const Eg="@firebase/app",yb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new hy("@firebase/app"),AD="@firebase/app-compat",RD="@firebase/analytics-compat",CD="@firebase/analytics",ID="@firebase/app-check-compat",xD="@firebase/app-check",DD="@firebase/auth",OD="@firebase/auth-compat",ND="@firebase/database",kD="@firebase/data-connect",PD="@firebase/database-compat",MD="@firebase/functions",VD="@firebase/functions-compat",LD="@firebase/installations",UD="@firebase/installations-compat",BD="@firebase/messaging",jD="@firebase/messaging-compat",zD="@firebase/performance",qD="@firebase/performance-compat",HD="@firebase/remote-config",FD="@firebase/remote-config-compat",GD="@firebase/storage",$D="@firebase/storage-compat",KD="@firebase/firestore",QD="@firebase/ai",YD="@firebase/firestore-compat",XD="firebase",WD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",ZD={[Eg]:"fire-core",[AD]:"fire-core-compat",[CD]:"fire-analytics",[RD]:"fire-analytics-compat",[xD]:"fire-app-check",[ID]:"fire-app-check-compat",[DD]:"fire-auth",[OD]:"fire-auth-compat",[ND]:"fire-rtdb",[kD]:"fire-data-connect",[PD]:"fire-rtdb-compat",[MD]:"fire-fn",[VD]:"fire-fn-compat",[LD]:"fire-iid",[UD]:"fire-iid-compat",[BD]:"fire-fcm",[jD]:"fire-fcm-compat",[zD]:"fire-perf",[qD]:"fire-perf-compat",[HD]:"fire-rc",[FD]:"fire-rc-compat",[GD]:"fire-gcs",[$D]:"fire-gcs-compat",[KD]:"fire-fst",[YD]:"fire-fst-compat",[QD]:"fire-vertex","fire-js":"fire-js",[XD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,JD=new Map,Sg=new Map;function wb(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(Sg.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(const n of If.values())wb(n,t);for(const n of JD.values())wb(n,t);return!0}function dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Ju("app","Firebase",eO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=WD;function $T(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Tg,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw gs.create("bad-app-name",{appName:String(o)});if(n||(n=jT()),!n)throw gs.create("no-options");const u=If.get(o);if(u){if(Ea(n,u.options)&&Ea(i,u.config))return u;throw gs.create("duplicate-app",{appName:o})}const h=new oD(o);for(const p of Sg.values())h.addComponent(p);const m=new tO(n,i,h);return If.set(o,m),m}function KT(t=Tg){const e=If.get(t);if(!e&&t===Tg&&jT())return $T();if(!e)throw gs.create("no-app",{appName:t});return e}function ys(t,e,n){let i=ZD[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}qo(new Ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="firebase-heartbeat-database",rO=1,zu="firebase-heartbeat-store";let tg=null;function QT(){return tg||(tg=_D(nO,rO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),tg}async function iO(t){try{const n=(await QT()).transaction(zu),i=await n.objectStore(zu).get(YT(t));return await n.done,i}catch(e){if(e instanceof Di)Ti.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function vb(t,e){try{const i=(await QT()).transaction(zu,"readwrite");await i.objectStore(zu).put(e,YT(t)),await i.done}catch(n){if(n instanceof Di)Ti.warn(n.message);else{const i=gs.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(i.message)}}}function YT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=1024,aO=30;class oO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_b();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>aO){const o=cO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_b(),{heartbeatsToSend:n,unsentEntries:i}=lO(this._heartbeatsCache.heartbeats),o=Cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ti.warn(e),""}}}function _b(){return new Date().toISOString().substring(0,10)}function lO(t,e=sO){const n=[];let i=t.slice();for(const o of t){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),bb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class uO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yx()?Xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bb(t){return Cf(JSON.stringify({version:2,heartbeats:t})).length}function cO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){qo(new Ta("platform-logger",e=>new TD(e),"PRIVATE")),qo(new Ta("heartbeat",e=>new oO(e),"PRIVATE")),ys(Eg,yb,t),ys(Eg,yb,"esm2020"),ys("fire-js","")}hO("");var Eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,XT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function R(){}R.prototype=A.prototype,x.D=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(k,P,L){for(var I=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)I[Ft-2]=arguments[Ft];return A.prototype[P].apply(k,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);var k=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)k[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)k[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],P=x.g[2];var L=x.g[3],I=A+(L^R&(P^L))+k[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[2]+606105819&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[6]+2821735955&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[10]+4294925233&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[14]+2792965006&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(P^L&(R^P))+k[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[11]+643717713&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[15]+3634488961&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[3]+4107603335&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[7]+1735328473&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(R^P^L)+k[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[11]+1839030562&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[7]+4139469664&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[3]+3572445317&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[15]+530742520&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(P^(R|~L))+k[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[14]+2878612391&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[10]+4293915773&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[6]+2734768916&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[2]+718787259&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}i.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var R=A-this.blockSize,k=this.B,P=this.h,L=0;L<A;){if(P==0)for(;L<=R;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(k[P++]=x.charCodeAt(L++),P==this.blockSize){o(this,k),P=0;break}}else for(;L<A;)if(k[P++]=x[L++],P==this.blockSize){o(this,k),P=0;break}}this.h=P,this.o+=A},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var R=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=R&255,R/=256;for(this.u(x),x=Array(16),A=R=0;4>A;++A)for(var k=0;32>k;k+=8)x[R++]=this.g[A]>>>k&255;return x};function u(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function h(x,A){this.h=A;for(var R=[],k=!0,P=x.length-1;0<=P;P--){var L=x[P]|0;k&&L==A||(R[P]=L,k=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(A){return new h([A|0],0>A?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return U(g(-x));for(var A=[],R=1,k=0;x>=R;k++)A[k]=x/R|0,R*=4294967296;return new h(A,0)}function v(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return U(v(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),k=b,P=0;P<x.length;P+=8){var L=Math.min(8,x.length-P),I=parseInt(x.substring(P,P+L),A);8>L?(L=g(Math.pow(A,L)),k=k.j(L).add(g(I))):(k=k.j(R),k=k.add(g(I)))}return k}var b=p(0),S=p(1),D=p(16777216);t=h.prototype,t.m=function(){if(q(this))return-U(this).m();for(var x=0,A=1,R=0;R<this.g.length;R++){var k=this.i(R);x+=(0<=k?k:4294967296+k)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(q(this))return"-"+U(this).toString(x);for(var A=g(Math.pow(x,6)),R=this,k="";;){var P=ae(R,A).g;R=$(R,P.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=P,V(R))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function q(x){return x.h==-1}t.l=function(x){return x=$(this,x),q(x)?-1:V(x)?0:1};function U(x){for(var A=x.g.length,R=[],k=0;k<A;k++)R[k]=~x.g[k];return new h(R,~x.h).add(S)}t.abs=function(){return q(this)?U(this):this},t.add=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0,P=0;P<=A;P++){var L=k+(this.i(P)&65535)+(x.i(P)&65535),I=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);k=I>>>16,L&=65535,I&=65535,R[P]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(x,A){return x.add(U(A))}t.j=function(x){if(V(this)||V(x))return b;if(q(this))return q(x)?U(this).j(U(x)):U(U(this).j(x));if(q(x))return U(this.j(U(x)));if(0>this.l(D)&&0>x.l(D))return g(this.m()*x.m());for(var A=this.g.length+x.g.length,R=[],k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<x.g.length;P++){var L=this.i(k)>>>16,I=this.i(k)&65535,Ft=x.i(P)>>>16,ft=x.i(P)&65535;R[2*k+2*P]+=I*ft,se(R,2*k+2*P),R[2*k+2*P+1]+=L*ft,se(R,2*k+2*P+1),R[2*k+2*P+1]+=I*Ft,se(R,2*k+2*P+1),R[2*k+2*P+2]+=L*Ft,se(R,2*k+2*P+2)}for(k=0;k<A;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=A;k<2*A;k++)R[k]=0;return new h(R,0)};function se(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function X(x,A){this.g=x,this.h=A}function ae(x,A){if(V(A))throw Error("division by zero");if(V(x))return new X(b,b);if(q(x))return A=ae(U(x),A),new X(U(A.g),U(A.h));if(q(A))return A=ae(x,U(A)),new X(U(A.g),A.h);if(30<x.g.length){if(q(x)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=A;0>=k.l(x);)R=ie(R),k=ie(k);var P=fe(R,1),L=fe(k,1);for(k=fe(k,2),R=fe(R,2);!V(k);){var I=L.add(k);0>=I.l(x)&&(P=P.add(R),L=I),k=fe(k,1),R=fe(R,1)}return A=$(x,P.j(A)),new X(P,A)}for(P=b;0<=x.l(A);){for(R=Math.max(1,Math.floor(x.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=g(R),I=L.j(A);q(I)||0<I.l(x);)R-=k,L=g(R),I=L.j(A);V(L)&&(L=S),P=P.add(L),x=$(x,I)}return new X(P,x)}t.A=function(x){return ae(this,x).h},t.and=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)&x.i(k);return new h(R,this.h&x.h)},t.or=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)|x.i(k);return new h(R,this.h|x.h)},t.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)^x.i(k);return new h(R,this.h^x.h)};function ie(x){for(var A=x.g.length+1,R=[],k=0;k<A;k++)R[k]=x.i(k)<<1|x.i(k-1)>>>31;return new h(R,x.h)}function fe(x,A){var R=A>>5;A%=32;for(var k=x.g.length-R,P=[],L=0;L<k;L++)P[L]=0<A?x.i(L+R)>>>A|x.i(L+R+1)<<32-A:x.i(L+R);return new h(P,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XT=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ws=h}).apply(typeof Eb<"u"?Eb:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WT,Cu,ZT,tf,Ag,JT,e2,t2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(c,y){if(y)e:{var w=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var B=c[T];if(!(B in w))break e;w=w[B]}c=c[c.length-1],T=w[c],y=y(T),y!=T&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var w=0,T=!1,B={next:function(){if(!T&&w<c.length){var Q=w++;return{value:y(Q,c[Q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,w){return c.call.apply(c.bind,arguments)}function b(c,y,w){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,w){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,S.apply(null,arguments)}function D(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var T=w.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function V(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(T,B,Q){for(var le=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)le[Le-2]=arguments[Le];return y.prototype[B].apply(T,le)}}function q(c){const y=c.length;if(0<y){const w=Array(y);for(let T=0;T<y;T++)w[T]=c[T];return w}return[]}function U(c,y){for(let w=1;w<arguments.length;w++){const T=arguments[w];if(p(T)){const B=c.length||0,Q=T.length||0;c.length=B+Q;for(let le=0;le<Q;le++)c[B+le]=T[le]}else c.push(T)}}class ${constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ie=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(c,y,w){for(const T in c)y.call(w,c[T],T,c)}function x(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function A(c){const y={};for(const w in c)y[w]=c[w];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let w,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(w in T)c[w]=T[w];for(let Q=0;Q<R.length;Q++)w=R[Q],Object.prototype.hasOwnProperty.call(T,w)&&(c[w]=T[w])}}function P(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ft{constructor(){this.h=this.g=null}add(y,w){const T=ft.get();T.set(y,w),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,He=new Ft,O=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(re)}};var re=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(w){L(w)}var y=ft;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};m.addEventListener("test",w,y),m.removeEventListener("test",w,y)}catch{}return c}();function De(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{ae(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}V(De,oe);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function cr(c,y,w,T,B){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!T,this.ha=B,this.key=++nt,this.da=this.fa=!1}function Oi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qr(c){this.src=c,this.g={},this.h=0}qr.prototype.add=function(c,y,w,T,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var le=Ds(c,y,T,B);return-1<le?(y=c[le],w||(y.fa=!1)):(y=new cr(y,this.src,Q,!!T,B),y.fa=w,c.push(y)),y};function xs(c,y){var w=y.type;if(w in c.g){var T=c.g[w],B=Array.prototype.indexOf.call(T,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(T,B,1),Q&&(Oi(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ds(c,y,w,T){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!w&&Q.ha==T)return B}return-1}var Os="closure_lm_"+(1e6*Math.random()|0),ml={};function yc(c,y,w,T,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)yc(c,y[Q],w,T,B);return null}return w=wc(w),c&&c[Vt]?c.K(y,w,g(T)?!!T.capture:!1,B):Un(c,y,w,!1,T,B)}function Un(c,y,w,T,B,Q){if(!y)throw Error("Invalid event type");var le=g(B)?!!B.capture:!!B,Le=La(c);if(Le||(c[Os]=Le=new qr(c)),w=Le.add(y,w,T,le,Q),w.proxy)return w;if(T=Ld(),w.proxy=T,T.src=c,T.listener=w,c.addEventListener)we||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),T,B);else if(c.attachEvent)c.attachEvent(Ns(y.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ld(){function c(w){return y.call(c.src,c.listener,w)}const y=Ud;return c}function pl(c,y,w,T,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)pl(c,y[Q],w,T,B);else T=g(T)?!!T.capture:!!T,w=wc(w),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],w=Ds(Q,w,T,B),-1<w&&(Oi(Q[w]),Array.prototype.splice.call(Q,w,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=La(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ds(y,w,T,B)),(w=-1<c?y[c]:null)&&Va(w))}function Va(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])xs(y.i,c);else{var w=c.type,T=c.proxy;y.removeEventListener?y.removeEventListener(w,T,c.capture):y.detachEvent?y.detachEvent(Ns(w),T):y.addListener&&y.removeListener&&y.removeListener(T),(w=La(y))?(xs(w,c),w.h==0&&(w.src=null,y[Os]=null)):Oi(c)}}}function Ns(c){return c in ml?ml[c]:ml[c]="on"+c}function Ud(c,y){if(c.da)c=!0;else{y=new De(y,this);var w=c.listener,T=c.ha||c.src;c.fa&&Va(c),c=w.call(T,y)}return c}function La(c){return c=c[Os],c instanceof qr?c:null}var gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function wc(c){return typeof c=="function"?c:(c[gl]||(c[gl]=function(y){return c.handleEvent(y)}),c[gl])}function dt(){ce.call(this),this.i=new qr(this),this.M=this,this.F=null}V(dt,ce),dt.prototype[Vt]=!0,dt.prototype.removeEventListener=function(c,y,w,T){pl(this,c,y,w,T)};function Qe(c,y){var w,T=c.F;if(T)for(w=[];T;T=T.F)w.push(T);if(c=c.M,T=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var B=y;y=new oe(T,c),k(y,B)}if(B=!0,w)for(var Q=w.length-1;0<=Q;Q--){var le=y.g=w[Q];B=En(le,T,!0,y)&&B}if(le=y.g=c,B=En(le,T,!0,y)&&B,B=En(le,T,!1,y)&&B,w)for(Q=0;Q<w.length;Q++)le=y.g=w[Q],B=En(le,T,!1,y)&&B}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],T=0;T<w.length;T++)Oi(w[T]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,w,T){return this.i.add(String(c),y,!1,w,T)},dt.prototype.L=function(c,y,w,T){return this.i.add(String(c),y,!0,w,T)};function En(c,y,w,T){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var le=y[Q];if(le&&!le.da&&le.capture==w){var Le=le.listener,Ot=le.ha||le.src;le.fa&&xs(c.i,le),B=Le.call(Ot,T)!==!1&&B}}return B&&!T.defaultPrevented}function en(c,y,w){if(typeof c=="function")w&&(c=S(c,w));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function vc(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,vc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Bd extends ce{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){ce.call(this),this.h=c,this.g={}}V(ks,ce);var Ps=[];function Ms(c){fe(c.g,function(y,w){this.g.hasOwnProperty(w)&&Va(y)},c),c.g={}}ks.prototype.N=function(){ks.aa.N.call(this),Ms(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,Ua=m.JSON.parse,Vs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function yl(){}yl.prototype.h=null;function wl(c){return c.h||(c.h=c.i())}function vl(){}var Hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){oe.call(this,"d")}V(Fr,oe);function _l(){oe.call(this,"c")}V(_l,oe);var hr={},bl=null;function Ni(){return bl=bl||new dt}hr.La="serverreachability";function Ba(c){oe.call(this,hr.La,c)}V(Ba,oe);function ki(c){const y=Ni();Qe(y,new Ba(y))}hr.STAT_EVENT="statevent";function _c(c,y){oe.call(this,hr.STAT_EVENT,c),this.stat=y}V(_c,oe);function ot(c){const y=Ni();Qe(y,new _c(y,c))}hr.Ma="timingevent";function Dt(c,y){oe.call(this,hr.Ma,c),this.size=y}V(Dt,oe);function Tt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function El(c,y,w,T,B,Q){c.info(function(){if(c.g)if(Q)for(var le="",Le=Q.split("&"),Ot=0;Ot<Le.length;Ot++){var Ue=Le[Ot].split("=");if(1<Ue.length){var Ut=Ue[0];Ue=Ue[1];var Nt=Ut.split("_");le=2<=Nt.length&&Nt[1]=="type"?le+(Ut+"="+Ue+"&"):le+(Ut+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+y+`
`+w+`
`+le})}function jd(c,y,w,T,B,Q,le){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+y+`
`+w+`
`+Q+" "+le})}function Pi(c,y,w,T){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ls(c,w)+(T?" "+T:"")})}function bc(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function Ls(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var T=w[c];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return Jn(w)}catch{return y}}var Mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function dr(){}V(dr,yl),dr.prototype.g=function(){return new XMLHttpRequest},dr.prototype.i=function(){return{}},fr=new dr;function un(c,y,w,T){this.j=c,this.i=y,this.l=w,this.R=T||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Tl={},ja={};function er(c,y,w){c.L=1,c.v=qs(Tn(y)),c.m=w,c.P=!0,$r(c,null)}function $r(c,y){c.F=Date.now(),Us(c),c.A=Tn(c.v);var w=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),xl(w.i,"t",T),c.C=0,w=c.j.J,c.h=new gt,c.g=Lc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new Bd(S(c.Y,c,c.g),c.O)),y=c.U,w=c.g,T=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ps[0]=B.toString()),B=Ps);for(var Q=0;Q<B.length;Q++){var le=yc(w,B[Q],T||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ki(),El(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Hn(this.g);var y=this.g.Ba();const ei=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||xc(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=ei?ki(3):ki(2)),Vi(this);var w=this.g.Z();this.X=w;t:if(Ec(this)){var T=xc(this.g);c="";var B=T.length,Q=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),mr(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(T[y],{stream:!(Q&&y==B-1)});T.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,jd(this.i,this.u,this.A,this.l,this.R,Nt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ot=this.g;if((Le=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Le)){var Ue=Le;break t}}Ue=null}if(w=Ue)Pi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,w);else{this.o=!1,this.s=3,ot(12),Gt(this),mr(this);break e}}if(this.P){w=!0;let $t;for(;!this.J&&this.C<le.length;)if($t=Tc(this,le),$t==ja){Nt==4&&(this.s=4,ot(14),w=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Tl){this.s=4,ot(15),Pi(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else Pi(this.i,this.l,$t,null),Bs(this,$t);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||le.length!=0||this.h.h||(this.s=1,ot(16),w=!1),this.o=this.o&&w,!w)Pi(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),mr(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Xs(Ut),Ut.M=!0,ot(11))}}else Pi(this.i,this.l,le,null),Bs(this,le);Nt==4&&Gt(this),this.o&&!this.J&&(Nt==4?Pc(this.j,this):(this.o=!1,Us(this)))}else Gd(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Gt(this),mr(this)}}}catch{}finally{}};function Ec(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Tc(c,y){var w=c.C,T=y.indexOf(`
`,w);return T==-1?ja:(w=Number(y.substring(w,T)),isNaN(w)?Tl:(T+=1,T+w>y.length?ja:(y=y.slice(T,T+w),c.C=T+w,y)))}un.prototype.cancel=function(){this.J=!0,Gt(this)};function Us(c){c.S=Date.now()+c.I,Sc(c,c.I)}function Sc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(S(c.ba,c),y)}function Vi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bc(this.i,this.A),this.L!=2&&(ki(),ot(17)),Gt(this),this.s=2,mr(this)):Sc(this,this.S-c)};function mr(c){c.j.G==0||c.J||Pc(c.j,c)}function Gt(c){Vi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ms(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Bs(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Sl(w.h,c))){if(!c.K&&Sl(w.h,c)&&w.G==3){try{var T=w.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Za(w),Xa(w);else break e;Pl(w),ot(18)}}else w.za=B[1],0<w.za-w.T&&37500>B[2]&&w.F&&w.v==0&&!w.C&&(w.C=Tt(S(w.Za,w),6e3));if(1>=qa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Jr(w,11)}else if((c.K||w.g==c)&&Za(w),!se(y))for(B=w.Da.g.parse(y),y=0;y<B.length;y++){let Ue=B[y];if(w.T=Ue[0],Ue=Ue[1],w.G==2)if(Ue[0]=="c"){w.K=Ue[1],w.ia=Ue[2];const Ut=Ue[3];Ut!=null&&(w.la=Ut,w.j.info("VER="+w.la));const Nt=Ue[4];Nt!=null&&(w.Aa=Nt,w.j.info("SVER="+w.Aa));const ei=Ue[5];ei!=null&&typeof ei=="number"&&0<ei&&(T=1.5*ei,w.L=T,w.j.info("backChannelRequestTimeoutMs_="+T)),T=w;const $t=c.g;if($t){const br=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var Q=T.h;Q.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ha(Q,Q.h),Q.h=null))}if(T.D){const Vl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(T.ya=Vl,We(T.I,T.D,Vl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),T=w;var le=c;if(T.qa=Vc(T,T.J?T.ia:null,T.W),le.K){cn(T.h,le);var Le=le,Ot=T.L;Ot&&(Le.I=Ot),Le.B&&(Vi(Le),Us(Le)),T.g=le}else Nc(T);0<w.i.length&&Wa(w)}else Ue[0]!="stop"&&Ue[0]!="close"||Jr(w,7);else w.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Jr(w,7):Nl(w):Ue[0]!="noop"&&w.l&&w.l.ta(Ue),w.v=0)}}ki(4)}catch{}}var Ac=class{constructor(c,y){this.g=c,this.map=y}};function Kr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qa(c){return c.h?1:c.g?c.g.size:0}function Sl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ha(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Kr.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Al(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return q(c.i)}function zd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],w=c.length,T=0;T<w;T++)y.push(c[T]);return y}y=[],w=0;for(T in c)y[w++]=c[T];return y}function Fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const T in c)y[w++]=T;return y}}}function Rl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Fa(c),T=zd(c),B=T.length,Q=0;Q<B;Q++)y.call(void 0,T[Q],w&&w[Q],c)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var T=c[w].indexOf("="),B=null;if(0<=T){var Q=c[w].substring(0,T);B=c[w].substring(T+1)}else Q=c[w];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,zs(this,c.j),this.o=c.o,this.g=c.g,Li(this,c.s),this.l=c.l;var y=c.i,w=new Yr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Qr(this,w),this.m=c.m}else c&&(y=String(c).match(js))?(this.h=!1,zs(this,y[1]||"",!0),this.o=jn(y[2]||""),this.g=jn(y[3]||"",!0),Li(this,y[4]),this.l=jn(y[5]||"",!0),Qr(this,y[6]||"",!0),this.m=jn(y[7]||"")):(this.h=!1,this.i=new Yr(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Hs(y,Cl,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Hs(y,Cl,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Hs(w,w.charAt(0)=="/"?Hd:Il,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Hs(w,Ga)),c.join("")};function Tn(c){return new St(c)}function zs(c,y,w){c.j=w?jn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Li(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Qr(c,y,w){y instanceof Yr?(c.i=y,Cc(c.i,c.h)):(w||(y=Hs(y,Fd)),c.i=new Yr(y,c.h))}function We(c,y,w){c.i.set(y,w)}function qs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hs(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Rc),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Rc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Cl=/[#\/\?@]/g,Il=/[#\?:]/g,Hd=/[#\?]/g,Fd=/[#\?@]/g,Ga=/#/g;function Yr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&qd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=Yr.prototype,t.add=function(c,y){zn(this),this.i=null,c=pr(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Xr(c,y){zn(c),y=pr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wr(c,y){return zn(c),y=pr(c,y),c.g.has(y)}t.forEach=function(c,y){zn(this),this.g.forEach(function(w,T){w.forEach(function(B){c.call(y,B,T,this)},this)},this)},t.na=function(){zn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let T=0;T<y.length;T++){const B=c[T];for(let Q=0;Q<B.length;Q++)w.push(y[T])}return w},t.V=function(c){zn(this);let y=[];if(typeof c=="string")Wr(this,c)&&(y=y.concat(this.g.get(pr(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return zn(this),this.i=null,c=pr(this,c),Wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function xl(c,y,w){Xr(c,y),0<w.length&&(c.i=null,c.g.set(pr(c,y),q(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var T=y[w];const Q=encodeURIComponent(String(T)),le=this.V(T);for(T=0;T<le.length;T++){var B=Q;le[T]!==""&&(B+="="+encodeURIComponent(String(le[T]))),c.push(B)}}return this.i=c.join("&")};function pr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Cc(c,y){y&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(w,T){var B=T.toLowerCase();T!=B&&(Xr(this,T),xl(this,B,w))},c)),c.j=y}function Fs(c,y){const w=new Bn;if(m.Image){const T=new Image;T.onload=D(qn,w,"TestLoadImage: loaded",!0,y,T),T.onerror=D(qn,w,"TestLoadImage: error",!1,y,T),T.onabort=D(qn,w,"TestLoadImage: abort",!1,y,T),T.ontimeout=D(qn,w,"TestLoadImage: timeout",!1,y,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else y(!1)}function tr(c,y){const w=new Bn,T=new AbortController,B=setTimeout(()=>{T.abort(),qn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:T.signal}).then(Q=>{clearTimeout(B),Q.ok?qn(w,"TestPingServer: ok",!0,y):qn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),qn(w,"TestPingServer: error",!1,y)})}function qn(c,y,w,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(w)}catch{}}function Gs(){this.g=new Vs}function gr(c,y,w){const T=w||"";try{Rl(c,function(B,Q){let le=B;g(B)&&(le=Jn(B)),y.push(T+Q+"="+encodeURIComponent(le))})}catch(B){throw y.push(T+"type="+encodeURIComponent("_badmap")),B}}function Ui(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Ui,yl),Ui.prototype.g=function(){return new Zr(this.l,this.j)},Ui.prototype.i=function(c){return function(){return c}}({});function Zr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Zr,dt),t=Zr.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,wr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?yr(this):wr(this),this.readyState==3&&Dl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,yr(this))},t.Qa=function(c){this.g&&(this.response=c,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wr(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function wr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ol(c){let y="";return fe(c,function(w,T){y+=T,y+=":",y+=w,y+=`\r
`}),y}function Lt(c,y,w){e:{for(T in w){var T=!1;break e}T=!0}T||(w=Ol(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):We(c,y,w))}function $e(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V($e,dt);var $a=/^https?$/i,$s=["POST","PUT"];t=$e.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?wl(this.o):wl(fr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Ic(this,Q);return}if(c=w||"",w=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)w.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Q of T.keys())w.set(Q,T.get(Q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(w.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call($s,y,void 0))||T||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of w)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Ic(this,Q)}};function Ic(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ka(c),vr(c)}function Ka(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},t.bb=function(){Qa(this)};function Qa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)en(c.Ea,0,c);else if(Qe(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var T;if(T=le===0){var B=String(c.D).match(js)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),T=!$a.test(B?B.toLowerCase():"")}w=T}if(w)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Q=2<Hn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ka(c)}}finally{vr(c)}}}}function vr(c,y){if(c.g){Ks(c);const w=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{w.onreadystatechange=T}catch{}}}function Ks(c){c.I&&(m.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ua(y)}};function xc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gd(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(se(c[T]))continue;var w=P(c[T]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Q=y[B]||[];y[B]=Q,Q.push(w)}x(y,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Ya(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,c),this.cb=Qs("retryDelaySeedMs",1e4,c),this.Wa=Qs("forwardChannelMaxRetries",2,c),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Kr(c&&c.concurrentRequestLimit),this.Da=new Gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ya.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,T){ot(0),this.W=c,this.H=y||{},w&&T!==void 0&&(this.H.OSID=w,this.H.OAID=T),this.F=this.X,this.I=Vc(this,null,this.W),Wa(this)};function Nl(c){if(Dc(c),c.G==3){var y=c.U++,w=Tn(c.I);if(We(w,"SID",c.K),We(w,"RID",y),We(w,"TYPE","terminate"),Ys(c,w),y=new un(c,c.j,y),y.L=2,y.v=qs(Tn(w)),w=!1,m.navigator&&m.navigator.sendBeacon)try{w=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&m.Image&&(new Image().src=y.v,w=!0),w||(y.g=Lc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Us(y)}Mc(c)}function Xa(c){c.g&&(Xs(c),c.g.cancel(),c.g=null)}function Dc(c){Xa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Wa(c){if(!za(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||O(),ge||(ue(),ge=!0),He.add(y,c),c.B=0}}function $d(c,y){return qa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(S(c.Ga,c,y),Ml(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new un(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=A(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var T=this.i[w];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Oc(this,B,y),w=Tn(this.I),We(w,"RID",c),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),Ys(this,w),Q&&(this.O?y="headers="+encodeURIComponent(String(Ol(Q)))+"&"+y:this.m&&Lt(w,this.m,Q)),Ha(this.h,B),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",y),We(w,"SID","null"),B.T=!0,er(B,w,null)):er(B,w,y),this.G=2}}else this.G==3&&(c?kl(this,c):this.i.length==0||za(this.h)||kl(this))};function kl(c,y){var w;y?w=y.l:w=c.U++;const T=Tn(c.I);We(T,"SID",c.K),We(T,"RID",w),We(T,"AID",c.T),Ys(c,T),c.m&&c.o&&Lt(T,c.m,c.o),w=new un(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Oc(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ha(c.h,w),er(w,T,y)}function Ys(c,y){c.H&&fe(c.H,function(w,T){We(y,T,w)}),c.l&&Rl({},function(w,T){We(y,T,w)})}function Oc(c,y,w){w=Math.min(c.i.length,w);var T=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const le=["count="+w];Q==-1?0<w?(Q=B[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Le=!0;for(let Ot=0;Ot<w;Ot++){let Ue=B[Ot].g;const Ut=B[Ot].map;if(Ue-=Q,0>Ue)Q=Math.max(0,B[Ot].g-100),Le=!1;else try{gr(Ut,le,"req"+Ue+"_")}catch{T&&T(Ut)}}if(Le){T=le.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,T}function Nc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||O(),ge||(ue(),ge=!0),He.add(y,c),c.v=0}}function Pl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(S(c.Fa,c),Ml(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(S(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Xa(this),kc(this))};function Xs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function kc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Ys(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=qs(Tn(y)),w.m=null,w.P=!0,$r(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),Pl(this),ot(19))};function Za(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Pc(c,y){var w=null;if(c.g==y){Za(c),Xs(c),c.g=null;var T=2}else if(Sl(c.h,y))w=y.D,cn(c.h,y),T=1;else return;if(c.G!=0){if(y.o)if(T==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;T=Ni(),Qe(T,new Dt(T,w)),Wa(c)}else Nc(c);else if(B=y.s,B==3||B==0&&0<y.X||!(T==1&&$d(c,y)||T==2&&Pl(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),B){case 1:Jr(c,5);break;case 4:Jr(c,10);break;case 3:Jr(c,6);break;default:Jr(c,2)}}}function Ml(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Jr(c,y){if(c.j.info("Error code "+y),y==2){var w=S(c.fb,c),T=c.Xa;const B=!T;T=new St(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||zs(T,"https"),qs(T),B?Fs(T.toString(),w):tr(T.toString(),w)}else ot(2);c.G=0,c.l&&c.l.sa(y),Mc(c),Dc(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Mc(c){if(c.G=0,c.ka=[],c.l){const y=Al(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Vc(c,y,w){var T=w instanceof St?Tn(w):new St(w);if(T.g!="")y&&(T.g=y+"."+T.g),Li(T,T.s);else{var B=m.location;T=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new St(null);T&&zs(Q,T),y&&(Q.g=y),B&&Li(Q,B),w&&(Q.l=w),T=Q}return w=c.D,y=c.ya,w&&y&&We(T,w,y),We(T,"VER",c.la),Ys(c,T),T}function Lc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Ui({eb:w})):new $e(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uc(){}t=Uc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ja(){}Ja.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){dt.call(this),this.g=new Ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new _r(this)}V(hn,dt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nl(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Jn(c),c=w);y.i.push(new Ac(y.Ya++,c)),y.G==3&&Wa(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,hn.aa.N.call(this)};function Bc(c){Fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Bc,Fr);function jc(){_l.call(this),this.status=1}V(jc,_l);function _r(c){this.g=c}V(_r,Uc),_r.prototype.ua=function(){Qe(this.g,"a")},_r.prototype.ta=function(c){Qe(this.g,new Bc(c))},_r.prototype.sa=function(c){Qe(this.g,new jc)},_r.prototype.ra=function(){Qe(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,t2=function(){return new Ja},e2=function(){return Ni()},JT=hr,Ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,tf=Mi,Gr.COMPLETE="complete",ZT=Gr,vl.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Cu=vl,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,WT=$e}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const Tb="@firebase/firestore",Sb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new hy("@firebase/firestore");function xo(){return Sa.logLevel}function de(t,...e){if(Sa.logLevel<=Pe.DEBUG){const n=e.map(my);Sa.debug(`Firestore (${nl}): ${t}`,...n)}}function Si(t,...e){if(Sa.logLevel<=Pe.ERROR){const n=e.map(my);Sa.error(`Firestore (${nl}): ${t}`,...n)}}function Ho(t,...e){if(Sa.logLevel<=Pe.WARN){const n=e.map(my);Sa.warn(`Firestore (${nl}): ${t}`,...n)}}function my(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,n2(t,i,n)}function n2(t,e,n){let i=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Si(i),new Error(i)}function Ke(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||n2(e,o,i)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class dO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mO{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new r2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class pO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new pO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ab(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ab(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=wO(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function Rg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),u=e.charAt(i);if(o!==u)return ng(o)===ng(u)?Me(o,u):ng(o)?1:-1}return Me(t.length,e.length)}const vO=55296,_O=57343;function ng(t){const e=t.charCodeAt(0);return e>=vO&&e<=_O}function Fo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="__name__";class Cr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Cr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const i=Cr.isNumericId(e),o=Cr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class it extends Cr{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const bO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Cr{construct(e,n,i){return new Zt(e,n,i)}static isValidIdentifier(e){return bO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rb}static keyField(){return new Zt([Rb])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(i+=m,o++):(u(),o++)}if(u(),h)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EO(t,e,n,i){if(e===!0&&i===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cb(t){if(!ye.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ib(t){if(ye.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function tc(t,e){if(!s2(t))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const h=t[i];if(o&&typeof h!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=-62135596800,Db=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Db);return new at(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xb)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Db}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:xt("string",at._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new at(0,0))}static max(){return new Re(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function TO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new bs(o,ye.empty(),e)}function SO(t){return new bs(t.readTime,t.key,qu)}class bs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new bs(Re.min(),ye.empty(),qu)}static max(){return new bs(Re.max(),ye.empty(),qu)}}function AO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==RO)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,i)=>{n(e)})}static reject(e){return new ne((n,i)=>{i(e)})}static waitFor(e){return new ne((n,i)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>i(p))}),h=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const i of e)n=n.next(o=>o?ne.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,u)=>{i.push(n.call(this,o,u))}),this.waitFor(i)}static mapArray(e,n){return new ne((i,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{h[g]=v,++m,m===u&&i(h)},v=>o(v))}})}static doWhile(e,n){return new ne((i,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):i()};u()})}}function IO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-1;function dd(t){return t==null}function xf(t){return t===0&&1/t==-1/0}function xO(t){return typeof t=="number"&&Number.isInteger(t)&&!xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="";function DO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ob(e)),e=OO(t.get(n),e);return Ob(e)}function OO(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const u=t.charAt(o);switch(u){case"\0":n+="";break;case a2:n+="";break;default:n+=u}}return n}function Ob(t){return t+a2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Wt(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kb(this.data.getIterator())}getIteratorFrom(e){return new kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Mt(Zt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l2("Invalid base64 string: "+u):u}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const NO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=NO.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="server_timestamp",c2="__type__",h2="__previous_value__",f2="__local_write_time__";function yy(t){return(t?.mapValue?.fields||{})[c2]?.stringValue===u2}function md(t){const e=t.mapValue.fields[h2];return yy(e)?md(e):e}function Hu(t){const e=Es(t.mapValue.fields[f2].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,i,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Df="(default)";class Fu{constructor(e,n){this.projectId=e,this.database=n||Df}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="__type__",PO="__max__",$h={mapValue:{}},m2="__vector__",Of="value";function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yy(t)?4:VO(t)?9007199254740991:MO(t)?10:11:Ee(28295,{value:t})}function Br(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hu(t).isEqual(Hu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Es(o.timestampValue),m=Es(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,u){return Ts(o.bytesValue).isEqual(Ts(u.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(t,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?xf(h)===xf(m):isNaN(h)&&isNaN(m)}return!1}(t,e);case 9:return Fo(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Nb(h)!==Nb(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Br(h[p],m[p])))return!1;return!0}(t,e);default:return Ee(52216,{left:t})}}function Gu(t,e){return(t.values||[]).find(n=>Br(n,e))!==void 0}function Go(t,e){if(t===e)return 0;const n=Ss(t),i=Ss(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(t,e);case 3:return Pb(t.timestampValue,e.timestampValue);case 4:return Pb(Hu(t),Hu(e));case 5:return Rg(t.stringValue,e.stringValue);case 6:return function(u,h){const m=Ts(u),p=Ts(h);return m.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Me(m[g],p[g]);if(v!==0)return v}return Me(m.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Me(_t(u.latitude),_t(h.latitude));return m!==0?m:Me(_t(u.longitude),_t(h.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mb(t.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Of]?.arrayValue,v=p[Of]?.arrayValue,b=Me(g?.values?.length||0,v?.values?.length||0);return b!==0?b:Mb(g,v)}(t.mapValue,e.mapValue);case 11:return function(u,h){if(u===$h.mapValue&&h===$h.mapValue)return 0;if(u===$h.mapValue)return 1;if(h===$h.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const S=Rg(p[b],v[b]);if(S!==0)return S;const D=Go(m[p[b]],g[v[b]]);if(D!==0)return D}return Me(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Pb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Es(t),i=Es(e),o=Me(n.seconds,i.seconds);return o!==0?o:Me(n.nanos,i.nanos)}function Mb(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=Go(n[o],i[o]);if(u)return u}return Me(n.length,i.length)}function $o(t){return Cg(t)}function Cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Es(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Cg(u);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${Cg(n.fields[h])}`;return o+"}"}(t.mapValue):Ee(61005,{value:t})}function nf(t){switch(Ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(t);return e?16+nf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,u)=>o+nf(u),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return Cs(i.fields,(u,h)=>{o+=u.length+nf(h)}),o}(t.mapValue);default:throw Ee(13486,{value:t})}}function Vb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ig(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function Lb(t){return!!t&&"nullValue"in t}function Ub(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function MO(t){return(t?.mapValue?.fields||{})[d2]?.stringValue===m2}function ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ku(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ku(t.arrayValue.values[n]);return e}return{...t}}function VO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(n)}setAll(e){let n=Zt.emptyPath(),i={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=m.popLast()}h?i[m.lastSegment()]=ku(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];rf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Cs(n,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new _n(ku(this.value))}}function p2(t){const e=[];return Cs(t.fields,(n,i)=>{const o=new Zt([n]);if(rf(i)){const u=p2(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,i,o,u,h,m){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Re.min(),Re.min(),Re.min(),_n.empty(),0)}static newFoundDocument(e,n,i,o){return new an(e,1,n,Re.min(),i,o,0)}static newNoDocument(e,n){return new an(e,2,n,Re.min(),Re.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Re.min(),Re.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.position=e,this.inclusive=n}}function Bb(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const u=e[o],h=t.position[o];if(u.field.isKeyField()?i=ye.comparator(ye.fromName(h.referenceValue),n.key):i=Go(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function jb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n="asc"){this.field=e,this.dir=n}}function LO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{}class It extends g2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new BO(e,n,i):n==="array-contains"?new qO(e,i):n==="in"?new HO(e,i):n==="not-in"?new FO(e,i):n==="array-contains-any"?new GO(e,i):new It(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new jO(e,i):new zO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Go(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends g2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ur(e,n)}matches(e){return y2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y2(t){return t.op==="and"}function w2(t){return UO(t)&&y2(t)}function UO(t){for(const e of t.filters)if(e instanceof ur)return!1;return!0}function xg(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(w2(t))return t.filters.map(e=>xg(e)).join(",");{const e=t.filters.map(n=>xg(n)).join(",");return`${t.op}(${e})`}}function v2(t,e){return t instanceof It?function(i,o){return o instanceof It&&i.op===o.op&&i.field.isEqual(o.field)&&Br(i.value,o.value)}(t,e):t instanceof ur?function(i,o){return o instanceof ur&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((u,h,m)=>u&&v2(h,o.filters[m]),!0):!1}(t,e):void Ee(19439)}function _2(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`}(t):t instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(_2).join(" ,")+"}"}(t):"Filter"}class BO extends It{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class jO extends It{constructor(e,n){super(e,"in",n),this.keys=b2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zO extends It{constructor(e,n){super(e,"not-in",n),this.keys=b2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b2(t,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class qO extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&Gu(n.arrayValue,this.value)}}class HO extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}}class FO extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gu(this.value.arrayValue,n)}}class GO extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Gu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n=null,i=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function zb(t,e=null,n=[],i=[],o=null,u=null,h=null){return new $O(t,e,n,i,o,u,h)}function vy(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>xg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$o(i)).join(",")),e.Te=n}return e.Te}function _y(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!v2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jb(t.startAt,e.startAt)&&jb(t.endAt,e.endAt)}function Dg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n=null,i=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KO(t,e,n,i,o,u,h,m){return new sl(t,e,n,i,o,u,h,m)}function by(t){return new sl(t)}function qb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E2(t){return t.collectionGroup!==null}function Pu(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Mt(Zt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new $u(u,i))}),n.has(Zt.keyField().canonicalString())||e.Ie.push(new $u(Zt.keyField(),i))}return e.Ie}function Dr(t){const e=Ce(t);return e.Ee||(e.Ee=QO(e,Pu(t))),e.Ee}function QO(t,e){if(t.limitType==="F")return zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new $u(o.field,u)});const n=t.endAt?new Nf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Nf(t.startAt.position,t.startAt.inclusive):null;return zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Og(t,e){const n=t.filters.concat([e]);return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pd(t,e){return _y(Dr(t),Dr(e))&&t.limitType===e.limitType}function T2(t){return`${vy(Dr(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>_2(o)).join(", ")}]`),dd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>$o(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>$o(o)).join(",")),`Target(${i})`}(Dr(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ye.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(t,e)&&function(i,o){for(const u of Pu(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(h,m,p){const g=Bb(h,m,p);return h.inclusive?g<=0:g<0}(i.startAt,Pu(i),o)||i.endAt&&!function(h,m,p){const g=Bb(h,m,p);return h.inclusive?g>=0:g>0}(i.endAt,Pu(i),o))}(t,e)}function YO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S2(t){return(e,n)=>{let i=!1;for(const o of Pu(t)){const u=XO(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function XO(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Go(p,g):Ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return o2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new ht(ye.comparator);function Ai(){return WO}const A2=new ht(ye.comparator);function Iu(...t){let e=A2;for(const n of t)e=e.insert(n.key,n);return e}function R2(t){let e=A2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function pa(){return Mu()}function C2(){return Mu()}function Mu(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZO=new ht(ye.comparator),JO=new Mt(ye.comparator);function Ve(...t){let e=JO;for(const n of t)e=e.add(n);return e}const eN=new Mt(Me);function tN(){return eN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(e)?"-0":e}}function I2(t){return{integerValue:""+t}}function nN(t,e){return xO(e)?I2(e):Ey(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function rN(t,e,n){return t instanceof kf?function(o,u){const h={fields:{[c2]:{stringValue:u2},[f2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yy(u)&&(u=md(u)),u&&(h.fields[h2]=u),{mapValue:h}}(n,e):t instanceof Ku?D2(t,e):t instanceof Qu?O2(t,e):function(o,u){const h=x2(o,u),m=Hb(h)+Hb(o.Ae);return Ig(h)&&Ig(o.Ae)?I2(m):Ey(o.serializer,m)}(t,e)}function iN(t,e,n){return t instanceof Ku?D2(t,e):t instanceof Qu?O2(t,e):n}function x2(t,e){return t instanceof Pf?function(i){return Ig(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class kf extends yd{}class Ku extends yd{constructor(e){super(),this.elements=e}}function D2(t,e){const n=N2(e);for(const i of t.elements)n.some(o=>Br(o,i))||n.push(i);return{arrayValue:{values:n}}}class Qu extends yd{constructor(e){super(),this.elements=e}}function O2(t,e){let n=N2(e);for(const i of t.elements)n=n.filter(o=>!Br(o,i));return{arrayValue:{values:n}}}class Pf extends yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Hb(t){return _t(t.integerValue||t.doubleValue)}function N2(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sN(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Ku&&o instanceof Ku||i instanceof Qu&&o instanceof Qu?Fo(i.elements,o.elements,Br):i instanceof Pf&&o instanceof Pf?Br(i.Ae,o.Ae):i instanceof kf&&o instanceof kf}(t.transform,e.transform)}class aN{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function k2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M2(t.key,lr.none()):new nc(t.key,t.data,lr.none());{const n=t.data,i=_n.empty();let o=new Mt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new Is(t.key,i,new On(o.toArray()),lr.none())}}function oN(t,e,n){t instanceof nc?function(o,u,h){const m=o.value.clone(),p=Gb(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(t,e,n):t instanceof Is?function(o,u,h){if(!sf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Gb(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(P2(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(t,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Vu(t,e,n,i){return t instanceof nc?function(u,h,m,p){if(!sf(u.precondition,h))return m;const g=u.value.clone(),v=$b(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof Is?function(u,h,m,p){if(!sf(u.precondition,h))return m;const g=$b(u.fieldTransforms,p,h),v=h.data;return v.setAll(P2(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(t,e,n,i):function(u,h,m){return sf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(t,e,n)}function lN(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),u=x2(i.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(i.field,u))}return n||null}function Fb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Fo(i,o,(u,h)=>sN(u,h))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nc extends wd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends wd{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Gb(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const u=t[o],h=u.transform,m=e.data.field(u.field);i.set(u.field,iN(h,m,n[o]))}return i}function $b(t,e,n){const i=new Map;for(const o of t){const u=o.transform,h=n.data.field(o.field);i.set(o.field,rN(u,h,e))}return i}class M2 extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oN(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Vu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Vu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=C2();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=k2(h,m);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,i)=>Fb(n,i))&&Fo(this.baseMutations,e.baseMutations,(n,i)=>Fb(n,i))}}class Ty{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return ZO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new Ty(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function dN(t){switch(t){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function V2(t){if(t===void 0)return Si("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:t})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new ws([4294967295,4294967295],0);function Kb(t){const e=mN().encode(t),n=new XT;return n.update(e),new Uint8Array(n.digest())}function Qb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ws([n,i],0),new ws([o,u],0)]}class Sy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(i<0)throw new xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ws.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(ws.fromNumber(i)));return o.compare(pN)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kb(e),[i,o]=Qb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);if(!this.we(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Sy(u,o,n);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const n=Kb(e),[i,o]=Qb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new vd(Re.min(),o,new ht(Me),Ai(),Ve())}}class rc{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new rc(i,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class L2{constructor(e,n){this.targetId=e,this.Ce=n}}class U2{constructor(e,n,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Yb{constructor(){this.ve=0,this.Fe=Xb(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),i=Ve();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:u})}}),new rc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Xb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=Kh(),this.He=Kh(),this.Ye=new ht(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Dg(u))if(i===0){const h=new ye(u.path);this.et(n,h,an.newNoDocument(h,Re.min()))}else Ke(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ts(i).toUint8Array()}catch(p){if(p instanceof l2)return Ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sy(h,o,u)}catch(p){return Ho(p instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Dg(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,an.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}});let i=Ve();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new vd(e,n,this.Ye,this.je,i);return this.je=Ai(),this.Je=Kh(),this.He=Kh(),this.Ye=new ht(Me),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kh(){return new ht(ye.comparator)}function Xb(){return new ht(ye.comparator)}const yN={asc:"ASCENDING",desc:"DESCENDING"},wN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vN={and:"AND",or:"OR"};class _N{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kg(t,e){return t.useProto3Json||dd(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bN(t,e){return Mf(t,e.toTimestamp())}function Or(t){return Ke(!!t,49232),Re.fromTimestamp(function(n){const i=Es(n);return new at(i.seconds,i.nanos)}(t))}function Ay(t,e){return Pg(t,e).canonicalString()}function Pg(t,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function j2(t){const e=it.fromString(t);return Ke(G2(e),10190,{key:e.toString()}),e}function Mg(t,e){return Ay(t.databaseId,e.path)}function rg(t,e){const n=j2(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(q2(n))}function z2(t,e){return Ay(t.databaseId,e)}function EN(t){const e=j2(t);return e.length===4?it.emptyPath():q2(e)}function Vg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function q2(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Wb(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function TN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?ee.UNKNOWN:V2(g.code);return new he(v,g.message||"")}(h);n=new U2(i,o,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=rg(t,i.document.name),u=Or(i.document.updateTime),h=i.document.createTime?Or(i.document.createTime):Re.min(),m=new _n({mapValue:{fields:i.document.fields}}),p=an.newFoundDocument(o,u,h,m),g=i.targetIds||[],v=i.removedTargetIds||[];n=new af(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=rg(t,i.document),u=i.readTime?Or(i.readTime):Re.min(),h=an.newNoDocument(o,u),m=i.removedTargetIds||[];n=new af([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=rg(t,i.document),u=i.removedTargetIds||[];n=new af([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new fN(o,u),m=i.targetId;n=new L2(m,h)}}return n}function SN(t,e){let n;if(e instanceof nc)n={update:Wb(t,e.key,e.value)};else if(e instanceof M2)n={delete:Mg(t,e.key)};else if(e instanceof Is)n={update:Wb(t,e.key,e.data),updateMask:kN(e.fieldMask)};else{if(!(e instanceof uN))return Ee(16599,{Vt:e.type});n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof kf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ku)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Qu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pf)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:bN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(t,e.precondition)),n}function AN(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map(n=>function(o,u){let h=o.updateTime?Or(o.updateTime):Or(u);return h.isEqual(Re.min())&&(h=Or(u)),new aN(h,o.transformResults||[])}(n,e))):[]}function RN(t,e){return{documents:[z2(t,e.path)]}}function CN(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=z2(t,o);const u=function(g){if(g.length!==0)return F2(ur.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:Oo(S.field),direction:DN(S.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=kg(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function IN(t){let e=EN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(b){const S=H2(b);return S instanceof ur&&w2(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(S=>function(V){return new $u(No(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,dd(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,D=b.values||[];return new Nf(D,S)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const S=!b.before,D=b.values||[];return new Nf(D,S)}(n.endAt)),KO(e,o,h,u,m,"F",p,g)}function xN(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=No(n.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return It.create(No(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(i=>H2(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(t):Ee(30097,{filter:t})}function DN(t){return yN[t]}function ON(t){return wN[t]}function NN(t){return vN[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function No(t){return Zt.fromServerFormat(t.fieldPath)}function F2(t){return t instanceof It?function(n){if(n.op==="=="){if(Ub(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(Lb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ub(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(Lb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:ON(n.op),value:n.value}}}(t):t instanceof ur?function(n){const i=n.getFilters().map(o=>F2(o));return i.length===1?i[0]:{compositeFilter:{op:NN(n.op),filters:i}}}(t):Ee(54877,{filter:t})}function kN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,i,o,u=Re.min(),h=Re.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.yt=e}}function MN(t){const e=IN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Cn=new LN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(bs.min())}updateCollectionGroup(e,n,i){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class LN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Mt(it.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$2=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn($2,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ko(0)}static cr(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LruGarbageCollector",UN=1048576;function eE([t,e],[n,i]){const o=Me(t,n);return o===0?Me(e,i):o}class BN{constructor(e){this.Ir=e,this.buffer=new Mt(eE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();eE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Jb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){il(n)?de(Jb,"Ignoring IndexedDB error during garbage collection: ",n):await rl(n)}await this.Vr(3e5)})}}class zN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(fd.ce);const i=new BN(n);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Zb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(i=b,m=Date.now(),this.removeTargets(e,i,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),xo()<=Pe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function qN(t,e){return new zN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ne.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&Vu(i.mutation,o,On.empty(),at.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ve()){const o=pa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(u=>{let h=Iu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const i=pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ve()))}populateOverlays(e,n,i){const o=[];return i.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,i,o){let u=Ai();const h=Mu(),m=function(){return Mu()}();return n.forEach((p,g)=>{const v=i.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Is)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Vu(v.mutation,g,v.mutation.getFieldMask(),at.now())):h.set(g.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>m.set(g,new FN(v,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const i=Mu();let o=new ht((h,m)=>h-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=i.get(p)||On.empty();v=m.applyToLocalView(g,v),i.set(p,v);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=C2();v.forEach(S=>{if(!u.has(S)){const D=k2(n.get(S),i.get(S));D!==null&&b.set(S,D),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):ne.resolve(pa());let m=qu,p=u;return h.next(g=>ne.forEach(g,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(v=>({batchId:m,changes:R2(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(i=>{let o=Iu();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let h=Iu();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(b,S){return new sl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(v=>{v.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,an.newInvalidDocument(v)))});let m=Iu();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Vu(v.mutation,g,On.empty(),at.now()),gd(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:MN(o.bundledQuery),readTime:Or(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const i=pa();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(i)),ne.resolve()}getOverlaysForCollection(e,n,i){const o=pa(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new ht((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=u.get(g.largestBatchId);v===null&&(v=pa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ne.resolve(m)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new hN(n,i));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Qr=new Mt(qt.$r),this.Ur=new Mt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new qt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new ye(new it([])),i=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([i,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),i=new qt(n,e),o=new qt(n,e+1);let u=Ve();return this.Ur.forEachInRange([i,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new qt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cN(u,n,i,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?gy:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(Me);return n.forEach(o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{i=i.add(m.Yr)})}),ne.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;ye.isDocumentKey(u)||(u=u.child(""));const h=new qt(new ye(u),0);let m=new Mt(Me);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ne.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new qt(n,0),o=this.Zr.firstAfterOrEqual(i);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.ri=e,this.docs=function(){return new ht(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ne.resolve(i?i.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let i=Ai();return n.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=Ai();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||AO(SO(v),i)<=0||(o.has(v.key)||gd(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new WN(this)}getSize(e){return ne.resolve(this.size)}}class WN extends HN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.persistence=e,this.si=new Oa(n=>vy(n),_y),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Ry,this.targetCount=0,this.ai=Ko.ur()}forEachTarget(e,n){return this.si.forEach((i,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ne.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ne.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ne.resolve(i)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.ui={},this.overlays={},this.ci=new fd(0),this.li=!1,this.li=!0,this.hi=new QN,this.referenceDelegate=e(this),this.Pi=new ZN(this),this.indexManager=new VN,this.remoteDocumentCache=function(o){return new XN(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new PN(n),this.Ii=new $N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new YN(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const o=new JN(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ne.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class JN extends CO{constructor(e){super(),this.currentSequenceNumber=e}}class Cy{constructor(e){this.persistence=e,this.Ri=new Ry,this.Vi=null}static mi(e){return new Cy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ne.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,i=>{const o=ye.fromPath(i);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vf{constructor(e,n){this.persistence=e,this.pi=new Oa(i=>DO(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=qN(this,n)}static mi(e,n){return new Vf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(i,o)=>this.br(e,i,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,n).next(m=>{m||(i++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nf(e.data.value)),n}br(e,n,i){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Iy(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Qx()?8:IO(on())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.ys(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,n,o,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ek;return this.Ss(e,n,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)})}).next(()=>u.result)}bs(e,n,i,o){return i.documentReadCount<this.fs?(xo()<=Pe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(xo()<=Pe.DEBUG&&de("QueryEngine","Query:",Do(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(xo()<=Pe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):ne.resolve())}ys(e,n){if(qb(n))return ne.resolve(null);let i=Dr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ng(n,null,"F"),i=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=Ve(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Ng(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,i,o){return qb(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,i).next(u=>{const h=this.Ds(n,u);return this.Cs(n,h,i,o)?ne.resolve(null):(xo()<=Pe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(n)),this.vs(e,h,n,TO(o,qu)).next(m=>m))})}Ds(e,n){let i=new Mt(S2(e));return n.forEach((o,u)=>{gd(e,u)&&(i=i.add(u))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,i){return xo()<=Pe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Do(n)),this.ps.getDocumentsMatchingQuery(e,n,bs.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",nk=3e8;class rk{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Me),this.xs=new Oa(u=>vy(u),_y),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function ik(t,e,n,i){return new rk(t,e,n,i)}async function Q2(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function sk(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const b=g.batch,S=b.keys();let D=ne.resolve();return S.forEach(V=>{D=D.next(()=>v.getEntry(p,V)).next(q=>{const U=g.docVersions.get(V);Ke(U!==null,48541),q.version.compareTo(U)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function Y2(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ak(t,e){const n=Ce(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((v,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,b).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,b)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,i)),o=o.insert(b,D),function(q,U,$){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=nk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,D,v)&&m.push(n.Pi.updateTargetData(u,D))});let p=Ai(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(ok(u,h,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!i.isEqual(Re.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(v)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function ok(t,e,n){let i=Ve(),o=Ve();return n.forEach(u=>i=i.add(u)),e.getEntries(t,i).next(u=>{let h=Ai();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(xy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function lk(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=gy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function uk(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Pi.getTargetData(i,e).next(u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(i).next(h=>(o=new fs(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Lg(t,e,n){const i=Ce(t),o=i.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!il(h))throw h;de(xy,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function tE(t,e,n){const i=Ce(t);let o=Re.min(),u=Ve();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=Ce(p),S=b.xs.get(v);return S!==void 0?ne.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,v)}(i,h,Dr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(h,e,n?o:Re.min(),n?u:Ve())).next(m=>(ck(i,YO(e),m),{documents:m,Qs:u})))}function ck(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),t.Os.set(e,i)}class nE{constructor(){this.activeTargetIds=tN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hk{constructor(){this.Mo=new nE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="ConnectivityMonitor";class iE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(rE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(rE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function Ug(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Df?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,u){const h=Ug(),m=this.zo(e,n.toUriEncodedString());de(ig,`Sending RPC '${e}' ${h}:`,m,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=el(g);return this.Jo(e,m,p,i,v).then(b=>(de(ig,`Received RPC '${e}' ${h}: `,b),b),b=>{throw Ho(ig,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",i),b})}Ho(e,n,i,o,u,h){return this.Go(e,n,i,o,u)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const i=dk[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class gk extends mk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,u){const h=Ug();return new Promise((m,p)=>{const g=new WT;g.setWithCredentials(!0),g.listenOnce(ZT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case tf.NO_ERROR:const b=g.getResponseJson();de(rn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case tf.TIMEOUT:de(rn,`RPC '${e}' ${h} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const S=g.getStatus();if(de(rn,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D?.error;if(V&&V.status&&V.message){const q=function($){const se=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(se)>=0?se:ee.UNKNOWN}(V.status);p(new he(q,V.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(rn,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);de(rn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,i,15)})}T_(e,n,i){const o=Ug(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=t2(),m=e2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=u.join("");de(rn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);this.I_(b);let S=!1,D=!1;const V=new pk({Yo:U=>{D?de(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(de(rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),de(rn,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),q=(U,$,se)=>{U.listen($,X=>{try{se(X)}catch(ae){setTimeout(()=>{throw ae},0)}})};return q(b,Cu.EventType.OPEN,()=>{D||(de(rn,`RPC '${e}' stream ${o} transport opened.`),V.o_())}),q(b,Cu.EventType.CLOSE,()=>{D||(D=!0,de(rn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(b))}),q(b,Cu.EventType.ERROR,U=>{D||(D=!0,Ho(rn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),V.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),q(b,Cu.EventType.MESSAGE,U=>{if(!D){const $=U.data[0];Ke(!!$,16349);const se=$,X=se?.error||se[0]?.error;if(X){de(rn,`RPC '${e}' stream ${o} received error:`,X);const ae=X.status;let ie=function(A){const R=Ct[A];if(R!==void 0)return V2(R)}(ae),fe=X.message;ie===void 0&&(ie=ee.INTERNAL,fe="Unknown error status: "+ae+" with message "+X.message),D=!0,V.a_(new he(ie,fe)),b.close()}else de(rn,`RPC '${e}' stream ${o} received:`,$),V.u_($)}}),q(m,JT.STAT_EVENT,U=>{U.stat===Ag.PROXY?de(rn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Ag.NOPROXY&&de(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new _N(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="PersistentStream";class W2{constructor(e,n,i,o,u,h,m,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===n&&this.G_(i,o)},i=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(de(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yk extends W2{constructor(e,n,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TN(this.serializer,e),i=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Or(h.readTime):Re.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Vg(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Dg(p)?{documents:RN(u,p)}:{query:CN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=B2(u,h.resumeToken);const g=kg(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=Mf(u,h.snapshotVersion.toTimestamp());const g=kg(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const i=xN(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.q_(n)}}class wk extends W2{constructor(e,n,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AN(e.writeResults,e.commitTime),i=Or(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Vg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>SN(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{}class _k extends vk{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Pg(n,i),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Ho(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Pg(n,i),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ee.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class bk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class Ek{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{i.enqueueAndForget(async()=>{Na(this)&&(de(Aa,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.Ea.add(4),await ic(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bd(g)}(this))})}),this.Ra=new bk(i,o)}}async function bd(t){if(Na(t))for(const e of t.da)await e(!0)}async function ic(t){for(const e of t.da)await e(!1)}function Z2(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ky(n)?Ny(n):al(n).O_()&&Oy(n,e))}function Dy(t,e){const n=Ce(t),i=al(n);n.Ia.delete(e),i.O_()&&J2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Na(n)&&n.Ra.set("Unknown"))}function Oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).Y_(e)}function J2(t,e){t.Va.Ue(e),al(t).Z_(e)}function Ny(t){t.Va=new gN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),al(t).start(),t.Ra.ua()}function ky(t){return Na(t)&&!al(t).x_()&&t.Ia.size>0}function Na(t){return Ce(t).Ea.size===0}function eS(t){t.Va=void 0}async function Tk(t){t.Ra.set("Online")}async function Sk(t){t.Ia.forEach((e,n)=>{Oy(t,e)})}async function Ak(t,e){eS(t),ky(t)?(t.Ra.ha(e),Ny(t)):t.Ra.set("Unknown")}async function Rk(t,e,n){if(t.Ra.set("Online"),e instanceof U2&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(t,e)}catch(i){de(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lf(t,i)}else if(e instanceof af?t.Va.Ze(e):e instanceof L2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await Y2(t.localStore);n.compareTo(i)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),J2(u,p);const b=new fs(v.target,p,g,v.sequenceNumber);Oy(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(i){de(Aa,"Failed to raise snapshot:",i),await Lf(t,i)}}async function Lf(t,e,n){if(!il(e))throw e;t.Ea.add(1),await ic(t),t.Ra.set("Offline"),n||(n=()=>Y2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(Aa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bd(t)})}function tS(t,e){return e().catch(n=>Lf(t,n,e))}async function Ed(t){const e=Ce(t),n=As(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gy;for(;Ck(e);)try{const o=await lk(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,Ik(e,o)}catch(o){await Lf(e,o)}nS(e)&&rS(e)}function Ck(t){return Na(t)&&t.Ta.length<10}function Ik(t,e){t.Ta.push(e);const n=As(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nS(t){return Na(t)&&!As(t).x_()&&t.Ta.length>0}function rS(t){As(t).start()}async function xk(t){As(t).ra()}async function Dk(t){const e=As(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ok(t,e,n){const i=t.Ta.shift(),o=Ty.from(i,e,n);await tS(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Ed(t)}async function Nk(t,e){e&&As(t).X_&&await async function(i,o){if(function(h){return dN(h)&&h!==ee.ABORTED}(o.code)){const u=i.Ta.shift();As(i).B_(),await tS(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ed(i)}}(t,e),nS(t)&&rS(t)}async function aE(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),de(Aa,"RemoteStore received new credentials");const i=Na(n);n.Ea.add(3),await ic(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bd(n)}async function kk(t,e){const n=Ce(t);e?(n.Ea.delete(2),await bd(n)):e||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function al(t){return t.ma||(t.ma=function(n,i,o){const u=Ce(n);return u.sa(),new yk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(t.datastore,t.asyncQueue,{Xo:Tk.bind(null,t),t_:Sk.bind(null,t),r_:Ak.bind(null,t),H_:Rk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ky(t)?Ny(t):t.Ra.set("Unknown")):(await t.ma.stop(),eS(t))})),t.ma}function As(t){return t.fa||(t.fa=function(n,i,o){const u=Ce(n);return u.sa(),new wk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xk.bind(null,t),r_:Nk.bind(null,t),ta:Dk.bind(null,t),na:Ok.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ed(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Aa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const h=Date.now()+i,m=new Py(e,n,h,o,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(t,e){if(Si("AsyncQueue",`${e}: ${t}`),il(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=Iu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Po;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Qo{constructor(e,n,i,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Qo(e,n,Po.emptySet(n),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Mk{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ce(n),u=o.queries;o.queries=lE(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(i)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function lE(){return new Oa(t=>T2(t),pd)}async function iS(t,e){const n=Ce(t);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new Pk,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=My(h,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Vy(n)}async function sS(t,e){const n=Ce(t),i=e.query;let o=3;const u=n.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Vk(t,e){const n=Ce(t);let i=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(i=!0);h.wa=o}}i&&Vy(n)}function Lk(t,e,n){const i=Ce(t),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);i.queries.delete(e)}function Vy(t){t.Ca.forEach(e=>{e.next()})}var Bg,uE;(uE=Bg||(Bg={})).Ma="default",uE.Cache="cache";class aS{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class Uk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=S2(e),this.tu=new Po(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new oE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const S=o.get(v),D=gd(this.query,b)?b:null,V=!!S&&this.mutatedKeys.has(S.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;S&&D?S.data.isEqual(D.data)?V!==q&&(i.track({type:3,doc:D}),U=!0):this.su(S,D)||(i.track({type:2,doc:D}),U=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!S&&D?(i.track({type:0,doc:D}),U=!0):S&&!D&&(i.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(D?(h=h.add(D),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{tu:h,iu:i,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((v,b)=>function(D,V){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:U})}};return q(D)-q(V)}(v.type,b.type)||this.eu(v.doc,b.doc)),this.ou(i),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Qo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new lS(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new oS(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ly="SyncEngine";class Bk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class jk{constructor(e){this.key=e,this.hu=!1}}class zk{constructor(e,n,i,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Oa(m=>T2(m),pd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Ry,this.Vu={},this.mu=new Map,this.fu=Ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qk(t,e,n=!0){const i=mS(t);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await uS(i,e,n,!0),o}async function Hk(t,e){const n=mS(t);await uS(n,e,!0,!1)}async function uS(t,e,n,i){const o=await uk(t.localStore,Dr(e)),u=o.targetId,h=t.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await Fk(t,e,u,h==="current",o.resumeToken)),t.isPrimaryClient&&n&&Z2(t.remoteStore,o),m}async function Fk(t,e,n,i,o){t.pu=(b,S,D)=>async function(q,U,$,se){let X=U.view.ru($);X.Cs&&(X=await tE(q.localStore,U.query,!1).then(({documents:x})=>U.view.ru(x,X)));const ae=se&&se.targetChanges.get(U.targetId),ie=se&&se.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(X,q.isPrimaryClient,ae,ie);return hE(q,U.targetId,fe.au),fe.snapshot}(t,b,S,D);const u=await tE(t.localStore,e,!0),h=new Uk(e,u.Qs),m=h.ru(u.documents),p=rc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),g=h.applyChanges(m,t.isPrimaryClient,p);hE(t,n,g.au);const v=new Bk(e,n,h);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function Gk(t,e,n){const i=Ce(t),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter(h=>!pd(h,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Lg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Dy(i.remoteStore,o.targetId),jg(i,o.targetId)}).catch(rl)):(jg(i,o.targetId),await Lg(i.localStore,o.targetId,!0))}async function $k(t,e){const n=Ce(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Dy(n.remoteStore,i.targetId))}async function Kk(t,e,n){const i=eP(t);try{const o=await function(h,m){const p=Ce(h),g=at.now(),v=m.reduce((D,V)=>D.add(V.key),Ve());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let V=Ai(),q=Ve();return p.Ns.getEntries(D,v).next(U=>{V=U,V.forEach(($,se)=>{se.isValidDocument()||(q=q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,V)).next(U=>{b=U;const $=[];for(const se of m){const X=lN(se,b.get(se.key).overlayedDocument);X!=null&&$.push(new Is(se.key,X,p2(X.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,$,m)}).next(U=>{S=U;const $=U.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(D,U.batchId,$)})}).then(()=>({batchId:S.batchId,changes:R2(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(Me)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(i,o.batchId,n),await sc(i,o.changes),await Ed(i.remoteStore)}catch(o){const u=My(o,"Failed to persist write");n.reject(u)}}async function cS(t,e){const n=Ce(t);try{const i=await ak(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))}),await sc(n,i,e)}catch(i){await rl(i)}}function cE(t,e,n){const i=Ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ce(h);p.onlineState=m;let g=!1;p.queries.forEach((v,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)}),g&&Vy(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Qk(t,e,n){const i=Ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let h=new ht(ye.comparator);h=h.insert(u,an.newNoDocument(u,Re.min()));const m=Ve().add(u),p=new vd(Re.min(),new Map,new ht(Me),h,m);await cS(i,p),i.du=i.du.remove(u),i.Au.delete(e),Uy(i)}else await Lg(i.localStore,e,!1).then(()=>jg(i,e,n)).catch(rl)}async function Yk(t,e){const n=Ce(t),i=e.batch.batchId;try{const o=await sk(n.localStore,e);fS(n,i,null),hS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sc(n,o)}catch(o){await rl(o)}}async function Xk(t,e,n){const i=Ce(t);try{const o=await function(h,m){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Ke(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);fS(i,e,n),hS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await sc(i,o)}catch(o){await rl(o)}}function hS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fS(t,e,n){const i=Ce(t);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||dS(t,i)})}function dS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Uy(t))}function hE(t,e,n){for(const i of n)i instanceof oS?(t.Ru.addReference(i.key,e),Wk(t,i)):i instanceof lS?(de(Ly,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||dS(t,i.key)):Ee(19791,{wu:i})}function Wk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(de(Ly,"New document in limbo: "+n),t.Eu.add(i),Uy(t))}function Uy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(it.fromString(e)),i=t.fu.next();t.Au.set(i,new jk(n)),t.du=t.du.insert(n,i),Z2(t.remoteStore,new fs(Dr(by(n.path)),i,"TargetPurposeLimboResolution",fd.ce))}}async function sc(t,e,n){const i=Ce(t),o=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach((m,p)=>{h.push(i.pu(p,e,n).then(g=>{if((g||n)&&i.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Iy.As(p.targetId,g);u.push(v)}}))}),await Promise.all(h),i.Pu.H_(o),await async function(p,g){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(g,S=>ne.forEach(S.Es,D=>v.persistence.referenceDelegate.addReference(b,S.targetId,D)).next(()=>ne.forEach(S.ds,D=>v.persistence.referenceDelegate.removeReference(b,S.targetId,D)))))}catch(b){if(!il(b))throw b;de(xy,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const D=v.Ms.get(S),V=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(S,q)}}}(i.localStore,u))}async function Zk(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){de(Ly,"User change. New user:",e.toKey());const i=await Q2(n.localStore,e);n.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new he(ee.CANCELLED,h))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await sc(n,i.Ls)}}function Jk(t,e){const n=Ce(t),i=n.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function mS(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qk.bind(null,e),e.Pu.H_=Vk.bind(null,e.eventManager),e.Pu.yu=Lk.bind(null,e.eventManager),e}function eP(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xk.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ik(this.persistence,new tk,e.initialUser,this.serializer)}Cu(e){return new K2(Cy.mi,this.serializer)}Du(e){return new hk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class tP extends Uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Vf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new jN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new K2(i=>Vf.mi(i,n),this.serializer)}}class zg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zk.bind(null,this.syncEngine),await kk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Mk}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),i=function(u){return new gk(u)}(e.databaseInfo);return function(u,h,m,p){return new _k(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,u,h,m){return new Ek(i,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>cE(this.syncEngine,n,0),function(){return iE.v()?new iE:new fk}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,v){const b=new zk(o,u,h,m,p,g);return v&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Ce(n);de(Aa,"RemoteStore shutting down."),i.Ea.add(5),await ic(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class nP{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=py.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{de(Rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(de(Rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=My(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ag(t,e){t.asyncQueue.verifyOperationInProgress(),de(Rs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Q2(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rP(t);de(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>aE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>aE(e.remoteStore,o)),t._onlineComponents=e}async function rP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Rs,"Using user provided OfflineComponentProvider");try{await ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await ag(t,new Uf)}}else de(Rs,"Using default OfflineComponentProvider"),await ag(t,new tP(void 0));return t._offlineComponents}async function gS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Rs,"Using user provided OnlineComponentProvider"),await fE(t,t._uninitializedComponentsProvider._online)):(de(Rs,"Using default OnlineComponentProvider"),await fE(t,new zg))),t._onlineComponents}function iP(t){return gS(t).then(e=>e.syncEngine)}async function yS(t){const e=await gS(t),n=e.eventManager;return n.onListen=qk.bind(null,e.syncEngine),n.onUnlisten=Gk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$k.bind(null,e.syncEngine),n}function sP(t,e,n={}){const i=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new pS({next:S=>{v.Nu(),h.enqueueAndForget(()=>sS(u,b));const D=S.docs.has(m);!D&&S.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&p&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new aS(by(m.path),v,{includeMetadataChanges:!0,qa:!0});return iS(u,b)}(await yS(t),t.asyncQueue,e,n,i)),i.promise}function aP(t,e,n={}){const i=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new pS({next:S=>{v.Nu(),h.enqueueAndForget(()=>sS(u,b)),S.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new aS(m,v,{includeMetadataChanges:!0,qa:!0});return iS(u,b)}(await yS(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",mE=!0;class pE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=mE}else this.host=e.host,this.ssl=e.ssl??mE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fO;switch(i.type){case"firstParty":return new gO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=dE.get(n);i&&(de("ComponentProvider","Removing Datastore"),dE.delete(n),i.terminate())}(this),Promise.resolve()}}function oP(t,e,n,i={}){t=Ur(t,Td);const o=el(e),u=t._getSettings(),h={...u,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;o&&(qT(`https://${m}`),HT("Firestore",!0)),u.host!==vS&&u.host!==m&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:i};if(!Ea(p,h)&&(t._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=sn.MOCK_USER;else{g=Bx(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(b)}t._authCredentials=new dO(new r2(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class bt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(tc(n,bt._jsonSchema))return new bt(e,i||null,new ye(it.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:xt("string",bt._jsonSchemaVersion),referencePath:xt("string")};class vs extends ka{constructor(e,n,i){super(e,n,by(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ye(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Ri(t,e,...n){if(t=dn(t),i2("collection","path",e),t instanceof Td){const i=it.fromString(e,...n);return Ib(i),new vs(t,null,i)}{if(!(t instanceof bt||t instanceof vs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return Ib(i),new vs(t.firestore,null,i)}}function ac(t,e,...n){if(t=dn(t),arguments.length===1&&(e=py.newId()),i2("doc","path",e),t instanceof Td){const i=it.fromString(e,...n);return Cb(i),new bt(t,null,new ye(i))}{if(!(t instanceof bt||t instanceof vs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return Cb(i),new bt(t.firestore,t instanceof vs?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class yE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X2(this,"async_queue_retry"),this._c=()=>{const i=sg();i&&de(gE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;de(gE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",wE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Py.createAndSchedule(this,e,n,i,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ol extends Td{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new yE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function lP(t,e){const n=typeof t=="object"?t:KT(),i=typeof t=="string"?t:Df,o=dy(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=Lx("firestore");u&&oP(o,...u)}return o}function By(t){if(t._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uP(t),t._firestoreClient}function uP(t){const e=t._freezeSettings(),n=function(o,u,h,m){return new kO(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,wS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(Jt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tc(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:xt("string",Wn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(tc(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:xt("string",Nr._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tc(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:xt("string",kr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=/^__.*__$/;class hP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)}}class _S{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class zy{constructor(e,n,i,o,u,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bS(this.Ac)&&cP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fP{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_d(e)}Cc(e,n,i,o=!1){return new zy({Ac:e,methodName:n,Dc:i,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new fP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ES(t,e,n,i,o,u={}){const h=t.Cc(u.merge||u.mergeFields?2:0,e,n,o);qy("Data must be an object, but it was:",h,i);const m=TS(i,h);let p,g;if(u.merge)p=new On(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=qg(e,b,n);if(!h.contains(S))throw new he(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);AS(v,S)||v.push(S)}p=new On(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new hP(new _n(m),p,g)}class Rd extends jy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function dP(t,e,n,i){const o=t.Cc(1,e,n);qy("Data must be an object, but it was:",o,i);const u=[],h=_n.empty();Cs(i,(p,g)=>{const v=Hy(e,p,n);g=dn(g);const b=o.yc(v);if(g instanceof Rd)u.push(v);else{const S=oc(g,b);S!=null&&(u.push(v),h.set(v,S))}});const m=new On(u);return new _S(h,m,o.fieldTransforms)}function mP(t,e,n,i,o,u){const h=t.Cc(1,e,n),m=[qg(e,i,n)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(qg(e,u[S])),p.push(u[S+1]);const g=[],v=_n.empty();for(let S=m.length-1;S>=0;--S)if(!AS(g,m[S])){const D=m[S];let V=p[S];V=dn(V);const q=h.yc(D);if(V instanceof Rd)g.push(D);else{const U=oc(V,q);U!=null&&(g.push(D),v.set(D,U))}}const b=new On(g);return new _S(v,b,h.fieldTransforms)}function pP(t,e,n,i=!1){return oc(n,t.Cc(i?4:3,e))}function oc(t,e){if(SS(t=dn(t)))return qy("Unsupported field value:",e,t),TS(t,e);if(t instanceof jy)return function(i,o){if(!bS(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const u=[];let h=0;for(const m of i){let p=oc(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(t,e)}return function(i,o){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=at.fromDate(i);return{timestampValue:Mf(o.serializer,u)}}if(i instanceof at){const u=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mf(o.serializer,u)}}if(i instanceof Nr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wn)return{bytesValue:B2(o.serializer,i._byteString)};if(i instanceof bt){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ay(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof kr)return function(h,m){return{mapValue:{fields:{[d2]:{stringValue:m2},[Of]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ey(m.serializer,g)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${hd(i)}`)}(t,e)}function TS(t,e){const n={};return o2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(i,o)=>{const u=oc(o,e.mc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function SS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Nr||t instanceof Wn||t instanceof bt||t instanceof jy||t instanceof kr)}function qy(t,e,n){if(!SS(n)||!s2(n)){const i=hd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function qg(t,e,n){if((e=dn(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Hy(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const gP=new RegExp("[~\\*/\\[\\]]");function Hy(t,e,n){if(e.search(gP)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sd(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+t+p)}function AS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yP extends RS{data(){return super.data()}}function Cd(t,e){return typeof e=="string"?Hy(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fy{}class CS extends Fy{}function Gy(t,e,...n){let i=[];e instanceof Fy&&i.push(e),i=i.concat(n),function(u){const h=u.filter(p=>p instanceof $y).length,m=u.filter(p=>p instanceof Id).length;if(h>1||h>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class Id extends CS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Id(e,n,i)}_apply(e){const n=this._parse(e);return xS(e._query,n),new ka(e.firestore,e.converter,Og(e._query,n))}_parse(e){const n=Ad(e.firestore);return function(u,h,m,p,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){_E(b,v);const V=[];for(const q of b)V.push(vE(p,u,q));S={arrayValue:{values:V}}}else S=vE(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||_E(b,v),S=pP(m,h,b,v==="in"||v==="not-in");return It.create(g,v,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hg(t,e,n){const i=e,o=Cd("where",t);return Id._create(o,i,n)}class $y extends Fy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $y(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)xS(h,p),h=Og(h,p)}(e._query,n),new ka(e.firestore,e.converter,Og(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ky extends CS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ky(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $u(u,h)}(e._query,this._field,this._direction);return new ka(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new sl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function IS(t,e="asc"){const n=e,i=Cd("orderBy",t);return Ky._create(i,n)}function vE(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E2(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(it.fromString(n));if(!ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vb(t,new ye(i))}if(n instanceof bt)return Vb(t,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function _E(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xS(t,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vP{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Cs(e,(o,u)=>{i[o]=this.convertValue(u,n)}),i}convertVectorValue(e){const n=e.fields?.[Of].arrayValue?.values?.map(i=>_t(i.doubleValue));return new kr(n)}convertGeoPoint(e){return new Nr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=md(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const n=Es(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);Ke(G2(i),9688,{name:e});const o=new Fu(i.get(1),i.get(3)),u=new ye(i.popFirst(5));return o.isEqual(n)||Si(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends RS{constructor(e,n,i,o,u,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Cd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:xt("string",ya._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class of extends ya{data(e={}){return super.data(e)}}class Mo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Du(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new of(this._firestore,this._userDataWriter,i.key,i,new Du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new of(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Du(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new of(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Du(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:_P(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=py.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _P(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){t=Ur(t,bt);const e=Ur(t.firestore,ol);return sP(By(e),t._key).then(n=>TP(e,t,n))}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:xt("string",Mo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class OS extends vP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function ll(t){t=Ur(t,ka);const e=Ur(t.firestore,ol),n=By(e),i=new OS(e);return wP(t._query),aP(n,t._query).then(o=>new Mo(e,i,t,o))}function NS(t,e,n){t=Ur(t,bt);const i=Ur(t.firestore,ol),o=DS(t.converter,e);return Yy(i,[ES(Ad(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,lr.none())])}function EP(t,e,n,...i){t=Ur(t,bt);const o=Ur(t.firestore,ol),u=Ad(o);let h;return h=typeof(e=dn(e))=="string"||e instanceof Sd?mP(u,"updateDoc",t._key,e,n,i):dP(u,"updateDoc",t._key,e),Yy(o,[h.toMutation(t._key,lr.exists(!0))])}function Qy(t,e){const n=Ur(t.firestore,ol),i=ac(t),o=DS(t.converter,e);return Yy(n,[ES(Ad(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,lr.exists(!1))]).then(()=>i)}function Yy(t,e){return function(i,o){const u=new vi;return i.asyncQueue.enqueueAndForget(async()=>Kk(await iP(i),o,u)),u.promise}(By(t),e)}function TP(t,e,n){const i=n.docs.get(e._key),o=new OS(t);return new ya(t,o,e._key,i,new Du(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){nl=o})(tl),qo(new Ta("firestore",(i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new ol(new mO(i.getProvider("auth-internal")),new yO(h,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(g.options.projectId,v)}(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ys(Tb,Sb,e),ys(Tb,Sb,"esm2020")})();var SP="firebase",AP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(SP,AP,"app");function kS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RP=kS,PS=new Ju("auth","Firebase",kS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new hy("@firebase/auth");function CP(t,...e){jf.logLevel<=Pe.WARN&&jf.warn(`Auth (${tl}): ${t}`,...e)}function lf(t,...e){jf.logLevel<=Pe.ERROR&&jf.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw Xy(t,...e)}function Pr(t,...e){return Xy(t,...e)}function MS(t,e,n){const i={...RP(),[e]:n};return new Ju("auth","Firebase",i).create(e,{appName:t.name})}function wa(t){return MS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return PS.create(t,...e)}function Se(t,e,...n){if(!t)throw Xy(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function Ii(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){return typeof self<"u"&&self.location?.href||""}function IP(){return bE()==="http:"||bE()==="https:"}function bE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IP()||Gx()||"connection"in navigator)?navigator.onLine:!0}function DP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=qx()||$x()}get(){return xP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kP=new lc(3e4,6e4);function Zy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ul(t,e,n,i,o={}){return LS(t,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=ec({key:t.config.apiKey,...h}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...u};return Fx()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&el(t.emulatorConfig.host)&&(g.credentials="include"),VS.fetch()(await US(t,t.config.apiHost,n,m),g)})}async function LS(t,e,n){t._canInitEmulator=!1;const i={...OP,...e};try{const o=new MP(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Yh(t,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(t,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Yh(t,"email-already-in-use",h);if(p==="USER_DISABLED")throw Yh(t,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw MS(t,v,g);Ci(t,v)}}catch(o){if(o instanceof Di)throw o;Ci(t,"network-request-failed",{message:String(o)})}}async function PP(t,e,n,i,o={}){const u=await ul(t,e,n,i,o);return"mfaPendingCredential"in u&&Ci(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function US(t,e,n,i){const o=`${e}${n}?${i}`,u=t,h=u.config.emulator?Wy(t.config,o):`${t.config.apiScheme}://${o}`;return NP.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class MP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Pr(this.auth,"network-request-failed")),kP.get())})}}function Yh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Pr(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function zf(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LP(t,e=!1){const n=dn(t),i=await n.getIdToken(e),o=Jy(i);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:i,authTime:Lu(og(o.auth_time)),issuedAtTime:Lu(og(o.iat)),expirationTime:Lu(og(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function og(t){return Number(t)*1e3}function Jy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const o=UT(n);return o?JSON.parse(o):(lf("Failed to decode base64 JWT payload"),null)}catch(o){return lf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function EE(t){const e=Jy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Di&&UP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function UP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){const e=t.auth,n=await t.getIdToken(),i=await Yu(t,zf(e,{idToken:n}));Se(i?.users.length,e,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=o.providerUserInfo?.length?BS(o.providerUserInfo):[],h=zP(t.providerData,u),m=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!h?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Gg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function jP(t){const e=dn(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zP(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function BS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(t,e){const n=await LS(t,{},async()=>{const i=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,h=await US(t,o,"/v1/token",`key=${u}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:i};return t.emulatorConfig&&el(t.emulatorConfig.host)&&(p.credentials="include"),VS.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HP(t,e){return ul(t,"POST","/v2/accounts:revokeToken",Zy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=EE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await qP(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,h=new Vo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new BP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LP(this,e)}reload(){return jP(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Yu(this,VP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:D,providerData:V,stsTokenManager:q}=n;Se(b&&q,e,"internal-error");const U=Vo.fromJSON(this.name,q);Se(typeof b=="string",e,"internal-error"),as(i,e.name),as(o,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof D=="boolean",e,"internal-error"),as(u,e.name),as(h,e.name),as(m,e.name),as(p,e.name),as(g,e.name),as(v,e.name);const $=new or({uid:b,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:v});return V&&Array.isArray(V)&&($.providerData=V.map(se=>({...se}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,i=!1){const o=new Vo;o.updateFromServerResponse(n);const u=new or({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qf(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Vo;m.updateFromIdToken(i);const p=new or({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function gi(t){Ii(t instanceof Function,"Expected a class definition");let e=TE.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jS.type="NONE";const SE=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class Lo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=uf(this.userKey,o.apiKey,u),this.fullPersistenceKey=uf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zf(this.auth,{idToken:e}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Lo(gi(SE),e,i);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||gi(SE);const h=uf(i,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const S=await zf(e,{idToken:v}).catch(()=>{});if(!S)break;b=await or._fromGetAccountInfoResponse(e,S,v)}else b=or._fromJSON(e,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Lo(u,e,i):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Lo(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($S(e))return"Blackberry";if(KS(e))return"Webos";if(qS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(GS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function zS(t=on()){return/firefox\//i.test(t)}function qS(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(t=on()){return/crios\//i.test(t)}function FS(t=on()){return/iemobile/i.test(t)}function GS(t=on()){return/android/i.test(t)}function $S(t=on()){return/blackberry/i.test(t)}function KS(t=on()){return/webos/i.test(t)}function ew(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FP(t=on()){return ew(t)&&!!window.navigator?.standalone}function GP(){return Kx()&&document.documentMode===10}function QS(t=on()){return ew(t)||GS(t)||KS(t)||$S(t)||/windows phone/i.test(t)||FS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e=[]){let n;switch(t){case"Browser":n=AE(on());break;case"Worker":n=`${AE(on())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e={}){return ul(t,"GET","/v2/passwordPolicy",Zy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=6;class YP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new $P(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zf(this,{idToken:e}),i=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(wa(this));const n=e?dn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KP(this),n=new YP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await HP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tw(t){return dn(t)}class RE{constructor(e){this.auth=e,this.observer=null,this.addObserver=tD(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WP(t){nw=t}function ZP(t){return nw.loadJS(t)}function JP(){return nw.gapiScript}function eM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){const n=dy(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ea(u,e??{}))return o;Ci(o,"already-initialized")}return n.initialize({options:e})}function nM(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function rM(t,e,n){const i=tw(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=XS(e),{host:h,port:m}=iM(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Ea(g,i.config.emulator)&&Ea(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,el(h)?(qT(`${u}//${h}${p}`),HT("Auth",!0)):sM()}function XS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iM(t){const e=XS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:CE(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:CE(h)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return PP(t,"POST","/v1/accounts:signInWithIdp",Zy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="http://localhost";class Ra extends WS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const h=new Ra(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Uo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:aM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends ZS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends uc{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return us.credential(n,i)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends uc{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends uc{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return hs.credential(n,i)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await or._fromIdTokenResponse(e,i,o),h=IE(i);return new Yo({user:u,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=IE(i);return new Yo({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function IE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends Di{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Hf(e,n,i,o)}}function JS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hf._fromErrorAndOperation(t,u,e,i):u})}async function oM(t,e,n=!1){const i=await Yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e,n=!1){const{auth:i}=t;if(xr(i.app))return Promise.reject(wa(i));const o="reauthenticate";try{const u=await Yu(t,JS(i,o,e,t),n);Se(u.idToken,i,"internal-error");const h=Jy(u.idToken);Se(h,i,"internal-error");const{sub:m}=h;return Se(t.uid===m,i,"user-mismatch"),Yo._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ci(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e,n=!1){if(xr(t.app))return Promise.reject(wa(t));const i="signIn",o=await JS(t,i,e),u=await Yo._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(u.user),u}function cM(t,e,n,i){return dn(t).onIdTokenChanged(e,n,i)}function hM(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}const Ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=1e3,dM=10;class tA extends eA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);GP()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dM):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},fM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tA.type="LOCAL";const mM=tA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends eA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nA.type="SESSION";const rA=nA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new xd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await pM(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=rw("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function yM(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function wM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vM(){return navigator?.serviceWorker?.controller||null}function _M(){return iA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebaseLocalStorageDb",bM=1,Gf="firebaseLocalStorage",aA="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dd(t,e){return t.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function EM(){const t=indexedDB.deleteDatabase(sA);return new cc(t).toPromise()}function $g(){const t=indexedDB.open(sA,bM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Gf,{keyPath:aA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Gf)?e(i):(i.close(),await EM(),e(await $g()))})})}async function xE(t,e,n){const i=Dd(t,!0).put({[aA]:e,value:n});return new cc(i).toPromise()}async function TM(t,e){const n=Dd(t,!1).get(e),i=await new cc(n).toPromise();return i===void 0?null:i.value}function DE(t,e){const n=Dd(t,!0).delete(e);return new cc(n).toPromise()}const SM=800,AM=3;class oA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>AM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(_M()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wM(),!this.activeServiceWorker)return;this.sender=new gM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $g();return await xE(e,Ff,"1"),await DE(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>xE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>TM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dd(o,!1).getAll();return new cc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oA.type="LOCAL";const RM=oA;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){return e?gi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends WS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IM(t){return uM(t.auth,new iw(t),t.bypassAuthState)}function xM(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),lM(n,new iw(t),t.bypassAuthState)}async function DM(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),oM(n,new iw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IM;case"linkViaPopup":case"linkViaRedirect":return DM;case"reauthViaPopup":case"reauthViaRedirect":return xM;default:Ci(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new lc(2e3,1e4);class ko extends lA{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=rw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OM.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="pendingRedirect",cf=new Map;class kM extends lA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const i=await PM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PM(t,e){const n=LM(e),i=VM(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function MM(t,e){cf.set(t._key(),e)}function VM(t){return gi(t._redirectPersistence)}function LM(t){return uf(NM,t.config.apiKey,t.name)}async function UM(t,e,n=!1){if(xr(t.app))return Promise.reject(wa(t));const i=tw(t),o=CM(i,e),h=await new kM(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=600*1e3;class jM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BM&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function zM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FM=/^https?/;async function GM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qM(t);for(const n of e)try{if($M(n))return}catch{}Ci(t,"unauthorized-domain")}function $M(t){const e=Fg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const h=new URL(t);return h.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!FM.test(n))return!1;if(HM.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new lc(3e4,6e4);function NE(){const t=Mr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QM(t){return new Promise((e,n)=>{function i(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(Pr(t,"network-request-failed"))},timeout:KM.get()})}if(Mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mr().gapi?.load)i();else{const o=eM("iframefcb");return Mr()[o]=()=>{gapi.load?i():n(Pr(t,"network-request-failed"))},ZP(`${JP()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw hf=null,e})}let hf=null;function YM(t){return hf=hf||QM(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new lc(5e3,15e3),WM="__/auth/iframe",ZM="emulator/auth/iframe",JM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t4(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wy(e,ZM):`https://${t.config.authDomain}/${WM}`,i={apiKey:e.apiKey,appName:t.name,v:tl},o=e4.get(t.config.apiHost);o&&(i.eid=o);const u=t._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${ec(i).slice(1)}`}async function n4(t){const e=await YM(t),n=Mr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:t4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JM,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=Pr(t,"network-request-failed"),m=Mr().setTimeout(()=>{u(h)},XM.get());function p(){Mr().clearTimeout(m),o(i)}i.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,s4=600,a4="_blank",o4="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l4(t,e,n,i=i4,o=s4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p={...r4,width:i.toString(),height:o.toString(),top:u,left:h},g=on().toLowerCase();n&&(m=HS(g)?a4:n),zS(g)&&(e=e||o4,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[D,V])=>`${S}${D}=${V},`,"");if(FP(g)&&m!=="_self")return u4(e||"",m),new kE(null);const b=window.open(e||"",m,v);Se(b,t,"popup-blocked");try{b.focus()}catch{}return new kE(b)}function u4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="__/auth/handler",h4="emulator/auth/handler",f4=encodeURIComponent("fac");async function PE(t,e,n,i,o,u){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const h={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:tl,eventId:o};if(e instanceof ZS){e.setDefaultLanguage(t.languageCode),h.providerId=e.providerId||"",eD(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof uc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}t.tenantId&&(h.tid=t.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await t._getAppCheckToken(),g=p?`#${f4}=${encodeURIComponent(p)}`:"";return`${d4(t)}?${ec(m).slice(1)}${g}`}function d4({config:t}){return t.emulator?Wy(t,h4):`https://${t.authDomain}/${c4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="webStorageSupport";class m4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rA,this._completeRedirectFn=UM,this._overrideRedirectResult=MM}async _openPopup(e,n,i,o){Ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await PE(e,n,i,Fg(),o);return l4(e,u,rw())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await PE(e,n,i,Fg(),o);return yM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ii(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await n4(e),i=new jM(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lg,{type:lg},o=>{const u=o?.[0]?.[lg];u!==void 0&&n(!!u),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QS()||qS()||ew()}}const p4=m4;var ME="@firebase/auth",VE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(t){qo(new Ta("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YS(t)},g=new XP(i,o,u,p);return nM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qo(new Ta("auth-internal",e=>{const n=tw(e.getProvider("auth").getImmediate());return(i=>new g4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(ME,VE,y4(t)),ys(ME,VE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=300,_4=zT("authIdTokenMaxAge")||v4;let LE=null;const b4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>_4)return;const o=n?.token;LE!==o&&(LE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function E4(t=KT()){const e=dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tM(t,{popupRedirectResolver:p4,persistence:[RM,mM,rA]}),i=zT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=b4(u.toString());hM(n,h,()=>h(n.currentUser)),cM(n,m=>h(m))}}const o=BT("auth");return o&&rM(n,`http://${o}`),n}function T4(){return document.getElementsByTagName("head")?.[0]??document}WP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const u=Pr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",T4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");const S4={apiKey:"AIzaSyAB9a0tExSm5tKynAXLFbq7H-yQtlgr",authDomain:"quiz-game-73509.firebaseapp.com",projectId:"quiz-game-73509",storageBucket:"quiz-game-73509.appspot.com",messagingSenderId:"667755596195",appId:"1:667755596195:web:f7119f3a177924f595a9a"},cA=$T(S4),Pn=lP(cA);E4(cA);const A4={scores:{score:0},loading:!1,error:null},ff=Da("score/update",async({price:t,oldScore:e,id:n},i)=>{try{const o=e+t,u=ac(Pn,"users",n);return await EP(u,{score:o}),o}catch(o){return i.rejectWithValue(o.message)}}),hA=ud({name:"score",initialState:A4,reducers:{changeScore:(t,e)=>{t.scores.score=e.payload},resetScore:t=>{t.scores.score=0}},extraReducers:t=>{t.addCase(ff.pending,e=>{e.loading=!0,e.error=null}).addCase(ff.fulfilled,(e,n)=>{e.loading=!1,e.scores.score=n.payload}).addCase(ff.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{changeScore:fA,resetScore:E6}=hA.actions,R4=hA.reducer,Kg=[{title:"JavaScript",questions:[{price:100,question:"    JavaScript    ?",answer:"  ,   var, let  const."},{price:100,question:"      JavaScript?",answer:"string, number, boolean, null, undefined, symbol, bigint."},{price:100,question:"   typeof    ?",answer:"    ,  typeof 5  'number'."},{price:100,question:"  typeof null?",answer:"object (  JavaScript)."},{price:100,question:"  'use strict'  JavaScript?",answer:"  ,         ."},{price:200,question:"  let  var?",answer:"let    , var  ."},{price:200,question:"  const  let?",answer:"const  ,   ; let   ."},{price:200,question:"     ,    ?",answer:"  ;   Array.isArray(value)."},{price:200,question:"   forEach  ?",answer:"         ."},{price:200,question:"   filter  ?",answer:"    ,     ."},{price:300,question:"   (closure)  JavaScript?",answer:",     ."},{price:300,question:"   map  ?",answer:"  ,       ."},{price:300,question:"     ?",answer:"          ."},{price:300,question:"        ?",answer:"  ,    this."},{price:300,question:"      ?",answer:"    `${}`   ."},{price:400,question:"  hoisting  JavaScript?",answer:"        ."},{price:400,question:"   reduce  ?",answer:"    ,   ."},{price:400,question:"  JSON    ?",answer:"  ,    JS-."},{price:400,question:"  event loop    ?",answer:"   ,     JS."},{price:400,question:"  call stack       ?",answer:"  ,      ."},{price:500,question:"   ?",answer:",         __proto__  Object.create."},{price:500,question:"     ?",answer:"      pending, fulfilled, rejected."},{price:500,question:"  async/await   ?",answer:"        ."},{price:500,question:"   (function*)  yield?",answer:",      yield  ."},{price:500,question:"  WeakMap  WeakSet   ?",answer:",        ."}]},{title:"TypeScript",questions:[{price:100,question:"  TypeScript    ?",answer:"  JS      ."},{price:100,question:"    string?",answer:"let name: string;"},{price:100,question:"     TypeScript?",answer:"string, number, boolean, null, undefined, symbol, bigint, any, unknown, void, never."},{price:100,question:"  any    ?",answer:" ,  ;  ."},{price:100,question:"  unknown     any?",answer:"  any,     ."},{price:200,question:"  tuple    ?",answer:"     : let t: [string, number];"},{price:200,question:"  enum    ?",answer:"  ."},{price:200,question:" interface   type?",answer:"interface    , type   ,     ."},{price:200,question:"  union-?",answer:"      ."},{price:200,question:"  intersection-?",answer:"    ."},{price:300,question:"  generics    ?",answer:"      ."},{price:300,question:"  keyof    ?",answer:"      ."},{price:300,question:"  mapped types?",answer:"  : { [K in keyof T]: ... }"},{price:300,question:"  conditional types?",answer:"  T extends U ? X : Y."},{price:300,question:"  type assertion (as)   ?",answer:"     ."},{price:400,question:"  Partial  Readonly ?",answer:"     : Partial  , Readonly    ."},{price:400,question:"  type narrowing?",answer:"    (typeof, instanceof,   null  ..)."},{price:400,question:"  never   ?",answer:"  ,     (   )."},{price:400,question:"  void   ?",answer:" ,   ."},{price:400,question:"   ambient-?",answer:" .d.ts     ."},{price:500,question:"  infer   ?",answer:"       ."},{price:500,question:"  utility types    ?",answer:"Partial, Pick, Omit, Readonly, Record       ."},{price:500,question:"  template literal types?",answer:",    ,  type T = `${string}-${number}`;"},{price:500,question:"  declaration merging?",answer:"     ,  ."},{price:500,question:"  type guards?",answer:"  ,    ."}]},{title:"React",questions:[{price:100,question:"    React?",answer:"  ,  JSX."},{price:100,question:"  JSX?",answer:"   UI   HTML- ."},{price:100,question:"  props?",answer:"  ."},{price:100,question:"  state?",answer:" ,   ."},{price:100,question:"  ReactDOM.render?",answer:"    DOM."},{price:200,question:"  useState    ?",answer:"       ."},{price:200,question:"  useEffect   ?",answer:"   ,    ."},{price:200,question:"  controlled component?",answer:",    state  props."},{price:200,question:"  uncontrolled component?",answer:",     DOM,    state."},{price:200,question:"  key     ?",answer:"     ."},{price:300,question:"  lifting state up?",answer:"         ."},{price:300,question:"  React.memo?",answer:"HOC    ,   ."},{price:300,question:"  useCallback?",answer:"   ."},{price:300,question:"  useMemo?",answer:"   ."},{price:300,question:"  useRef   ?",answer:"      ."},{price:400,question:"  context API    ?",answer:"       ."},{price:400,question:"  virtual DOM   ?",answer:" DOM      UI."},{price:400,question:"  reconciliation?",answer:" React   virtual DOM   DOM."},{price:400,question:"  Suspense  lazy-loading?",answer:"    ."},{price:400,question:"  server-side rendering (SSR)?",answer:" React     ."},{price:500,question:"  HOC    ?",answer:",        ."},{price:500,question:"  render props?",answer:"      ."},{price:500,question:"  React Fiber?",answer:" React     ."},{price:500,question:"  portals?",answer:"     DOM- ."},{price:500,question:"  error boundaries?",answer:",         ."}]},{title:"Redux",questions:[{price:100,question:"  Redux?",answer:"    ."},{price:100,question:"  action   ?",answer:"   type,   ."},{price:100,question:"  reducer?",answer:",      action."},{price:100,question:"  store?",answer:"   ."},{price:100,question:"  dispatch?",answer:" action  store   ."},{price:200,question:"  middleware?",answer:",  dispatch     ."},{price:200,question:"  combineReducers?",answer:"    ."},{price:200,question:"  subscribe  Redux?",answer:"     store."},{price:200,question:"  selector?",answer:"      store."},{price:200,question:"  pure function      ?",answer:"   ;       ."},{price:300,question:"  immutability      Redux?",answer:" ;     ."},{price:300,question:"  DevTools  Redux?",answer:"     ."},{price:300,question:"  bindActionCreators?",answer:" action creators  dispatch   ."},{price:300,question:"  thunk?",answer:"Middleware     ."},{price:300,question:"  saga?",answer:"Middleware      ."},{price:400,question:"  normalize state?",answer:"       ."},{price:400,question:"  reselect   ?",answer:"   ."},{price:400,question:"  optimistic update?",answer:"  UI   ."},{price:400,question:"   Redux  Context API?",answer:"Redux ,  DevTools  middleware, Context API    ."},{price:400,question:"  Flux      Redux?",answer:"     ,    Redux."},{price:500,question:"  Redux ?",answer:"MobX, Zustand, Recoil, Jotai."},{price:500,question:"  middleware listener?",answer:"    store   ."},{price:500,question:"  optimistic concurrency  Redux?",answer:"       ."},{price:500,question:"  batch update?",answer:"      ."},{price:500,question:"  hydration  Redux?",answer:"      ."}]},{title:"RTK",questions:[{price:100,question:"  Redux Toolkit (RTK)?",answer:"       Redux."},{price:100,question:"  configureStore?",answer:" store    middleware  devtools."},{price:100,question:"  createSlice?",answer:"     action creators   ."},{price:100,question:"  createAsyncThunk?",answer:"        pending/fulfilled/rejected."},{price:100,question:"  getDefaultMiddleware?",answer:"  middleware    RTK."},{price:200,question:"  RTK Query?",answer:"       Redux."},{price:200,question:"  endpoint  RTK Query?",answer:"        (query/mutation)."},{price:200,question:"  mutation  RTK Query?",answer:"     ."},{price:200,question:"  query  RTK Query?",answer:"     ."},{price:200,question:"  providesTags  invalidatesTags?",answer:"     ."},{price:300,question:"  cache invalidation?",answer:"    ."},{price:300,question:"  polling  RTK Query?",answer:"    ."},{price:300,question:"  lazy query?",answer:",      ."},{price:300,question:"  middleware listener  RTK?",answer:"     store."},{price:300,question:"  matchers  RTK?",answer:"   action  ."},{price:400,question:" RTK    Redux?",answer:" ,   ,  Immer."},{price:400,question:"  optimistic update  RTK Query?",answer:"     ."},{price:400,question:"  transformResponse?",answer:"       store."},{price:400,question:"  keepUnusedDataFor?",answer:"      ."},{price:400,question:"  refetchOnMount?",answer:"      ."},{price:500,question:"  optimistic concurrency  RTK?",answer:"       ."},{price:500,question:"  invalidationTags    ?",answer:"     ."},{price:500,question:"  createEntityAdapter?",answer:"      store."},{price:500,question:"  prefetch  RTK Query?",answer:"      ."},{price:500,question:"  enhancedReducers?",answer:"   ,  undo/redo."}]}],C4={topics:[],selectedIndexByTitleAndPrice:{},answeredStatusByTitleAndPrice:{}},Qg=Da("topics/fetchTopics",async()=>{const t=await ll(Ri(Pn,"topics")),e=[];return t.forEach(n=>{const i=n.data();e.push({title:i.title,questions:i.questions})}),e}),I4=Da("topics/seedTopics",async()=>{const t=Kg.map(e=>NS(ac(Pn,"topics",e.title),e));await Promise.all(t)}),dA=ud({name:"topics",initialState:C4,reducers:{initializeBoard(t,e){const n=e.payload??t.topics,i=[100,200,300,400,500],o={};n.forEach(u=>{const h={};u.questions.forEach((m,p)=>{h[m.price]||(h[m.price]=[]),h[m.price].push(p)}),o[u.title]={},i.forEach(m=>{const p=h[m]||[];if(p.length>0){const g=Math.floor(Math.random()*p.length);o[u.title][m]=p[g]}})}),t.selectedIndexByTitleAndPrice=o,t.answeredStatusByTitleAndPrice={}},markAnswered(t,e){const{title:n,price:i,result:o}=e.payload;t.answeredStatusByTitleAndPrice[n]||(t.answeredStatusByTitleAndPrice[n]={}),t.answeredStatusByTitleAndPrice[n][i]=o}},extraReducers:t=>{t.addCase(Qg.fulfilled,(e,{payload:n})=>{e.topics=n})}}),{initializeBoard:UE,markAnswered:x4}=dA.actions,D4=dA.reducer,O4={items:[],loading:!1,error:null},df=Da("answers/add",async({userId:t,answer:e},n)=>{try{await Qy(Ri(Pn,"answersHistory"),{userId:t,...e})}catch(i){return n.rejectWithValue(i.message)}}),mf=Da("answers/fetch",async({userId:t},e)=>{try{const n=Gy(Ri(Pn,"answersHistory"),Hg("userId","==",t),IS("answeredAt","desc"));return(await ll(n)).docs.map(o=>o.data())}catch(n){return e.rejectWithValue(n.message)}}),N4=ud({name:"answers",initialState:O4,reducers:{},extraReducers:t=>{t.addCase(mf.pending,e=>{e.loading=!0,e.error=null}).addCase(mf.fulfilled,(e,n)=>{e.loading=!1,e.items=n.payload}).addCase(mf.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(df.pending,e=>{e.loading=!0,e.error=null}).addCase(df.fulfilled,e=>{e.loading=!1}).addCase(df.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),k4=N4.reducer,P4=({title:t,price:e,question:n,answer:i,onClose:o})=>{const[u,h]=K.useState(!1),[m,p]=K.useState(!1),g=xa(),v=Lr(q=>q.userLayer.id),b=Lr(q=>q.score.scores.score);K.useEffect(()=>{const q=U=>{U.key==="Escape"&&o()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[o]);const S=q=>{q.target===q.currentTarget&&o()};function D(q){if(!v){alert("      ");return}g(ff({price:q,oldScore:b,id:v}))}async function V(q){m||(p(!0),g(x4({title:t,price:e,result:q})),v&&g(df({userId:v,answer:{title:t,price:e,question:n,result:q,answeredAt:Date.now()}})),D(q==="correct"?e:-e),p(!1),o())}return H.jsx("div",{className:"modal-backdrop",onClick:S,role:"dialog","aria-modal":"true","aria-labelledby":"q-title",children:H.jsxs("div",{className:"modal-card animate-fade-in-up",children:[H.jsx("h1",{id:"q-title",className:"font-display text-3xl mb-2 text-white",children:t}),H.jsxs("h2",{className:"text-amber-300 mb-4",children:[e," scores"]}),H.jsx("p",{className:"text-lg mb-6",children:n}),u?H.jsxs("div",{className:"space-y-5",children:[H.jsx("p",{className:"mt-1 text-xl text-green-300",children:i}),H.jsx("div",{className:"flex items-center justify-center w-full opacity-80",children:"User answered correctly?"}),H.jsxs("div",{className:"flex justify-center gap-3",children:[H.jsx("button",{className:"btn-yellow disabled:opacity-60",disabled:m,onClick:()=>V("correct"),children:"YES"}),H.jsx("button",{className:"btn-ghost disabled:opacity-60",disabled:m,onClick:()=>V("wrong"),children:"NO"})]})]}):H.jsx("button",{onClick:()=>h(!0),className:"btn-yellow",children:"Show answer"})]})})},BE=()=>{const t=Lr(e=>e.score.scores.score);return H.jsx("div",{className:"header-chip",children:H.jsxs("div",{className:"flex items-baseline gap-2",children:[H.jsx("span",{className:"opacity-80",children:"Score"}),H.jsx("span",{className:"text-2xl font-extrabold text-yellow-300",children:t})]})})},M4={id:null,login:null,score:0,loading:!1,error:null},pf=Da("userData/save",async({login:t,password:e},n)=>{try{return{id:(await Qy(Ri(Pn,"users"),{login:t,password:e,score:0})).id,login:t,password:e,score:0}}catch(i){return n.rejectWithValue(i.message)}}),gf=Da("userData/checkExist",async({login:t,password:e},n)=>{try{const i=Gy(Ri(Pn,"users"),Hg("login","==",t),Hg("password","==",e)),o=await ll(i);if(o.empty)throw new Error("User not found or wrong password");const u=o.docs[0],h=u.data();return{id:u.id,login:h.login,password:h.password,score:h.score}}catch(i){return n.rejectWithValue(i.message)}}),mA=ud({name:"userData",initialState:M4,reducers:{changeId:(t,e)=>{t.id=e.payload},changeLogin:(t,e)=>{t.login=e.payload},changeScore:(t,e)=>{t.score=e.payload},logout:t=>{t.id=null,t.login=null,t.score=0,t.error=null,localStorage.removeItem("userId")}},extraReducers:t=>{t.addCase(pf.pending,e=>{e.loading=!0,e.error=null}).addCase(pf.fulfilled,(e,n)=>{e.loading=!1,e.id=n.payload.id,e.login=n.payload.login,e.score=0,localStorage.setItem("userId",n.payload.id)}).addCase(pf.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(gf.pending,e=>{e.loading=!0,e.error=null}).addCase(gf.fulfilled,(e,n)=>{e.loading=!1,e.id=n.payload.id,e.login=n.payload.login,e.score=n.payload.score,localStorage.setItem("userId",n.payload.id)}).addCase(gf.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{changeId:V4,changeLogin:L4,changeScore:T6,logout:S6}=mA.actions,U4=mA.reducer;var Au={},Xh={},Wh={},jE;function B4(){if(jE)return Wh;jE=1,Wh.__esModule=!0,Wh.default=o;function t(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(u)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function i(u){if((typeof self>"u"?"undefined":t(self))!=="object"||!(u in self))return!1;try{var h=self[u],m="redux-persist ".concat(u," test");h.setItem(m,"test"),h.getItem(m),h.removeItem(m)}catch{return!1}return!0}function o(u){var h="".concat(u,"Storage");return i(h)?self[h]:n}return Wh}var zE;function j4(){if(zE)return Xh;zE=1,Xh.__esModule=!0,Xh.default=n;var t=e(B4());function e(i){return i&&i.__esModule?i:{default:i}}function n(i){var o=(0,t.default)(i);return{getItem:function(h){return new Promise(function(m,p){m(o.getItem(h))})},setItem:function(h,m){return new Promise(function(p,g){p(o.setItem(h,m))})},removeItem:function(h){return new Promise(function(m,p){m(o.removeItem(h))})}}}return Xh}var qE;function z4(){if(qE)return Au;qE=1,Au.__esModule=!0,Au.default=void 0;var t=e(j4());function e(i){return i&&i.__esModule?i:{default:i}}var n=(0,t.default)("local");return Au.default=n,Au}var q4=z4();const H4=LR(q4);var sw="persist:",aw="persist/FLUSH",Od="persist/REHYDRATE",ow="persist/PAUSE",lw="persist/PERSIST",uw="persist/PURGE",cw="persist/REGISTER",F4=-1;function yf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yf=function(n){return typeof n}:yf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yf(t)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function G4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(n,!0).forEach(function(i){$4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K4(t,e,n,i){i.debug;var o=G4({},n);return t&&yf(t)==="object"&&Object.keys(t).forEach(function(u){u!=="_persist"&&e[u]===n[u]&&(o[u]=t[u])}),o}function Q4(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],o=t.throttle||0,u="".concat(t.keyPrefix!==void 0?t.keyPrefix:sw).concat(t.key),h=t.storage,m;t.serialize===!1?m=function(ie){return ie}:typeof t.serialize=="function"?m=t.serialize:m=Y4;var p=t.writeFailHandler||null,g={},v={},b=[],S=null,D=null,V=function(ie){Object.keys(ie).forEach(function(fe){$(fe)&&g[fe]!==ie[fe]&&b.indexOf(fe)===-1&&b.push(fe)}),Object.keys(g).forEach(function(fe){ie[fe]===void 0&&$(fe)&&b.indexOf(fe)===-1&&g[fe]!==void 0&&b.push(fe)}),S===null&&(S=setInterval(q,o)),g=ie};function q(){if(b.length===0){S&&clearInterval(S),S=null;return}var ae=b.shift(),ie=i.reduce(function(fe,x){return x.in(fe,ae,g)},g[ae]);if(ie!==void 0)try{v[ae]=m(ie)}catch(fe){console.error("redux-persist/createPersistoid: error serializing state",fe)}else delete v[ae];b.length===0&&U()}function U(){Object.keys(v).forEach(function(ae){g[ae]===void 0&&delete v[ae]}),D=h.setItem(u,m(v)).catch(se)}function $(ae){return!(n&&n.indexOf(ae)===-1&&ae!=="_persist"||e&&e.indexOf(ae)!==-1)}function se(ae){p&&p(ae)}var X=function(){for(;b.length!==0;)q();return D||Promise.resolve()};return{update:V,flush:X}}function Y4(t){return JSON.stringify(t)}function X4(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:sw).concat(t.key),i=t.storage;t.debug;var o;return t.deserialize===!1?o=function(h){return h}:typeof t.deserialize=="function"?o=t.deserialize:o=W4,i.getItem(n).then(function(u){if(u)try{var h={},m=o(u);return Object.keys(m).forEach(function(p){h[p]=e.reduceRight(function(g,v){return v.out(g,p,m)},o(m[p]))}),h}catch(p){throw p}else return})}function W4(t){return JSON.parse(t)}function Z4(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:sw).concat(t.key);return e.removeItem(n,J4)}function J4(t){}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(n,!0).forEach(function(i){eV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tV(t,e){if(t==null)return{};var n=nV(t,e),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(o=0;o<u.length;o++)i=u[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function nV(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,u;for(u=0;u<i.length;u++)o=i[u],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var rV=5e3;function iV(t,e){var n=t.version!==void 0?t.version:F4;t.debug;var i=t.stateReconciler===void 0?K4:t.stateReconciler,o=t.getStoredState||X4,u=t.timeout!==void 0?t.timeout:rV,h=null,m=!1,p=!0,g=function(b){return b._persist.rehydrated&&h&&!p&&h.update(b),b};return function(v,b){var S=v||{},D=S._persist,V=tV(S,["_persist"]),q=V;if(b.type===lw){var U=!1,$=function(A,R){U||(b.rehydrate(t.key,A,R),U=!0)};if(u&&setTimeout(function(){!U&&$(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},u),p=!1,h||(h=Q4(t)),D)return mi({},e(q,b),{_persist:D});if(typeof b.rehydrate!="function"||typeof b.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return b.register(t.key),o(t).then(function(x){var A=t.migrate||function(R,k){return Promise.resolve(R)};A(x,n).then(function(R){$(R)},function(R){$(void 0,R)})},function(x){$(void 0,x)}),mi({},e(q,b),{_persist:{version:n,rehydrated:!1}})}else{if(b.type===uw)return m=!0,b.result(Z4(t)),mi({},e(q,b),{_persist:D});if(b.type===aw)return b.result(h&&h.flush()),mi({},e(q,b),{_persist:D});if(b.type===ow)p=!0;else if(b.type===Od){if(m)return mi({},q,{_persist:mi({},D,{rehydrated:!0})});if(b.key===t.key){var se=e(q,b),X=b.payload,ae=i!==!1&&X!==void 0?i(X,v,se,t):se,ie=mi({},ae,{_persist:mi({},D,{rehydrated:!0})});return g(ie)}}}if(!D)return e(v,b);var fe=e(q,b);return fe===q?v:g(mi({},fe,{_persist:D}))}}function GE(t){return oV(t)||aV(t)||sV()}function sV(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function aV(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function oV(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(n,!0).forEach(function(i){lV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function lV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pA={registry:[],bootstrapped:!1},uV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pA,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case cw:return Yg({},e,{registry:[].concat(GE(e.registry),[n.key])});case Od:var i=e.registry.indexOf(n.key),o=GE(e.registry);return o.splice(i,1),Yg({},e,{registry:o,bootstrapped:o.length===0});default:return e}};function cV(t,e,n){var i=ly(uV,pA,void 0),o=function(p){i.dispatch({type:cw,key:p})},u=function(p,g,v){var b={type:Od,payload:g,err:v,key:p};t.dispatch(b),i.dispatch(b)},h=Yg({},i,{purge:function(){var p=[];return t.dispatch({type:uw,result:function(v){p.push(v)}}),Promise.all(p)},flush:function(){var p=[];return t.dispatch({type:aw,result:function(v){p.push(v)}}),Promise.all(p)},pause:function(){t.dispatch({type:ow})},persist:function(){t.dispatch({type:lw,register:o,rehydrate:u})}});return h.persist(),h}const hV=()=>({type:"LOGOUT"}),fV=AT({userLayer:U4,score:R4,topics:D4,answers:k4}),dV=(t,e)=>(e.type==="LOGOUT"&&(t=void 0),fV(t,e)),mV={key:"root",storage:H4,whitelist:["userLayer","score","topics","answers"]},pV=iV(mV,dV),gA=ux({reducer:pV,middleware:t=>t({serializableCheck:{ignoredActions:[aw,Od,ow,lw,uw,cw]}})}),gV=cV(gA),yA=()=>{const t=Lr(h=>h.userLayer.user.login),e=!t||t==="Guest",n=rd(),i=xa(),o=()=>{localStorage.removeItem("userId"),i(hV()),n("/login")},u=()=>{n("/login")};return H.jsxs("div",{className:"flex items-center gap-4 text-yellow-400 text-right",children:[H.jsxs("div",{children:[H.jsx("div",{className:"text-sm",children:"Nickname:"}),H.jsx("div",{className:"text-lg font-bold",children:t||"Guest"})]}),e?H.jsx("button",{onClick:u,className:"btn-yellow py-1 px-3",children:"Go to Login Page"}):H.jsx("button",{onClick:o,className:"btn-yellow py-1 px-3",children:"Logout"})]})};function yV({open:t,onClose:e,hasUser:n}){return K.useEffect(()=>{if(!t)return;const i=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=i}},[t]),t?mI.createPortal(H.jsxs("div",{className:"fixed inset-0 z-[100]",role:"dialog","aria-modal":"true",children:[H.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:e,"aria-hidden":!0}),H.jsxs("div",{className:`absolute inset-x-0 bottom-0 w-full max-w-md mx-auto mb-2\r
          bg-white/5 border border-white/10 backdrop-blur-md rounded-t-2xl\r
          shadow-[0_20px_60px_rgba(0,0,0,.6)] p-4 pb-6`,children:[H.jsx("div",{className:"mx-auto h-1.5 w-12 rounded-full bg-white/25 mb-4"}),H.jsxs("div",{className:"flex flex-col gap-3",children:[n&&H.jsx(ar,{to:"/history",className:"btn-yellow w-full text-center",onClick:e,children:" History"}),H.jsx(ar,{to:"/leaderboard",className:"btn-yellow w-full text-center",onClick:e,children:" Leaderboard"}),H.jsx("div",{className:"w-full",children:H.jsx(yA,{})}),H.jsx("button",{className:"btn-ghost w-full",onClick:e,children:"Close"})]})]})]}),document.body):null}const wV=()=>{const t=Lr(i=>i.userLayer.id),[e,n]=K.useState(!1);return K.useEffect(()=>{const i=o=>o.key==="Escape"&&n(!1);return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),H.jsxs("div",{className:"sticky top-0 z-40 w-full bg-gradient-to-b from-[#0c0f2f]/80 to-transparent backdrop-blur-sm",children:[H.jsxs("div",{className:"w-full max-w-6xl mx-auto px-3 sm:px-4 pt-3",children:[H.jsxs("div",{className:"hidden md:grid grid-cols-3 items-center gap-3 mb-4",children:[H.jsx("div",{className:"justify-self-start",children:H.jsx(BE,{})}),H.jsx("h1",{className:"justify-self-center font-display text-4xl title-gradient",children:"Own Game"}),H.jsxs("div",{className:"justify-self-end flex items-center gap-3",children:[t&&H.jsx(ar,{to:"/history",className:"btn-yellow py-1 px-3",children:" History"}),H.jsx(ar,{to:"/leaderboard",className:"btn-yellow py-1 px-3",children:" Leaderboard"}),H.jsx(yA,{})]})]}),H.jsxs("div",{className:"md:hidden bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl shadow-[0_10px_30px_rgba(0,0,0,.45)] px-4 py-3 mb-4",children:[H.jsx("h1",{className:"font-display text-3xl title-gradient text-center mb-3",children:"Own Game"}),H.jsxs("div",{className:"flex items-center justify-between gap-2",children:[H.jsx(BE,{}),H.jsx("button",{className:"btn-yellow py-1 px-3 text-sm",onClick:()=>n(!0),"aria-haspopup":"dialog","aria-expanded":e,children:"Menu"})]})]})]}),H.jsx(yV,{open:e,onClose:()=>n(!1),hasUser:!!t})]})},vV=()=>{const[t,e]=K.useState(null),n=()=>{e(null)},i=xa(),o=Lr(u=>u.topics.topics);return K.useEffect(()=>{i(Qg()).then(u=>{Array.isArray(u.payload)&&u.payload.length===0?i(I4()).then(()=>i(Qg())).then(h=>{Array.isArray(h.payload)&&i(UE(h.payload))}):Array.isArray(u.payload)&&i(UE(u.payload))})},[i]),H.jsxs("div",{className:"w-full",children:[H.jsx(wV,{}),H.jsxs("div",{className:"game",children:[!t&&H.jsx(UI,{topics:o,onQuestionClick:e}),t&&H.jsx(P4,{title:t.title,price:t.price,question:t.question,answer:t.answer,onClose:n})]})]})};/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function wA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function _V(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KE(t,e){return t.get(wA(t,e))}function bV(t,e,n){_V(t,e),e.set(t,n)}function EV(t,e,n){return t.set(wA(t,e),n),n}const TV=100,ve={},SV=()=>{ve.previousActiveElement instanceof HTMLElement?(ve.previousActiveElement.focus(),ve.previousActiveElement=null):document.body&&document.body.focus()},AV=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;ve.restoreFocusTimeout=setTimeout(()=>{SV(),e()},TV),window.scrollTo(n,i)}),vA="swal2-",RV=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=RV.reduce((t,e)=>(t[e]=vA+e,t),{}),CV=["success","warning","info","question","error"],$f=CV.reduce((t,e)=>(t[e]=vA+e,t),{}),_A="SweetAlert2:",hw=t=>t.charAt(0).toUpperCase()+t.slice(1),mn=t=>{console.warn(`${_A} ${typeof t=="object"?t.join(" "):t}`)},Pa=t=>{console.error(`${_A} ${t}`)},QE=[],IV=t=>{QE.includes(t)||(QE.push(t),mn(t))},bA=(t,e=null)=>{IV(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Nd=t=>typeof t=="function"?t():t,fw=t=>t&&typeof t.toPromise=="function",hc=t=>fw(t)?t.toPromise():Promise.resolve(t),dw=t=>t&&Promise.resolve(t)===t,pn=()=>document.body.querySelector(`.${Y.container}`),fc=t=>{const e=pn();return e?e.querySelector(t):null},Vn=t=>fc(`.${t}`),qe=()=>Vn(Y.popup),cl=()=>Vn(Y.icon),xV=()=>Vn(Y["icon-content"]),EA=()=>Vn(Y.title),mw=()=>Vn(Y["html-container"]),TA=()=>Vn(Y.image),pw=()=>Vn(Y["progress-steps"]),kd=()=>Vn(Y["validation-message"]),jr=()=>fc(`.${Y.actions} .${Y.confirm}`),hl=()=>fc(`.${Y.actions} .${Y.cancel}`),Ma=()=>fc(`.${Y.actions} .${Y.deny}`),DV=()=>Vn(Y["input-label"]),fl=()=>fc(`.${Y.loader}`),dc=()=>Vn(Y.actions),SA=()=>Vn(Y.footer),Pd=()=>Vn(Y["timer-progress-bar"]),gw=()=>Vn(Y.close),OV=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,yw=()=>{const t=qe();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((u,h)=>{const m=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(h.getAttribute("tabindex")||"0");return m>p?1:m<p?-1:0}),i=t.querySelectorAll(OV),o=Array.from(i).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(u=>bn(u))},ww=()=>_i(document.body,Y.shown)&&!_i(document.body,Y["toast-shown"])&&!_i(document.body,Y["no-backdrop"]),Md=()=>{const t=qe();return t?_i(t,Y.toast):!1},NV=()=>{const t=qe();return t?t.hasAttribute("data-loading"):!1},Ln=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{t.appendChild(h)});const u=i.querySelector("body");u&&Array.from(u.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?t.appendChild(h.cloneNode(!0)):t.appendChild(h)})}},_i=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},kV=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Y).includes(n)&&!Object.values($f).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Mn=(t,e,n)=>{if(kV(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){mn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}Ge(t,i)}},Vd=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return t.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return t.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||t.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return t.querySelector(`.${Y.popup} > .${Y.range} input`);default:return t.querySelector(`.${Y.popup} > .${Y.input}`)}},AA=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},RA=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(i):o.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},Ge=(t,e)=>{RA(t,e,!0)},Zn=(t,e)=>{RA(t,e,!1)},ds=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const o=n[i];if(o instanceof HTMLElement&&_i(o,e))return o}},va=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Ht=(t,e="flex")=>{t&&(t.style.display=e)},ln=t=>{t&&(t.style.display="none")},vw=(t,e="block")=>{t&&new MutationObserver(()=>{mc(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},YE=(t,e,n,i)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,i)},mc=(t,e,n="flex")=>{e?Ht(t,n):ln(t)},bn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),PV=()=>!bn(jr())&&!bn(Ma())&&!bn(hl()),Xg=t=>t.scrollHeight>t.clientHeight,MV=(t,e)=>{let n=t;for(;n&&n!==e;){if(Xg(n))return!0;n=n.parentElement}return!1},CA=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},_w=(t,e=!1)=>{const n=Pd();n&&bn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},VV=()=>{const t=Pd();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},LV=()=>typeof window>"u"||typeof document>"u",UV=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),BV=()=>{const t=pn();return t?(t.remove(),Zn([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},fa=()=>{ve.currentInstance.resetValidationMessage()},jV=()=>{const t=qe(),e=ds(t,Y.input),n=ds(t,Y.file),i=t.querySelector(`.${Y.range} input`),o=t.querySelector(`.${Y.range} output`),u=ds(t,Y.select),h=t.querySelector(`.${Y.checkbox} input`),m=ds(t,Y.textarea);e.oninput=fa,n.onchange=fa,u.onchange=fa,h.onchange=fa,m.oninput=fa,i.oninput=()=>{fa(),o.value=i.value},i.onchange=()=>{fa(),o.value=i.value}},zV=t=>typeof t=="string"?document.querySelector(t):t,qV=t=>{const e=qe();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},HV=t=>{window.getComputedStyle(t).direction==="rtl"&&Ge(pn(),Y.rtl)},FV=t=>{const e=BV();if(LV()){Pa("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Y.container,e&&Ge(n,Y["no-transition"]),Ln(n,UV),n.dataset.swal2Theme=t.theme;const i=zV(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),qV(t),HV(i),jV()},bw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?GV(t,e):t&&Ln(e,t)},GV=(t,e)=>{t.jquery?$V(e,t):Ln(e,t.toString())},$V=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},KV=(t,e)=>{const n=dc(),i=fl();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ln(n):Ht(n),Mn(n,e,"actions"),QV(n,i,e),Ln(i,e.loaderHtml||""),Mn(i,e,"loader"))};function QV(t,e,n){const i=jr(),o=Ma(),u=hl();!i||!o||!u||(cg(i,"confirm",n),cg(o,"deny",n),cg(u,"cancel",n),YV(i,o,u,n),n.reverseButtons&&(n.toast?(t.insertBefore(u,i),t.insertBefore(o,i)):(t.insertBefore(u,e),t.insertBefore(o,e),t.insertBefore(i,e))))}function YV(t,e,n,i){if(!i.buttonsStyling){Zn([t,e,n],Y.styled);return}Ge([t,e,n],Y.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),ug(t),ug(e),ug(n)}function ug(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function cg(t,e,n){const i=hw(e);mc(t,n[`show${i}Button`],"inline-block"),Ln(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Y[e],Mn(t,n,`${e}Button`)}const XV=(t,e)=>{const n=gw();n&&(Ln(n,e.closeButtonHtml||""),Mn(n,e,"closeButton"),mc(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},WV=(t,e)=>{const n=pn();n&&(ZV(n,e.backdrop),JV(n,e.position),e3(n,e.grow),Mn(n,e,"container"))};function ZV(t,e){typeof e=="string"?t.style.background=e:e||Ge([document.documentElement,document.body],Y["no-backdrop"])}function JV(t,e){e&&(e in Y?Ge(t,Y[e]):(mn('The "position" parameter is not valid, defaulting to "center"'),Ge(t,Y.center)))}function e3(t,e){e&&Ge(t,Y[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const t3=["input","file","range","select","radio","checkbox","textarea"],n3=(t,e)=>{const n=qe();if(!n)return;const i=st.innerParams.get(t),o=!i||e.input!==i.input;t3.forEach(u=>{const h=ds(n,Y[u]);h&&(s3(u,e.inputAttributes),h.className=Y[u],o&&ln(h))}),e.input&&(o&&r3(e),a3(e))},r3=t=>{if(!t.input)return;if(!vt[t.input]){Pa(`Unexpected type of input! Expected ${Object.keys(vt).join(" | ")}, got "${t.input}"`);return}const e=IA(t.input);if(!e)return;const n=vt[t.input](e,t);Ht(e),t.inputAutoFocus&&setTimeout(()=>{AA(n)})},i3=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},s3=(t,e)=>{const n=qe();if(!n)return;const i=Vd(n,t);if(i){i3(i);for(const o in e)i.setAttribute(o,e[o])}},a3=t=>{if(!t.input)return;const e=IA(t.input);e&&Mn(e,t,"input")},Ew=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},pc=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),o=Y["input-label"];i.setAttribute("for",t.id),i.className=o,typeof n.customClass=="object"&&Ge(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},IA=t=>{const e=qe();if(e)return ds(e,Y[t]||Y.input)},Kf=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:dw(e)||mn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=(t,e)=>(Kf(t,e.inputValue),pc(t,t,e),Ew(t,e),t.type=e.input,t);vt.file=(t,e)=>(pc(t,t,e),Ew(t,e),t);vt.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return Kf(n,e.inputValue),n.type=e.input,Kf(i,e.inputValue),pc(n,t,e),t};vt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Ln(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return pc(t,t,e),t};vt.radio=t=>(t.textContent="",t);vt.checkbox=(t,e)=>{const n=Vd(qe(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return Ln(i,e.inputPlaceholder||e.inputLabel),n};vt.textarea=(t,e)=>{Kf(t,e.inputValue),Ew(t,e),pc(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(qe()).width),o=()=>{if(!document.body.contains(t))return;const u=t.offsetWidth+n(t);u>i?qe().style.width=`${u}px`:va(qe(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const o3=(t,e)=>{const n=mw();n&&(vw(n),Mn(n,e,"htmlContainer"),e.html?(bw(e.html,n),Ht(n,"block")):e.text?(n.textContent=e.text,Ht(n,"block")):ln(n),n3(t,e))},l3=(t,e)=>{const n=SA();n&&(vw(n),mc(n,e.footer,"block"),e.footer&&bw(e.footer,n),Mn(n,e,"footer"))},u3=(t,e)=>{const n=st.innerParams.get(t),i=cl();if(!i)return;if(n&&e.icon===n.icon){WE(i,e),XE(i,e);return}if(!e.icon&&!e.iconHtml){ln(i);return}if(e.icon&&Object.keys($f).indexOf(e.icon)===-1){Pa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ln(i);return}Ht(i),WE(i,e),XE(i,e),Ge(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",xA)},XE=(t,e)=>{for(const[n,i]of Object.entries($f))e.icon!==n&&Zn(t,i);Ge(t,e.icon&&$f[e.icon]),f3(t,e),xA(),Mn(t,e,"icon")},xA=()=>{const t=qe();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},c3=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,h3=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,WE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=ZE(e.iconHtml):e.icon==="success"?(i=c3(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=h3:e.icon&&(i=ZE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Ln(t,i)},f3=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])YE(t,n,"background-color",e.iconColor);YE(t,".swal2-success-ring","border-color",e.iconColor)}},ZE=t=>`<div class="${Y["icon-content"]}">${t}</div>`,d3=(t,e)=>{const n=TA();if(n){if(!e.imageUrl){ln(n);return}Ht(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),va(n,"width",e.imageWidth),va(n,"height",e.imageHeight),n.className=Y.image,Mn(n,e,"image")}};let Tw=!1,DA=0,OA=0,NA=0,kA=0;const m3=t=>{t.addEventListener("mousedown",Qf),document.body.addEventListener("mousemove",Yf),t.addEventListener("mouseup",Xf),t.addEventListener("touchstart",Qf),document.body.addEventListener("touchmove",Yf),t.addEventListener("touchend",Xf)},p3=t=>{t.removeEventListener("mousedown",Qf),document.body.removeEventListener("mousemove",Yf),t.removeEventListener("mouseup",Xf),t.removeEventListener("touchstart",Qf),document.body.removeEventListener("touchmove",Yf),t.removeEventListener("touchend",Xf)},Qf=t=>{const e=qe();if(t.target===e||cl().contains(t.target)){Tw=!0;const n=PA(t);DA=n.clientX,OA=n.clientY,NA=parseInt(e.style.insetInlineStart)||0,kA=parseInt(e.style.insetBlockStart)||0,Ge(e,"swal2-dragging")}},Yf=t=>{const e=qe();if(Tw){let{clientX:n,clientY:i}=PA(t);e.style.insetInlineStart=`${NA+(n-DA)}px`,e.style.insetBlockStart=`${kA+(i-OA)}px`}},Xf=()=>{const t=qe();Tw=!1,Zn(t,"swal2-dragging")},PA=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},g3=(t,e)=>{const n=pn(),i=qe();if(!(!n||!i)){if(e.toast){va(n,"width",e.width),i.style.width="100%";const o=fl();o&&i.insertBefore(o,cl())}else va(i,"width",e.width);va(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),ln(kd()),y3(i,e),e.draggable&&!e.toast?(Ge(i,Y.draggable),m3(i)):(Zn(i,Y.draggable),p3(i))}},y3=(t,e)=>{const n=e.showClass||{};t.className=`${Y.popup} ${bn(t)?n.popup:""}`,e.toast?(Ge([document.documentElement,document.body],Y["toast-shown"]),Ge(t,Y.toast)):Ge(t,Y.modal),Mn(t,e,"popup"),typeof e.customClass=="string"&&Ge(t,e.customClass),e.icon&&Ge(t,Y[`icon-${e.icon}`])},w3=(t,e)=>{const n=pw();if(!n)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){ln(n);return}Ht(n),n.textContent="",o>=i.length&&mn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((u,h)=>{const m=v3(u);if(n.appendChild(m),h===o&&Ge(m,Y["active-progress-step"]),h!==i.length-1){const p=_3(e);n.appendChild(p)}})},v3=t=>{const e=document.createElement("li");return Ge(e,Y["progress-step"]),Ln(e,t),e},_3=t=>{const e=document.createElement("li");return Ge(e,Y["progress-step-line"]),t.progressStepsDistance&&va(e,"width",t.progressStepsDistance),e},b3=(t,e)=>{const n=EA();n&&(vw(n),mc(n,e.title||e.titleText,"block"),e.title&&bw(e.title,n),e.titleText&&(n.innerText=e.titleText),Mn(n,e,"title"))},MA=(t,e)=>{g3(t,e),WV(t,e),w3(t,e),u3(t,e),d3(t,e),b3(t,e),XV(t,e),o3(t,e),KV(t,e),l3(t,e);const n=qe();typeof e.didRender=="function"&&n&&e.didRender(n),ve.eventEmitter.emit("didRender",n)},E3=()=>bn(qe()),VA=()=>{var t;return(t=jr())===null||t===void 0?void 0:t.click()},T3=()=>{var t;return(t=Ma())===null||t===void 0?void 0:t.click()},S3=()=>{var t;return(t=hl())===null||t===void 0?void 0:t.click()},dl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),LA=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},A3=(t,e,n)=>{LA(t),e.toast||(t.keydownHandler=i=>C3(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:qe(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Wg=(t,e)=>{var n;const i=yw();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=qe())===null||n===void 0||n.focus()},UA=["ArrowRight","ArrowDown"],R3=["ArrowLeft","ArrowUp"],C3=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?I3(e,t):e.key==="Tab"?x3(e):[...UA,...R3].includes(e.key)?D3(e.key):e.key==="Escape"&&O3(e,t,n)))},I3=(t,e)=>{if(!Nd(e.allowEnterKey))return;const n=Vd(qe(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;VA(),t.preventDefault()}},x3=t=>{const e=t.target,n=yw();let i=-1;for(let o=0;o<n.length;o++)if(e===n[o]){i=o;break}t.shiftKey?Wg(i,-1):Wg(i,1),t.stopPropagation(),t.preventDefault()},D3=t=>{const e=dc(),n=jr(),i=Ma(),o=hl();if(!e||!n||!i||!o)return;const u=[n,i,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const h=UA.includes(t)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let p=0;p<e.children.length;p++){if(m=m[h],!m)return;if(m instanceof HTMLButtonElement&&bn(m))break}m instanceof HTMLButtonElement&&m.focus()}},O3=(t,e,n)=>{t.preventDefault(),Nd(e.allowEscapeKey)&&n(dl.esc)};var Xo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const N3=()=>{const t=pn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},BA=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},jA=typeof window<"u"&&!!window.GestureEvent,k3=()=>{if(jA&&!_i(document.body,Y.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Ge(document.body,Y.iosfix),P3()}},P3=()=>{const t=pn();if(!t)return;let e;t.ontouchstart=n=>{e=M3(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},M3=t=>{const e=t.target,n=pn(),i=mw();return!n||!i||V3(t)||L3(t)?!1:e===n||!Xg(n)&&e instanceof HTMLElement&&!MV(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Xg(i)&&i.contains(e))},V3=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",L3=t=>t.touches&&t.touches.length>1,U3=()=>{if(_i(document.body,Y.iosfix)){const t=parseInt(document.body.style.top,10);Zn(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},B3=()=>{const t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Bo=null;const j3=t=>{Bo===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Bo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bo+B3()}px`)},z3=()=>{Bo!==null&&(document.body.style.paddingRight=`${Bo}px`,Bo=null)};function zA(t,e,n,i){Md()?JE(t,i):(AV(n).then(()=>JE(t,i)),LA(ve)),jA?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ww()&&(z3(),U3(),BA()),q3()}function q3(){Zn([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function ms(t){t=F3(t);const e=Xo.swalPromiseResolve.get(this),n=H3(this);this.isAwaitingPromise?t.isDismissed||(gc(this),e(t)):n&&e(t)}const H3=t=>{const e=qe();if(!e)return!1;const n=st.innerParams.get(t);if(!n||_i(e,n.hideClass.popup))return!1;Zn(e,n.showClass.popup),Ge(e,n.hideClass.popup);const i=pn();return Zn(i,n.showClass.backdrop),Ge(i,n.hideClass.backdrop),G3(t,e,n),!0};function qA(t){const e=Xo.swalPromiseReject.get(this);gc(this),e&&e(t)}const gc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,st.innerParams.get(t)||t._destroy())},F3=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),G3=(t,e,n)=>{var i;const o=pn(),u=CA(e);typeof n.willClose=="function"&&n.willClose(e),(i=ve.eventEmitter)===null||i===void 0||i.emit("willClose",e),u?$3(t,e,o,n.returnFocus,n.didClose):zA(t,o,n.returnFocus,n.didClose)},$3=(t,e,n,i,o)=>{ve.swalCloseEventFinishedCallback=zA.bind(null,t,n,i,o);const u=function(h){if(h.target===e){var m;(m=ve.swalCloseEventFinishedCallback)===null||m===void 0||m.call(ve),delete ve.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},JE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ve.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Wo=t=>{let e=qe();if(e||new ga,e=qe(),!e)return;const n=fl();Md()?ln(cl()):K3(e,t),Ht(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},K3=(t,e)=>{const n=dc(),i=fl();!n||!i||(!e&&bn(jr())&&(e=jr()),Ht(n),e&&(ln(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),Ge([t,n],Y.loading))},Q3=(t,e)=>{e.input==="select"||e.input==="radio"?J3(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(fw(e.inputValue)||dw(e.inputValue))&&(Wo(jr()),eL(t,e))},Y3=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return X3(n);case"radio":return W3(n);case"file":return Z3(n);default:return e.inputAutoTrim?n.value.trim():n.value}},X3=t=>t.checked?1:0,W3=t=>t.checked?t.value:null,Z3=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,J3=(t,e)=>{const n=qe();if(!n)return;const i=o=>{e.input==="select"?tL(n,Wf(o),e):e.input==="radio"&&nL(n,Wf(o),e)};fw(e.inputOptions)||dw(e.inputOptions)?(Wo(jr()),hc(e.inputOptions).then(o=>{t.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):Pa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},eL=(t,e)=>{const n=t.getInput();n&&(ln(n),hc(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Ht(n),n.focus(),t.hideLoading()}).catch(i=>{Pa(`Error in inputValue promise: ${i}`),n.value="",Ht(n),n.focus(),t.hideLoading()}))};function tL(t,e,n){const i=ds(t,Y.select);if(!i)return;const o=(u,h,m)=>{const p=document.createElement("option");p.value=m,Ln(p,h),p.selected=HA(m,n.inputValue),u.appendChild(p)};e.forEach(u=>{const h=u[0],m=u[1];if(Array.isArray(m)){const p=document.createElement("optgroup");p.label=h,p.disabled=!1,i.appendChild(p),m.forEach(g=>o(p,g[1],g[0]))}else o(i,m,h)}),i.focus()}function nL(t,e,n){const i=ds(t,Y.radio);if(!i)return;e.forEach(u=>{const h=u[0],m=u[1],p=document.createElement("input"),g=document.createElement("label");p.type="radio",p.name=Y.radio,p.value=h,HA(h,n.inputValue)&&(p.checked=!0);const v=document.createElement("span");Ln(v,m),v.className=Y.label,g.appendChild(p),g.appendChild(v),i.appendChild(g)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const Wf=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let o=n;typeof o=="object"&&(o=Wf(o)),e.push([i,o])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=Wf(i)),e.push([n,i])}),e},HA=(t,e)=>!!e&&e.toString()===t.toString(),rL=t=>{const e=st.innerParams.get(t);t.disableButtons(),e.input?FA(t,"confirm"):Aw(t,!0)},iL=t=>{const e=st.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?FA(t,"deny"):Sw(t,!1)},sL=(t,e)=>{t.disableButtons(),e(dl.cancel)},FA=(t,e)=>{const n=st.innerParams.get(t);if(!n.input){Pa(`The "input" parameter is needed to be set when using returnInputValueOn${hw(e)}`);return}const i=t.getInput(),o=Y3(t,n);n.inputValidator?aL(t,o,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?Sw(t,o):Aw(t,o)},aL=(t,e,n)=>{const i=st.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>hc(i.inputValidator(e,i.validationMessage))).then(u=>{t.enableButtons(),t.enableInput(),u?t.showValidationMessage(u):n==="deny"?Sw(t,e):Aw(t,e)})},Sw=(t,e)=>{const n=st.innerParams.get(t||void 0);n.showLoaderOnDeny&&Wo(Ma()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>hc(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),gc(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>GA(t||void 0,o))):t.close({isDenied:!0,value:e})},eT=(t,e)=>{t.close({isConfirmed:!0,value:e})},GA=(t,e)=>{t.rejectPromise(e)},Aw=(t,e)=>{const n=st.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Wo(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>hc(n.preConfirm(e,n.validationMessage))).then(o=>{bn(kd())||o===!1?(t.hideLoading(),gc(t)):eT(t,typeof o>"u"?e:o)}).catch(o=>GA(t||void 0,o))):eT(t,e)};function Zf(){const t=st.innerParams.get(this);if(!t)return;const e=st.domCache.get(this);ln(e.loader),Md()?t.icon&&Ht(cl()):oL(e),Zn([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const oL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Ht(e[0],"inline-block"):PV()&&ln(t.actions)};function $A(){const t=st.innerParams.get(this),e=st.domCache.get(this);return e?Vd(e.popup,t.input):null}function KA(t,e,n){const i=st.domCache.get(t);e.forEach(o=>{i[o].disabled=n})}function QA(t,e){const n=qe();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${Y.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else t.disabled=e}function YA(){KA(this,["confirmButton","denyButton","cancelButton"],!1)}function XA(){KA(this,["confirmButton","denyButton","cancelButton"],!0)}function WA(){QA(this.getInput(),!1)}function ZA(){QA(this.getInput(),!0)}function JA(t){const e=st.domCache.get(this),n=st.innerParams.get(this);Ln(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&Ge(e.validationMessage,n.customClass.validationMessage),Ht(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",Y["validation-message"]),AA(i),Ge(i,Y.inputerror))}function e1(){const t=st.domCache.get(this);t.validationMessage&&ln(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Zn(e,Y.inputerror))}const jo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},lL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],uL={allowEnterKey:void 0},cL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],t1=t=>Object.prototype.hasOwnProperty.call(jo,t),n1=t=>lL.indexOf(t)!==-1,r1=t=>uL[t],hL=t=>{t1(t)||mn(`Unknown parameter "${t}"`)},fL=t=>{cL.includes(t)&&mn(`The parameter "${t}" is incompatible with toasts`)},dL=t=>{const e=r1(t);e&&bA(t,e)},i1=t=>{t.backdrop===!1&&t.allowOutsideClick&&mn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&mn(`Invalid theme "${t.theme}"`);for(const e in t)hL(e),t.toast&&fL(e),dL(e)};function s1(t){const e=pn(),n=qe(),i=st.innerParams.get(this);if(!n||_i(n,i.hideClass.popup)){mn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=mL(t),u=Object.assign({},i,o);i1(u),e.dataset.swal2Theme=u.theme,MA(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const mL=t=>{const e={};return Object.keys(t).forEach(n=>{n1(n)?e[n]=t[n]:mn(`Invalid parameter to update: ${n}`)}),e};function a1(){const t=st.domCache.get(this),e=st.innerParams.get(this);if(!e){o1(this);return}t.popup&&ve.swalCloseEventFinishedCallback&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ve.eventEmitter.emit("didDestroy"),pL(this)}const pL=t=>{o1(t),delete t.params,delete ve.keydownHandler,delete ve.keydownTarget,delete ve.currentInstance},o1=t=>{t.isAwaitingPromise?(hg(st,t),t.isAwaitingPromise=!0):(hg(Xo,t),hg(st,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},hg=(t,e)=>{for(const n in t)t[n].delete(e)};var gL=Object.freeze({__proto__:null,_destroy:a1,close:ms,closeModal:ms,closePopup:ms,closeToast:ms,disableButtons:XA,disableInput:ZA,disableLoading:Zf,enableButtons:YA,enableInput:WA,getInput:$A,handleAwaitingPromise:gc,hideLoading:Zf,rejectPromise:qA,resetValidationMessage:e1,showValidationMessage:JA,update:s1});const yL=(t,e,n)=>{t.toast?wL(t,e,n):(_L(e),bL(e),EL(t,e,n))},wL=(t,e,n)=>{e.popup.onclick=()=>{t&&(vL(t)||t.timer||t.input)||n(dl.close)}},vL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Jf=!1;const _L=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Jf=!0)}}},bL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Jf=!0)}}},EL=(t,e,n)=>{e.container.onclick=i=>{if(Jf){Jf=!1;return}i.target===e.container&&Nd(t.allowOutsideClick)&&n(dl.backdrop)}},TL=t=>typeof t=="object"&&t.jquery,tT=t=>t instanceof Element||TL(t),SL=t=>{const e={};return typeof t[0]=="object"&&!tT(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const o=t[i];typeof o=="string"||tT(o)?e[n]=o:o!==void 0&&Pa(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function AL(...t){return new this(...t)}function RL(t){class e extends this{_main(i,o){return super._main(i,Object.assign({},t,o))}}return e}const CL=()=>ve.timeout&&ve.timeout.getTimerLeft(),l1=()=>{if(ve.timeout)return VV(),ve.timeout.stop()},u1=()=>{if(ve.timeout){const t=ve.timeout.start();return _w(t),t}},IL=()=>{const t=ve.timeout;return t&&(t.running?l1():u1())},xL=t=>{if(ve.timeout){const e=ve.timeout.increase(t);return _w(e,!0),e}},DL=()=>!!(ve.timeout&&ve.timeout.isRunning());let nT=!1;const Zg={};function OL(t="data-swal-template"){Zg[t]=this,nT||(document.body.addEventListener("click",NL),nT=!0)}const NL=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Zg){const i=e.getAttribute(n);if(i){Zg[n].fire({template:i});return}}};class kL{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){const i=(...o)=>{this.removeListener(e,i),n.apply(this,o)};this.on(e,i)}emit(e,...n){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),o=i.indexOf(n);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ve.eventEmitter=new kL;const PL=(t,e)=>{ve.eventEmitter.on(t,e)},ML=(t,e)=>{ve.eventEmitter.once(t,e)},VL=(t,e)=>{if(!t){ve.eventEmitter.reset();return}e?ve.eventEmitter.removeListener(t,e):ve.eventEmitter.removeAllListeners(t)};var LL=Object.freeze({__proto__:null,argsToParams:SL,bindClickHandler:OL,clickCancel:S3,clickConfirm:VA,clickDeny:T3,enableLoading:Wo,fire:AL,getActions:dc,getCancelButton:hl,getCloseButton:gw,getConfirmButton:jr,getContainer:pn,getDenyButton:Ma,getFocusableElements:yw,getFooter:SA,getHtmlContainer:mw,getIcon:cl,getIconContent:xV,getImage:TA,getInputLabel:DV,getLoader:fl,getPopup:qe,getProgressSteps:pw,getTimerLeft:CL,getTimerProgressBar:Pd,getTitle:EA,getValidationMessage:kd,increaseTimer:xL,isDeprecatedParameter:r1,isLoading:NV,isTimerRunning:DL,isUpdatableParameter:n1,isValidParameter:t1,isVisible:E3,mixin:RL,off:VL,on:PL,once:ML,resumeTimer:u1,showLoading:Wo,stopTimer:l1,toggleTimer:IL});class UL{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const c1=["swal-title","swal-html","swal-footer"],BL=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return KL(n),Object.assign(jL(n),zL(n),qL(n),HL(n),FL(n),GL(n),$L(n,c1))},jL=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Ca(i,["name","value"]);const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(typeof jo[o]=="boolean"?e[o]=u!=="false":typeof jo[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},zL=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},qL=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Ca(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${hw(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},HL=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ca(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},FL=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ca(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},GL=t=>{const e={},n=t.querySelector("swal-input");n&&(Ca(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Ca(o,["value"]);const u=o.getAttribute("value");if(!u)return;const h=o.innerHTML;e.inputOptions[u]=h})),e},$L=(t,e)=>{const n={};for(const i in e){const o=e[i],u=t.querySelector(o);u&&(Ca(u,[]),n[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return n},KL=t=>{const e=c1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||mn(`Unrecognized element <${i}>`)})},Ca=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&mn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},h1=10,QL=t=>{const e=pn(),n=qe();typeof t.willOpen=="function"&&t.willOpen(n),ve.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;WL(e,n,t),setTimeout(()=>{YL(e,n)},h1),ww()&&(XL(e,t.scrollbarPadding,o),N3()),!Md()&&!ve.previousActiveElement&&(ve.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ve.eventEmitter.emit("didOpen",n),Zn(e,Y["no-transition"])},ed=t=>{const e=qe();if(t.target!==e)return;const n=pn();e.removeEventListener("animationend",ed),e.removeEventListener("transitionend",ed),n.style.overflowY="auto"},YL=(t,e)=>{CA(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",ed),e.addEventListener("transitionend",ed)):t.style.overflowY="auto"},XL=(t,e,n)=>{k3(),e&&n!=="hidden"&&j3(n),setTimeout(()=>{t.scrollTop=0})},WL=(t,e,n)=>{Ge(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Ht(e,"grid"),setTimeout(()=>{Ge(e,n.showClass.popup),e.style.removeProperty("opacity")},h1)):Ht(e,"grid"),Ge([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ge([document.documentElement,document.body],Y["height-auto"])};var rT={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function ZL(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=rT.email),t.input==="url"&&(t.inputValidator=rT.url))}function JL(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(mn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function e6(t){ZL(t),t.showLoaderOnConfirm&&!t.preConfirm&&mn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),JL(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),FV(t)}let Ir;var Zh=new WeakMap;class Et{constructor(...e){if(bV(this,Zh,void 0),typeof window>"u")return;Ir=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,EV(Zh,this,this._main(Ir.params))}_main(e,n={}){if(i1(Object.assign({},n,e)),ve.currentInstance){const u=Xo.swalPromiseResolve.get(ve.currentInstance),{isAwaitingPromise:h}=ve.currentInstance;ve.currentInstance._destroy(),h||u({isDismissed:!0}),ww()&&BA()}ve.currentInstance=Ir;const i=n6(e,n);e6(i),Object.freeze(i),ve.timeout&&(ve.timeout.stop(),delete ve.timeout),clearTimeout(ve.restoreFocusTimeout);const o=r6(Ir);return MA(Ir,i),st.innerParams.set(Ir,i),t6(Ir,o,i)}then(e){return KE(Zh,this).then(e)}finally(e){return KE(Zh,this).finally(e)}}const t6=(t,e,n)=>new Promise((i,o)=>{const u=h=>{t.close({isDismissed:!0,dismiss:h})};Xo.swalPromiseResolve.set(t,i),Xo.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{rL(t)},e.denyButton.onclick=()=>{iL(t)},e.cancelButton.onclick=()=>{sL(t,u)},e.closeButton.onclick=()=>{u(dl.close)},yL(n,e,u),A3(ve,n,u),Q3(t,n),QL(n),i6(ve,n,u),s6(e,n),setTimeout(()=>{e.container.scrollTop=0})}),n6=(t,e)=>{const n=BL(t),i=Object.assign({},jo,e,n,t);return i.showClass=Object.assign({},jo.showClass,i.showClass),i.hideClass=Object.assign({},jo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},r6=t=>{const e={popup:qe(),container:pn(),actions:dc(),confirmButton:jr(),denyButton:Ma(),cancelButton:hl(),loader:fl(),closeButton:gw(),validationMessage:kd(),progressSteps:pw()};return st.domCache.set(t,e),e},i6=(t,e,n)=>{const i=Pd();ln(i),e.timer&&(t.timeout=new UL(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Ht(i),Mn(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&_w(e.timer)})))},s6=(t,e)=>{if(!e.toast){if(!Nd(e.allowEnterKey)){bA("allowEnterKey"),l6();return}a6(t)||o6(t,e)||Wg(-1,1)}},a6=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&bn(n))return n.focus(),!0;return!1},o6=(t,e)=>e.focusDeny&&bn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&bn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&bn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,l6=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Et.prototype.disableButtons=XA;Et.prototype.enableButtons=YA;Et.prototype.getInput=$A;Et.prototype.disableInput=ZA;Et.prototype.enableInput=WA;Et.prototype.hideLoading=Zf;Et.prototype.disableLoading=Zf;Et.prototype.showValidationMessage=JA;Et.prototype.resetValidationMessage=e1;Et.prototype.close=ms;Et.prototype.closePopup=ms;Et.prototype.closeModal=ms;Et.prototype.closeToast=ms;Et.prototype.rejectPromise=qA;Et.prototype.update=s1;Et.prototype._destroy=a1;Object.assign(Et,LL);Object.keys(gL).forEach(t=>{Et[t]=function(...e){return Ir&&Ir[t]?Ir[t](...e):null}});Et.DismissReason=dl;Et.version="11.23.0";const ga=Et;ga.default=ga;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const iT=()=>{const t=xa(),e=rd(),n=K.useRef(null),i=K.useRef(null),o=async()=>{const h=n.current.value.trim(),m=i.current.value.trim();if(!h||!m){ga.fire({icon:"warning",title:"  !",confirmButtonText:"",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#facc15"});return}try{const p=await t(gf({login:h,password:m})).unwrap();typeof p?.score=="number"&&(t(fA(p.score)),ga.fire({icon:"success",title:" !",text:` , ${h}!`,confirmButtonText:"",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#22c55e"}).then(()=>{e("/game")}))}catch{ga.fire({icon:"error",title:" ",text:"   ",confirmButtonText:" ",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#ef4444"})}},u=()=>{ga.fire({icon:"info",title:" ",text:"   .   .",confirmButtonText:"",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#3b82f6"}).then(()=>{e("/game")})};return H.jsx("div",{className:"game-shell flex flex-col items-center gap-6",children:H.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[H.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Sign in"}),H.jsxs("label",{className:"block mb-4",children:[H.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),H.jsx("input",{id:"login-input",className:"input-glass",type:"text",ref:n,placeholder:"Your nickname"})]}),H.jsxs("label",{className:"block mb-6",children:[H.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),H.jsx("input",{id:"password-input",className:"input-glass",type:"password",ref:i,placeholder:""})]}),H.jsxs("div",{className:"flex flex-col gap-3",children:[H.jsx("button",{className:"btn-yellow",onClick:o,children:"Sign in"}),H.jsx("button",{className:"btn-ghost",onClick:u,children:"Sign in as a guest"}),H.jsx(ar,{to:"/register",className:"btn-ghost text-center",children:"Go to registration"})]})]})})},u6=()=>{const t=xa(),e=rd(),n=K.useRef(null),i=K.useRef(null),o=async()=>{const u=n.current.value.trim(),h=i.current.value.trim();if(!u||!h){alert("Please fill in all fields");return}try{await t(pf({login:u,password:h})).unwrap(),e("/game")}catch(m){console.error("Registration failed:",m),alert("Registration failed: "+m)}};return H.jsx("div",{className:"game-shell flex flex-col items-center justify-center gap-6",children:H.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[H.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Registration"}),H.jsxs("label",{className:"block mb-4",children:[H.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),H.jsx("input",{className:"input-glass",type:"text",ref:n,placeholder:"Your nickname"})]}),H.jsxs("label",{className:"block mb-6",children:[H.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),H.jsx("input",{className:"input-glass",type:"password",ref:i,placeholder:""})]}),H.jsxs("div",{className:"flex flex-col gap-3",children:[H.jsx("button",{className:"btn-yellow",onClick:o,children:"Register"}),H.jsx(ar,{to:"/login",className:"btn-ghost text-center",children:"Go to Login"})]})]})})};async function c6(){try{const t=localStorage.getItem("topics_migrated_v1"),e=await ll(Ri(Pn,"topics"));if(e.empty){const n=Kg.map(i=>NS(ac(Pn,"topics",i.title),i));return await Promise.all(n),localStorage.setItem("topics_migrated_v1","true"),{seeded:!0,count:Kg.length}}return t||localStorage.setItem("topics_migrated_v1","true"),{seeded:!1,count:e.size}}catch(t){return console.error("Topics migration failed",t),{seeded:!1,count:0}}}const h6=()=>{const t=xa(),e=Lr(u=>u.userLayer.id),{items:n,loading:i,error:o}=Lr(u=>u.answers);return K.useEffect(()=>{e&&t(mf({userId:e}))},[t,e]),e?i?H.jsx("div",{className:"p-6 text-center",children:"Loading history..."}):o?H.jsx("div",{className:"p-6 text-center text-red-500",children:o}):H.jsxs("div",{className:"p-6 w-full max-w-2xl",children:[H.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Answers History"}),n.length===0?H.jsx("p",{className:"text-center text-gray-400",children:"No answers yet."}):H.jsx("ul",{className:"space-y-3",children:n.map((u,h)=>H.jsxs("li",{className:`p-3 rounded-lg ${u.result==="correct"?"bg-green-700":"bg-red-700"}`,children:[H.jsx("div",{className:"font-semibold",children:u.title}),H.jsx("div",{className:"text-sm opacity-80",children:u.question}),H.jsxs("div",{className:"text-sm",children:["Result:"," ",H.jsx("span",{className:"font-bold",children:u.result==="correct"?" Correct":" Wrong"})]}),H.jsx("div",{className:"text-xs opacity-70",children:new Date(u.answeredAt).toLocaleString()})]},h))})]}):H.jsx("div",{className:"p-6 text-center text-red-400",children:"Please log in to see your answers history"})},f6=()=>{const[t,e]=K.useState([]),[n,i]=K.useState(!0);return K.useEffect(()=>{(async()=>{try{const u=Gy(Ri(Pn,"users"),IS("score","desc")),m=(await ll(u)).docs.map(p=>({id:p.id,login:p.data().login,score:p.data().score??0}));e(m)}catch(u){console.error("Error loading leaderboard:",u)}finally{i(!1)}})()},[]),n?H.jsx("div",{className:"text-center text-yellow-300 mt-10",children:"Loading leaderboard..."}):H.jsxs("div",{className:"w-full max-w-4xl mx-auto px-3",children:[H.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center flex items-center justify-center gap-2",children:" Leaderboard"}),H.jsx("div",{className:"hidden md:block overflow-x-auto",children:H.jsxs("table",{className:"min-w-full bg-[#0f0f3d] rounded-xl overflow-hidden shadow-lg",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"bg-[#1e1e5c] text-yellow-400 text-left",children:[H.jsx("th",{className:"px-4 py-3",children:"#"}),H.jsx("th",{className:"px-4 py-3",children:"Login"}),H.jsx("th",{className:"px-4 py-3 text-right",children:"Score"})]})}),H.jsx("tbody",{children:t.map((o,u)=>H.jsxs("tr",{className:`border-t border-[#2a2a6e] ${u%2===0?"bg-[#15154a]":"bg-[#10103b]"}`,children:[H.jsx("td",{className:"px-4 py-3",children:u+1}),H.jsx("td",{className:"px-4 py-3 font-semibold",children:o.login}),H.jsx("td",{className:"px-4 py-3 text-right",children:o.score})]},o.id))})]})}),H.jsx("div",{className:"md:hidden grid gap-3",children:t.map((o,u)=>H.jsxs("div",{className:"bg-[#1a1a4f] p-4 rounded-lg shadow-md flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsxs("div",{className:"text-yellow-400 font-bold",children:["#",u+1]}),H.jsx("div",{className:"font-semibold text-white",children:o.login})]}),H.jsx("div",{className:"text-lg font-bold text-white",children:o.score})]},o.id))})]})},d6=()=>{const[t,e]=K.useState(""),n=async()=>{try{await Qy(Ri(Pn,"users"),{login:"testUser",password:"123456",score:0}),e(" User added successfully!")}catch(o){console.error("Error adding user: ",o),e(" Error adding user, check console")}},i=async()=>{try{const u=(await ll(Ri(Pn,"users"))).docs.map(h=>({id:h.id,...h.data()}));console.log("Users:",u),e(" Users fetched, check console!")}catch(o){console.error("Error fetching users: ",o),e(" Error fetching users, check console")}};return H.jsxs("div",{className:"p-4 bg-gray-900 text-white rounded-lg",children:[H.jsx("h2",{className:"text-xl mb-4",children:"Firestore Test"}),H.jsx("button",{onClick:n,className:"btn-yellow mr-2",children:"Add Test User"}),H.jsx("button",{onClick:i,className:"btn-ghost",children:"Fetch Users"}),H.jsx("p",{className:"mt-4",children:t})]})},m6=()=>{const t=xa();return K.useEffect(()=>{c6();const e=localStorage.getItem("userId");if(e){const n=ac(Pn,"users",e);bP(n).then(i=>{if(i.exists()){const o=i.data();t(fA(o.score??0)),t(L4(o.login??"")),t(V4(i.id))}})}},[]),H.jsxs("div",{className:`min-h-screen bg-gradient-to-b from-[#1a1a4f] to-[#000032]\r
            text-white p-4 flex flex-col items-center gap-6`,children:[H.jsxs("nav",{className:"flex gap-4 mb-6",children:[H.jsx(ar,{to:"/game",className:"btn-ghost",children:" Game"}),H.jsx(ar,{to:"/history",className:"btn-ghost",children:" History"}),H.jsx(ar,{to:"/leaderboard",className:"btn-ghost",children:" Leaderboard"}),H.jsx(ar,{to:"/login",className:"btn-ghost",children:" Login"})]}),H.jsxs(VC,{children:[H.jsx(os,{path:"/game",element:H.jsx(vV,{})}),H.jsx(os,{path:"/register",element:H.jsx(u6,{})}),H.jsx(os,{path:"/",element:H.jsx(iT,{})}),H.jsx(os,{path:"/login",element:H.jsx(iT,{})}),H.jsx(os,{path:"/history",element:H.jsx(h6,{})}),H.jsx(os,{path:"/leaderboard",element:H.jsx(f6,{})})," ",H.jsx(os,{path:"/test",element:H.jsx(d6,{})})]})]})};function wf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wf=function(n){return typeof n}:wf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wf(t)}function p6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g6(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y6(t,e,n){return e&&g6(t.prototype,e),t}function w6(t,e){return e&&(wf(e)==="object"||typeof e=="function")?e:vf(t)}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(t)}function vf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ey(t,e)}function ey(t,e){return ey=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},ey(t,e)}function _f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f1=function(t){v6(e,t);function e(){var n,i;p6(this,e);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return i=w6(this,(n=Jg(e)).call.apply(n,[this].concat(u))),_f(vf(i),"state",{bootstrapped:!1}),_f(vf(i),"_unsubscribe",void 0),_f(vf(i),"handlePersistorState",function(){var m=i.props.persistor,p=m.getState(),g=p.bootstrapped;g&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return y6(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(K.PureComponent);_f(f1,"defaultProps",{children:null,loading:null});const _6="/quiz-game/";$R.createRoot(document.getElementById("root")).render(H.jsx(K.StrictMode,{children:H.jsx(OI,{store:gA,children:H.jsx(f1,{loading:null,persistor:gV,children:H.jsx(sI,{basename:_6,children:H.jsx(m6,{})})})})}));
