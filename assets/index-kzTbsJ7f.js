(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function CR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kp={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function IR(){if(D0)return _u;D0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:t,type:i,key:f,ref:o!==void 0?o:null,props:u}}return _u.Fragment=e,_u.jsx=n,_u.jsxs=n,_u}var O0;function xR(){return O0||(O0=1,kp.exports=IR()),kp.exports}var G=xR(),Pp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function DR(){if(N0)return Ie;N0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function U(D,re,ce){this.props=D,this.context=re,this.refs=q,this.updater=ce||O}U.prototype.isReactComponent={},U.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},U.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=U.prototype;function se(D,re,ce){this.props=D,this.context=re,this.refs=q,this.updater=ce||O}var X=se.prototype=new $;X.constructor=se,V(X,U.prototype),X.isPureReactComponent=!0;var ae=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function x(D,re,ce,oe,we,De){return ce=De.ref,{$$typeof:t,type:D,key:re,ref:ce!==void 0?ce:null,props:De}}function A(D,re){return x(D.type,re,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function k(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return re[ce]})}var P=/\/+/g;function L(D,re){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):re.toString(36)}function I(){}function Ft(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,re,ce,oe,we){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=D._init,ht(Ae(D._payload),re,ce,oe,we)}}if(Ae)return we=we(D),Ae=oe===""?"."+L(D,0):oe,ae(we)?(ce="",Ae!=null&&(ce=Ae.replace(P,"$&/")+"/"),ht(we,re,ce,"",function(lr){return lr})):we!=null&&(R(we)&&(we=A(we,ce+(we.key==null||D&&D.key===we.key?"":(""+we.key).replace(P,"$&/")+"/")+Ae)),re.push(we)),1;Ae=0;var Vt=oe===""?".":oe+":";if(ae(D))for(var nt=0;nt<D.length;nt++)oe=D[nt],De=Vt+L(oe,nt),Ae+=ht(oe,re,ce,De,we);else if(nt=S(D),typeof nt=="function")for(D=nt.call(D),nt=0;!(oe=D.next()).done;)oe=oe.value,De=Vt+L(oe,nt++),Ae+=ht(oe,re,ce,De,we);else if(De==="object"){if(typeof D.then=="function")return ht(Ft(D),re,ce,oe,we);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(D,re,ce){if(D==null)return D;var oe=[],we=0;return ht(D,oe,"","",function(De){return re.call(ce,De,we++)}),oe}function ue(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function He(){}return Ie.Children={map:W,forEach:function(D,re,ce){W(D,function(){re.apply(this,arguments)},ce)},count:function(D){var re=0;return W(D,function(){re++}),re},toArray:function(D){return W(D,function(re){return re})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=se,Ie.StrictMode=i,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ie.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cloneElement=function(D,re,ce){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=V({},D.props),we=D.key,De=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(we=""+re.key),re)!fe.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(oe[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=ce;else if(1<Ae){for(var Vt=Array(Ae),nt=0;nt<Ae;nt++)Vt[nt]=arguments[nt+2];oe.children=Vt}return x(D.type,we,void 0,void 0,De,oe)},Ie.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ie.createElement=function(D,re,ce){var oe,we={},De=null;if(re!=null)for(oe in re.key!==void 0&&(De=""+re.key),re)fe.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(we[oe]=re[oe]);var Ae=arguments.length-2;if(Ae===1)we.children=ce;else if(1<Ae){for(var Vt=Array(Ae),nt=0;nt<Ae;nt++)Vt[nt]=arguments[nt+2];we.children=Vt}if(D&&D.defaultProps)for(oe in Ae=D.defaultProps,Ae)we[oe]===void 0&&(we[oe]=Ae[oe]);return x(D,De,void 0,void 0,null,we)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:m,render:D}},Ie.isValidElement=R,Ie.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:ue}},Ie.memo=function(D,re){return{$$typeof:g,type:D,compare:re===void 0?null:re}},Ie.startTransition=function(D){var re=ie.T,ce={};ie.T=ce;try{var oe=D(),we=ie.S;we!==null&&we(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(He,ge)}catch(De){ge(De)}finally{ie.T=re}},Ie.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ie.use=function(D){return ie.H.use(D)},Ie.useActionState=function(D,re,ce){return ie.H.useActionState(D,re,ce)},Ie.useCallback=function(D,re){return ie.H.useCallback(D,re)},Ie.useContext=function(D){return ie.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,re){return ie.H.useDeferredValue(D,re)},Ie.useEffect=function(D,re,ce){var oe=ie.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(D,re)},Ie.useId=function(){return ie.H.useId()},Ie.useImperativeHandle=function(D,re,ce){return ie.H.useImperativeHandle(D,re,ce)},Ie.useInsertionEffect=function(D,re){return ie.H.useInsertionEffect(D,re)},Ie.useLayoutEffect=function(D,re){return ie.H.useLayoutEffect(D,re)},Ie.useMemo=function(D,re){return ie.H.useMemo(D,re)},Ie.useOptimistic=function(D,re){return ie.H.useOptimistic(D,re)},Ie.useReducer=function(D,re,ce){return ie.H.useReducer(D,re,ce)},Ie.useRef=function(D){return ie.H.useRef(D)},Ie.useState=function(D){return ie.H.useState(D)},Ie.useSyncExternalStore=function(D,re,ce){return ie.H.useSyncExternalStore(D,re,ce)},Ie.useTransition=function(){return ie.H.useTransition()},Ie.version="19.1.1",Ie}var k0;function Wh(){return k0||(k0=1,Pp.exports=DR()),Pp.exports}var Q=Wh(),Mp={exports:{}},bu={},Vp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function OR(){return P0||(P0=1,function(t){function e(W,ue){var ge=W.length;W.push(ue);e:for(;0<ge;){var He=ge-1>>>1,D=W[He];if(0<o(D,ue))W[He]=ue,W[ge]=D,ge=He;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ue=W[0],ge=W.pop();if(ge!==ue){W[0]=ge;e:for(var He=0,D=W.length,re=D>>>1;He<re;){var ce=2*(He+1)-1,oe=W[ce],we=ce+1,De=W[we];if(0>o(oe,ge))we<D&&0>o(De,oe)?(W[He]=De,W[we]=ge,He=we):(W[He]=oe,W[ce]=ge,He=ce);else if(we<D&&0>o(De,ge))W[He]=De,W[we]=ge,He=we;else break e}}return ue}function o(W,ue){var ge=W.sortIndex-ue.sortIndex;return ge!==0?ge:W.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,E=null,S=3,O=!1,V=!1,q=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var ue=n(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=W)i(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function ie(W){if(q=!1,ae(W),!V)if(n(p)!==null)V=!0,fe||(fe=!0,L());else{var ue=n(g);ue!==null&&ht(ie,ue.startTime-W)}}var fe=!1,x=-1,A=5,R=-1;function k(){return U?!0:!(t.unstable_now()-R<A)}function P(){if(U=!1,fe){var W=t.unstable_now();R=W;var ue=!0;try{e:{V=!1,q&&(q=!1,se(x),x=-1),O=!0;var ge=S;try{t:{for(ae(W),E=n(p);E!==null&&!(E.expirationTime>W&&k());){var He=E.callback;if(typeof He=="function"){E.callback=null,S=E.priorityLevel;var D=He(E.expirationTime<=W);if(W=t.unstable_now(),typeof D=="function"){E.callback=D,ae(W),ue=!0;break t}E===n(p)&&i(p),ae(W)}else i(p);E=n(p)}if(E!==null)ue=!0;else{var re=n(g);re!==null&&ht(ie,re.startTime-W),ue=!1}}break e}finally{E=null,S=ge,O=!1}ue=void 0}}finally{ue?L():fe=!1}}}var L;if(typeof X=="function")L=function(){X(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ft=I.port2;I.port1.onmessage=P,L=function(){Ft.postMessage(null)}}else L=function(){$(P,0)};function ht(W,ue){x=$(function(){W(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var ge=S;S=ue;try{return W()}finally{S=ge}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=S;S=W;try{return ue()}finally{S=ge}},t.unstable_scheduleCallback=function(W,ue,ge){var He=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ge+D,W={id:v++,callback:ue,priorityLevel:W,startTime:ge,expirationTime:D,sortIndex:-1},ge>He?(W.sortIndex=ge,e(g,W),n(p)===null&&W===n(g)&&(q?(se(x),x=-1):q=!0,ht(ie,ge-He))):(W.sortIndex=D,e(p,W),V||O||(V=!0,fe||(fe=!0,L()))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var ue=S;return function(){var ge=S;S=ue;try{return W.apply(this,arguments)}finally{S=ge}}}}(Lp)),Lp}var M0;function NR(){return M0||(M0=1,Vp.exports=OR()),Vp.exports}var Up={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function kR(){if(V0)return nn;V0=1;var t=Wh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},nn.flushSync=function(p){var g=f.T,v=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=g,i.p=v,i.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:O}):v==="script"&&i.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},nn.requestFormReset=function(p){i.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var L0;function PR(){if(L0)return Up.exports;L0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Up.exports=kR(),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function MR(){if(U0)return bu;U0=1;var t=NR(),e=Wh(),n=PR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function f(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(u(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=u(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,l=s;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),r;if(d===l)return m(h),s;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Ft(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case U:return"Profiler";case q:return"StrictMode";case ie:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case X:return(r.displayName||"Context")+".Provider";case se:return(r._context.displayName||"Context")+".Consumer";case ae:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:Ft(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Ft(r(s))}catch{}}return null}var ht=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},He=[],D=-1;function re(r){return{current:r}}function ce(r){0>D||(r.current=He[D],He[D]=null,D--)}function oe(r,s){D++,He[D]=r.current,r.current=s}var we=re(null),De=re(null),Ae=re(null),Vt=re(null);function nt(r,s){switch(oe(Ae,s),oe(De,r),oe(we,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?i0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=i0(s),r=s0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(we),oe(we,r)}function lr(){ce(we),ce(De),ce(Ae)}function Ri(r){r.memoizedState!==null&&oe(Vt,r);var s=we.current,a=s0(s,r.type);s!==a&&(oe(De,r),oe(we,a))}function Br(r){De.current===r&&(ce(we),ce(De)),Vt.current===r&&(ce(Vt),pu._currentValue=ge)}var Rs=Object.prototype.hasOwnProperty,Cs=t.unstable_scheduleCallback,Is=t.unstable_cancelCallback,hl=t.unstable_shouldYield,mc=t.unstable_requestPaint,Ln=t.unstable_now,kd=t.unstable_getCurrentPriorityLevel,dl=t.unstable_ImmediatePriority,ka=t.unstable_UserBlockingPriority,xs=t.unstable_NormalPriority,Pd=t.unstable_LowPriority,Pa=t.unstable_IdlePriority,ml=t.log,pc=t.unstable_setDisableYieldValue,dt=null,Qe=null;function En(r){if(typeof ml=="function"&&pc(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(dt,r)}catch{}}var en=Math.clz32?Math.clz32:Ds,gc=Math.log,Md=Math.LN2;function Ds(r){return r>>>=0,r===0?32:31-(gc(r)/Md|0)|0}var Os=256,Ns=4194304;function Zn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ma(r,s,a){var l=r.pendingLanes;if(l===0)return 0;var h=0,d=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Zn(l):(_&=b,_!==0?h=Zn(_):a||(a=b&~r,a!==0&&(h=Zn(a))))):(b=l&~d,b!==0?h=Zn(b):_!==0?h=Zn(_):a||(a=l&~r,a!==0&&(h=Zn(a)))),h===0?0:s!==0&&s!==h&&(s&d)===0&&(d=h&-h,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:h}function ks(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function pl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var r=Os;return Os<<=1,(Os&4194048)===0&&(Os=256),r}function yl(){var r=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),r}function zr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function jr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function wl(r,s,a,l,h,d){var _=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var b=r.entanglements,C=r.expirationTimes,j=r.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-en(a),te=1<<Z;b[Z]=0,C[Z]=-1;var H=j[Z];if(H!==null)for(j[Z]=null,Z=0;Z<H.length;Z++){var F=H[Z];F!==null&&(F.lane&=-536870913)}a&=~te}l!==0&&ur(r,l,0),d!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=d&~(_&~s))}function ur(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-en(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function vl(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var l=31-en(a),h=1<<l;h&s|r[l]&s&&(r[l]|=s),a&=~h}}function Ci(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Va(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ii(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:S0(r.type))}function yc(r,s){var a=ue.p;try{return ue.p=r,s()}finally{ue.p=a}}var ot=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ot,Et="__reactProps$"+ot,Un="__reactContainer$"+ot,_l="__reactEvents$"+ot,Vd="__reactListeners$"+ot,xi="__reactHandles$"+ot,wc="__reactResources$"+ot,Ps="__reactMarker$"+ot;function Di(r){delete r[Dt],delete r[Et],delete r[_l],delete r[Vd],delete r[xi]}function qr(r){var s=r[Dt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Un]||a[Dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=u0(r);r!==null;){if(a=r[Dt])return a;r=u0(r)}return s}r=a,a=r.parentNode}return null}function cr(r){if(r=r[Dt]||r[Un]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function fr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function un(r){var s=r[wc];return s||(s=r[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(r){r[Ps]=!0}var bl=new Set,La={};function Jn(r,s){Hr(r,s),Hr(r+"Capture",s)}function Hr(r,s){for(La[r]=s,r=0;r<s.length;r++)bl.add(s[r])}var vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},Ms={};function bc(r){return Rs.call(Ms,r)?!0:Rs.call(_c,r)?!1:vc.test(r)?Ms[r]=!0:(_c[r]=!0,!1)}function Oi(r,s,a){if(bc(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function hr(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Gt(r,s,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+l)}}var Vs,Ec;function Fr(r){if(Vs===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Vs=s&&s[1]||"",Ec=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vs+r+Ec}var Ua=!1;function Ba(r,s){if(!r||Ua)return"";Ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(F){var H=F}Reflect.construct(r,[],te)}else{try{te.call()}catch(F){H=F}r.call(te.prototype)}}else{try{throw Error()}catch(F){H=F}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var C=_.split(`
`),j=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var Z=`
`+C[l].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ua=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Fr(a):""}function El(r){switch(r.tag){case 26:case 27:case 5:return Fr(r.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return Ba(r.type,!1);case 11:return Ba(r.type.render,!1);case 1:return Ba(r.type,!0);case 31:return Fr("Activity");default:return""}}function za(r){try{var s="";do s+=El(r),r=r.return;while(r);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Tl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ld(r){var s=Tl(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),l=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ja(r){r._valueTracker||(r._valueTracker=Ld(r))}function Sl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return r&&(l=Tl(r)?r.checked?"true":"false":r.value),r=l,r!==a?(s.setValue(r),!0):!1}function Ls(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ud=/[\n"\\]/g;function Tt(r){return r.replace(Ud,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tn(r,s,a,l,h,d,_,b){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+cn(s)):r.value!==""+cn(s)&&(r.value=""+cn(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?Ni(r,_,cn(s)):a!=null?Ni(r,_,cn(a)):l!=null&&r.removeAttribute("value"),h==null&&d!=null&&(r.defaultChecked=!!d),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+cn(b):r.removeAttribute("name")}function Us(r,s,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(r.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,b||s===r.value||(r.value=s),r.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=b?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_)}function Ni(r,s,a){s==="number"&&Ls(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Gr(r,s,a,l){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&l&&(r[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,l&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function We(r,s,a){if(s!=null&&(s=""+cn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+cn(a):""}function Bs(r,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(ht(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=cn(s),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function Bn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(r,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,a):typeof a!="number"||a===0||zs.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function Al(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&a[h]!==l&&Tc(r,h,l)}else for(var d in s)s.hasOwnProperty(d)&&Tc(r,d,s[d])}function Rl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(r){return zd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var $r=null;function zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Kr=null,Qr=null;function Cl(r){var s=cr(r);if(s&&(r=s.stateNode)){var a=r[Et]||null;e:switch(r=s.stateNode,s.type){case"input":if(Tn(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==r&&l.form===r.form){var h=l[Et]||null;if(!h)throw Error(i(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===r.form&&Sl(l)}break e;case"textarea":We(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Gr(r,!!a.multiple,s,!1)}}}var dr=!1;function Sc(r,s,a){if(dr)return r(s,a);dr=!0;try{var l=r(s);return l}finally{if(dr=!1,(Kr!==null||Qr!==null)&&(wf(),Kr&&(s=Kr,r=Qr,Qr=Kr=null,Cl(s),r)))for(s=0;s<r.length;s++)Cl(r[s])}}function js(r,s){var a=r.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(er)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){jn=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{jn=!1}var mr=null,ki=null,Yr=null;function Il(){if(Yr)return Yr;var r,s=ki,a=s.length,l,h="value"in mr?mr.value:mr.textContent,d=h.length;for(r=0;r<a&&s[r]===h[r];r++);var _=a-r;for(l=1;l<=_&&s[a-l]===h[d-l];l++);return Yr=h.slice(r,1<l?1-l:void 0)}function pr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function gr(){return!0}function xl(){return!1}function Lt(r){function s(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gr:xl,this.isPropagationStopped=xl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Lt($e),Hs=v({},$e,{view:0,detail:0}),Ac=Lt(Hs),Fa,Ga,yr,Fs=v({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yr&&(yr&&r.type==="mousemove"?(Fa=r.screenX-yr.screenX,Ga=r.screenY-yr.screenY):Ga=Fa=0,yr=r),Fa)},movementY:function(r){return"movementY"in r?r.movementY:Ga}}),qn=Lt(Fs),Rc=v({},Fs,{dataTransfer:0}),jd=Lt(Rc),Gs=v({},Hs,{relatedTarget:0}),$a=Lt(Gs),Dl=v({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=Lt(Dl),Cc=v({},$e,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Qa=Lt(Cc),qd=v({},$e,{data:0}),Ol=Lt(qd),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xc[r])?!!s[r]:!1}function Ks(){return Nl}var Dc=v({},Hs,{key:function(r){if(r.key){var s=$s[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=pr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ic[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(r){return r.type==="keypress"?pr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?pr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ya=Lt(Dc),Oc=v({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Lt(Oc),Xr=v({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),Nc=Lt(Xr),kc=v({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pc=Lt(kc),Mc=v({},Fs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Lt(Mc),fn=v({},$e,{newState:0,oldState:0}),Vc=Lt(fn),Lc=[9,13,27,32],wr=er&&"CompositionEvent"in window,c=null;er&&"documentMode"in document&&(c=document.documentMode);var y=er&&"TextEvent"in window&&!c,w=er&&(!wr||c&&8<c&&11>=c),T=" ",B=!1;function K(r,s){switch(r){case"keyup":return Lc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Le=!1;function Ot(r,s){switch(r){case"compositionend":return le(s);case"keypress":return s.which!==32?null:(B=!0,T);case"textInput":return r=s.data,r===T&&B?null:r;default:return null}}function Ue(r,s){if(Le)return r==="compositionend"||!wr&&K(r,s)?(r=Il(),Yr=ki=mr=null,Le=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ut[r.type]:s==="textarea"}function Wr(r,s,a,l){Kr?Qr?Qr.push(l):Qr=[l]:Kr=l,s=Sf(s,"onChange"),0<s.length&&(a=new Ha("onChange","change",null,a,l),r.push({event:a,listeners:s}))}var $t=null,vr=null;function Pl(r){J_(r,0)}function Uc(r){var s=fr(r);if(Sl(s))return r}function _w(r,s){if(r==="change")return s}var bw=!1;if(er){var Hd;if(er){var Fd="oninput"in document;if(!Fd){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),Fd=typeof Ew.oninput=="function"}Hd=Fd}else Hd=!1;bw=Hd&&(!document.documentMode||9<document.documentMode)}function Tw(){$t&&($t.detachEvent("onpropertychange",Sw),vr=$t=null)}function Sw(r){if(r.propertyName==="value"&&Uc(vr)){var s=[];Wr(s,vr,r,zn(r)),Sc(Pl,s)}}function r1(r,s,a){r==="focusin"?(Tw(),$t=s,vr=a,$t.attachEvent("onpropertychange",Sw)):r==="focusout"&&Tw()}function i1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uc(vr)}function s1(r,s){if(r==="click")return Uc(s)}function a1(r,s){if(r==="input"||r==="change")return Uc(s)}function o1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sn=typeof Object.is=="function"?Object.is:o1;function Ml(r,s){if(Sn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Rs.call(s,h)||!Sn(r[h],s[h]))return!1}return!0}function Aw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rw(r,s){var a=Aw(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=s&&l>=s)return{node:a,offset:s-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Aw(a)}}function Cw(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Cw(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Iw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ls(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Ls(r.document)}return s}function Gd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var l1=er&&"documentMode"in document&&11>=document.documentMode,Wa=null,$d=null,Vl=null,Kd=!1;function xw(r,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kd||Wa==null||Wa!==Ls(l)||(l=Wa,"selectionStart"in l&&Gd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Ml(Vl,l)||(Vl=l,l=Sf($d,"onSelect"),0<l.length&&(s=new Ha("onSelect","select",null,s,a),r.push({event:s,listeners:l}),s.target=Wa)))}function Qs(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Za={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Qd={},Dw={};er&&(Dw=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Ys(r){if(Qd[r])return Qd[r];if(!Za[r])return r;var s=Za[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Dw)return Qd[r]=s[a];return r}var Ow=Ys("animationend"),Nw=Ys("animationiteration"),kw=Ys("animationstart"),u1=Ys("transitionrun"),c1=Ys("transitionstart"),f1=Ys("transitioncancel"),Pw=Ys("transitionend"),Mw=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yd.push("scrollEnd");function tr(r,s){Mw.set(r,s),Jn(s,[r])}var Vw=new WeakMap;function Hn(r,s){if(typeof r=="object"&&r!==null){var a=Vw.get(r);return a!==void 0?a:(s={value:r,source:s,stack:za(s)},Vw.set(r,s),s)}return{value:r,source:s,stack:za(s)}}var Fn=[],Ja=0,Xd=0;function Bc(){for(var r=Ja,s=Xd=Ja=0;s<r;){var a=Fn[s];Fn[s++]=null;var l=Fn[s];Fn[s++]=null;var h=Fn[s];Fn[s++]=null;var d=Fn[s];if(Fn[s++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Lw(a,h,d)}}function zc(r,s,a,l){Fn[Ja++]=r,Fn[Ja++]=s,Fn[Ja++]=a,Fn[Ja++]=l,Xd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Wd(r,s,a,l){return zc(r,s,a,l),jc(r)}function eo(r,s){return zc(r,null,null,s),jc(r)}function Lw(r,s,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=r.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(r=d.stateNode,r===null||r._visibility&1||(h=!0)),r=d,d=d.return;return r.tag===3?(d=r.stateNode,h&&s!==null&&(h=31-en(a),r=d.hiddenUpdates,l=r[h],l===null?r[h]=[s]:l.push(s),s.lane=a|536870912),d):null}function jc(r){if(50<ou)throw ou=0,rp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var to={};function h1(r,s,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(r,s,a,l){return new h1(r,s,a,l)}function Zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zr(r,s){var a=r.alternate;return a===null?(a=An(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Uw(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function qc(r,s,a,l,h,d){var _=0;if(l=r,typeof r=="function")Zd(r)&&(_=1);else if(typeof r=="string")_=mR(r,a,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=An(31,a,s,h),r.elementType=R,r.lanes=d,r;case V:return Xs(a.children,h,d,s);case q:_=8,h|=24;break;case U:return r=An(12,a,s,h|2),r.elementType=U,r.lanes=d,r;case ie:return r=An(13,a,s,h),r.elementType=ie,r.lanes=d,r;case fe:return r=An(19,a,s,h),r.elementType=fe,r.lanes=d,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:case X:_=10;break e;case se:_=9;break e;case ae:_=11;break e;case x:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=An(_,a,s,h),s.elementType=r,s.type=l,s.lanes=d,s}function Xs(r,s,a,l){return r=An(7,r,l,s),r.lanes=a,r}function Jd(r,s,a){return r=An(6,r,null,s),r.lanes=a,r}function em(r,s,a){return s=An(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var no=[],ro=0,Hc=null,Fc=0,Gn=[],$n=0,Ws=null,Jr=1,ei="";function Zs(r,s){no[ro++]=Fc,no[ro++]=Hc,Hc=r,Fc=s}function Bw(r,s,a){Gn[$n++]=Jr,Gn[$n++]=ei,Gn[$n++]=Ws,Ws=r;var l=Jr;r=ei;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(s)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Jr=1<<32-en(s)+h|a<<h|l,ei=d+r}else Jr=1<<d|a<<h|l,ei=r}function tm(r){r.return!==null&&(Zs(r,1),Bw(r,1,0))}function nm(r){for(;r===Hc;)Hc=no[--ro],no[ro]=null,Fc=no[--ro],no[ro]=null;for(;r===Ws;)Ws=Gn[--$n],Gn[$n]=null,ei=Gn[--$n],Gn[$n]=null,Jr=Gn[--$n],Gn[$n]=null}var hn=null,mt=null,Fe=!1,Js=null,_r=!1,rm=Error(i(519));function ea(r){var s=Error(i(418,""));throw Bl(Hn(s,r)),rm}function zw(r){var s=r.stateNode,a=r.type,l=r.memoizedProps;switch(s[Dt]=r,s[Et]=l,a){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(a=0;a<uu.length;a++)ke(uu[a],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Us(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ja(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Bs(s,l.value,l.defaultValue,l.children),ja(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||r0(s.textContent,a)?(l.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),l.onScroll!=null&&ke("scroll",s),l.onScrollEnd!=null&&ke("scrollend",s),l.onClick!=null&&(s.onclick=Af),s=!0):s=!1,s||ea(r)}function jw(r){for(hn=r.return;hn;)switch(hn.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:hn=hn.return}}function Ll(r){if(r!==hn)return!1;if(!Fe)return jw(r),Fe=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||vp(r.type,r.memoizedProps)),a=!a),a&&mt&&ea(r),jw(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(s===0){mt=rr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;r=r.nextSibling}mt=null}}else s===27?(s=mt,Yi(r.type)?(r=Tp,Tp=null,mt=r):mt=s):mt=hn?rr(r.stateNode.nextSibling):null;return!0}function Ul(){mt=hn=null,Fe=!1}function qw(){var r=Js;return r!==null&&(wn===null?wn=r:wn.push.apply(wn,r),Js=null),r}function Bl(r){Js===null?Js=[r]:Js.push(r)}var im=re(null),ta=null,ti=null;function Pi(r,s,a){oe(im,s._currentValue),s._currentValue=a}function ni(r){r._currentValue=im.current,ce(im)}function sm(r,s,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===a)break;r=r.return}}function am(r,s,a,l){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<s.length;C++)if(b.context===s[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),sm(d.return,a,r),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),sm(_,a,r),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===r){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function zl(r,s,a,l){r=null;for(var h=s,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var b=h.type;Sn(h.pendingProps.value,_.value)||(r!==null?r.push(b):r=[b])}}else if(h===Vt.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(pu):r=[pu])}h=h.return}r!==null&&am(s,r,a,l),s.flags|=262144}function Gc(r){for(r=r.firstContext;r!==null;){if(!Sn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function na(r){ta=r,ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return Hw(ta,r)}function $c(r,s){return ta===null&&na(r),Hw(r,s)}function Hw(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ti===null){if(r===null)throw Error(i(308));ti=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ti=ti.next=s;return a}var d1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},m1=t.unstable_scheduleCallback,p1=t.unstable_NormalPriority,kt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new d1,data:new Map,refCount:0}}function jl(r){r.refCount--,r.refCount===0&&m1(p1,function(){r.controller.abort()})}var ql=null,lm=0,io=0,so=null;function g1(r,s){if(ql===null){var a=ql=[];lm=0,io=cp(),so={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lm++,s.then(Fw,Fw),s}function Fw(){if(--lm===0&&ql!==null){so!==null&&(so.status="fulfilled");var r=ql;ql=null,io=0,so=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function y1(r,s){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Gw=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&g1(r,s),Gw!==null&&Gw(r,s)};var ra=re(null);function um(){var r=ra.current;return r!==null?r:rt.pooledCache}function Kc(r,s){s===null?oe(ra,ra.current):oe(ra,s.pool)}function $w(){var r=um();return r===null?null:{parent:kt._currentValue,pool:r}}var Hl=Error(i(460)),Kw=Error(i(474)),Qc=Error(i(542)),cm={then:function(){}};function Qw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yc(){}function Yw(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Yc,Yc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ww(r),r;default:if(typeof s.status=="string")s.then(Yc,Yc);else{if(r=rt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ww(r),r}throw Fl=s,Hl}}var Fl=null;function Xw(){if(Fl===null)throw Error(i(459));var r=Fl;return Fl=null,r}function Ww(r){if(r===Hl||r===Qc)throw Error(i(483))}var Mi=!1;function fm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Li(r,s,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=jc(r),Lw(r,null,a),s}return zc(r,l,s,a),jc(r)}function Gl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,vl(r,a)}}function dm(r,s){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=s:d=d.next=s}else h=d=s;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var mm=!1;function $l(){if(mm){var r=so;if(r!==null)throw r}}function Kl(r,s,a,l){mm=!1;var h=r.updateQueue;Mi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,j=C.next;C.next=null,_===null?d=j:_.next=j,_=C;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=j:b.next=j,Z.lastBaseUpdate=C))}if(d!==null){var te=h.baseState;_=0,Z=j=C=null,b=d;do{var H=b.lane&-536870913,F=H!==b.lane;if(F?(Be&H)===H:(l&H)===H){H!==0&&H===io&&(mm=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=r,_e=b;H=s;var et=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){te=Te.call(et,te,H);break e}te=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,H=typeof Te=="function"?Te.call(et,te,H):Te,H==null)break e;te=v({},te,H);break e;case 2:Mi=!0}}H=b.callback,H!==null&&(r.flags|=64,F&&(r.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(j=Z=F,C=te):Z=Z.next=F,_|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Z===null&&(C=te),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Gi|=_,r.lanes=_,r.memoizedState=te}}function Zw(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Jw(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Zw(a[r],s)}var ao=re(null),Xc=re(0);function ev(r,s){r=ui,oe(Xc,r),oe(ao,s),ui=r|s.baseLanes}function pm(){oe(Xc,ui),oe(ao,ao.current)}function gm(){ui=Xc.current,ce(ao),ce(Xc)}var Ui=0,xe=null,Ze=null,St=null,Wc=!1,oo=!1,ia=!1,Zc=0,Ql=0,lo=null,w1=0;function yt(){throw Error(i(321))}function ym(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Sn(r[a],s[a]))return!1;return!0}function wm(r,s,a,l,h,d){return Ui=d,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?Lv:Uv,ia=!1,d=a(l,h),ia=!1,oo&&(d=nv(s,a,l,h)),tv(r),d}function tv(r){W.H=sf;var s=Ze!==null&&Ze.next!==null;if(Ui=0,St=Ze=xe=null,Wc=!1,Ql=0,lo=null,s)throw Error(i(300));r===null||Bt||(r=r.dependencies,r!==null&&Gc(r)&&(Bt=!0))}function nv(r,s,a,l){xe=r;var h=0;do{if(oo&&(lo=null),Ql=0,oo=!1,25<=h)throw Error(i(301));if(h+=1,St=Ze=null,r.updateQueue!=null){var d=r.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=A1,d=s(a,l)}while(oo);return d}function v1(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?Yl(s):s,r=r.useState()[0],(Ze!==null?Ze.memoizedState:null)!==r&&(xe.flags|=1024),s}function vm(){var r=Zc!==0;return Zc=0,r}function _m(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function bm(r){if(Wc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wc=!1}Ui=0,St=Ze=xe=null,oo=!1,Ql=Zc=0,lo=null}function gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?xe.memoizedState=St=r:St=St.next=r,St}function At(){if(Ze===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var s=St===null?xe.memoizedState:St.next;if(s!==null)St=s,Ze=r;else{if(r===null)throw xe.alternate===null?Error(i(467)):Error(i(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?xe.memoizedState=St=r:St=St.next=r}return St}function Em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(r){var s=Ql;return Ql+=1,lo===null&&(lo=[]),r=Yw(lo,r,s),s=xe,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?Lv:Uv),r}function Jc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yl(r);if(r.$$typeof===X)return tn(r)}throw Error(i(438,String(r)))}function Tm(r){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Em(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),l=0;l<r;l++)a[l]=k;return s.index++,a}function ri(r,s){return typeof s=="function"?s(r):s}function ef(r){var s=At();return Sm(s,Ze,r)}function Sm(r,s,a){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=r.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}s.baseQueue=h=d,l.pending=null}if(d=r.baseState,h===null)r.memoizedState=d;else{s=h.next;var b=_=null,C=null,j=s,Z=!1;do{var te=j.lane&-536870913;if(te!==j.lane?(Be&te)===te:(Ui&te)===te){var H=j.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),te===io&&(Z=!0);else if((Ui&H)===H){j=j.next,H===io&&(Z=!0);continue}else te={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(b=C=te,_=d):C=C.next=te,xe.lanes|=H,Gi|=H;te=j.action,ia&&a(d,te),d=j.hasEagerState?j.eagerState:a(d,te)}else H={lane:te,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(b=C=H,_=d):C=C.next=H,xe.lanes|=te,Gi|=te;j=j.next}while(j!==null&&j!==s);if(C===null?_=d:C.next=b,!Sn(d,r.memoizedState)&&(Bt=!0,Z&&(a=so,a!==null)))throw a;r.memoizedState=d,r.baseState=_,r.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Am(r){var s=At(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var l=a.dispatch,h=a.pending,d=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=r(d,_.action),_=_.next;while(_!==h);Sn(d,s.memoizedState)||(Bt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function rv(r,s,a){var l=xe,h=At(),d=Fe;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!Sn((Ze||h).memoizedState,a);_&&(h.memoizedState=a,Bt=!0),h=h.queue;var b=av.bind(null,l,h,r);if(Xl(2048,8,b,[r]),h.getSnapshot!==s||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,uo(9,tf(),sv.bind(null,l,h,a,s),null),rt===null)throw Error(i(349));d||(Ui&124)!==0||iv(l,s,a)}return a}function iv(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=Em(),xe.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function sv(r,s,a,l){s.value=a,s.getSnapshot=l,ov(s)&&lv(r)}function av(r,s,a){return a(function(){ov(s)&&lv(r)})}function ov(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Sn(r,a)}catch{return!0}}function lv(r){var s=eo(r,2);s!==null&&Dn(s,r,2)}function Rm(r){var s=gn();if(typeof r=="function"){var a=r;if(r=a(),ia){En(!0);try{a()}finally{En(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:r},s}function uv(r,s,a,l){return r.baseState=a,Sm(r,Ze,typeof l=="function"?l:ri)}function _1(r,s,a,l,h){if(rf(r))throw Error(i(485));if(r=s.action,r!==null){var d={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,cv(s,d)):(d.next=a.next,s.pending=a.next=d)}}function cv(r,s){var a=s.action,l=s.payload,h=r.state;if(s.isTransition){var d=W.T,_={};W.T=_;try{var b=a(h,l),C=W.S;C!==null&&C(_,b),fv(r,s,b)}catch(j){Cm(r,s,j)}finally{W.T=d}}else try{d=a(h,l),fv(r,s,d)}catch(j){Cm(r,s,j)}}function fv(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hv(r,s,l)},function(l){return Cm(r,s,l)}):hv(r,s,a)}function hv(r,s,a){s.status="fulfilled",s.value=a,dv(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,cv(r,a)))}function Cm(r,s,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,dv(s),s=s.next;while(s!==l)}r.action=null}function dv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function mv(r,s){return s}function pv(r,s){if(Fe){var a=rt.formState;if(a!==null){e:{var l=xe;if(Fe){if(mt){t:{for(var h=mt,d=_r;h.nodeType!==8;){if(!d){h=null;break t}if(h=rr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){mt=rr(h.nextSibling),l=h.data==="F!";break e}}ea(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:s},a.queue=l,a=Pv.bind(null,xe,l),l.dispatch=a,l=Rm(!1),d=Nm.bind(null,xe,!1,l.queue),l=gn(),h={state:s,dispatch:null,action:r,pending:null},l.queue=h,a=_1.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=r,[s,a,!1]}function gv(r){var s=At();return yv(s,Ze,r)}function yv(r,s,a){if(s=Sm(r,s,mv)[0],r=ef(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Yl(s)}catch(_){throw _===Hl?Qc:_}else l=s;s=At();var h=s.queue,d=h.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,uo(9,tf(),b1.bind(null,h,a),null)),[l,d,r]}function b1(r,s){r.action=s}function wv(r){var s=At(),a=Ze;if(a!==null)return yv(s,a,r);At(),s=s.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=r,[s,l,!1]}function uo(r,s,a,l){return r={tag:r,create:a,deps:l,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Em(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,s.lastEffect=r),r}function tf(){return{destroy:void 0,resource:void 0}}function vv(){return At().memoizedState}function nf(r,s,a,l){var h=gn();l=l===void 0?null:l,xe.flags|=r,h.memoizedState=uo(1|s,tf(),a,l)}function Xl(r,s,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&ym(l,Ze.memoizedState.deps)?h.memoizedState=uo(s,d,a,l):(xe.flags|=r,h.memoizedState=uo(1|s,d,a,l))}function _v(r,s){nf(8390656,8,r,s)}function bv(r,s){Xl(2048,8,r,s)}function Ev(r,s){return Xl(4,2,r,s)}function Tv(r,s){return Xl(4,4,r,s)}function Sv(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Av(r,s,a){a=a!=null?a.concat([r]):null,Xl(4,4,Sv.bind(null,s,r),a)}function Im(){}function Rv(r,s){var a=At();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&ym(s,l[1])?l[0]:(a.memoizedState=[r,s],r)}function Cv(r,s){var a=At();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&ym(s,l[1]))return l[0];if(l=r(),ia){En(!0);try{r()}finally{En(!1)}}return a.memoizedState=[l,s],l}function xm(r,s,a){return a===void 0||(Ui&1073741824)!==0?r.memoizedState=s:(r.memoizedState=a,r=D_(),xe.lanes|=r,Gi|=r,a)}function Iv(r,s,a,l){return Sn(a,s)?a:ao.current!==null?(r=xm(r,a,l),Sn(r,s)||(Bt=!0),r):(Ui&42)===0?(Bt=!0,r.memoizedState=a):(r=D_(),xe.lanes|=r,Gi|=r,s)}function xv(r,s,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=W.T,b={};W.T=b,Nm(r,!1,s,a);try{var C=h(),j=W.S;if(j!==null&&j(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=y1(C,l);Wl(r,s,Z,xn(r))}else Wl(r,s,l,xn(r))}catch(te){Wl(r,s,{then:function(){},status:"rejected",reason:te},xn())}finally{ue.p=d,W.T=_}}function E1(){}function Dm(r,s,a,l){if(r.tag!==5)throw Error(i(476));var h=Dv(r).queue;xv(r,h,s,ge,a===null?E1:function(){return Ov(r),a(l)})}function Dv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ge},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Ov(r){var s=Dv(r).next.queue;Wl(r,s,{},xn())}function Om(){return tn(pu)}function Nv(){return At().memoizedState}function kv(){return At().memoizedState}function T1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();r=Vi(a);var l=Li(s,r,a);l!==null&&(Dn(l,s,a),Gl(l,s,a)),s={cache:om()},r.payload=s;return}s=s.return}}function S1(r,s,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rf(r)?Mv(s,a):(a=Wd(r,s,a,l),a!==null&&(Dn(a,r,l),Vv(a,s,l)))}function Pv(r,s,a){var l=xn();Wl(r,s,a,l)}function Wl(r,s,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rf(r))Mv(s,h);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,Sn(b,_))return zc(r,s,h,0),rt===null&&Bc(),!1}catch{}finally{}if(a=Wd(r,s,h,l),a!==null)return Dn(a,r,l),Vv(a,s,l),!0}return!1}function Nm(r,s,a,l){if(l={lane:2,revertLane:cp(),action:l,hasEagerState:!1,eagerState:null,next:null},rf(r)){if(s)throw Error(i(479))}else s=Wd(r,a,l,2),s!==null&&Dn(s,r,2)}function rf(r){var s=r.alternate;return r===xe||s!==null&&s===xe}function Mv(r,s){oo=Wc=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Vv(r,s,a){if((a&4194048)!==0){var l=s.lanes;l&=r.pendingLanes,a|=l,s.lanes=a,vl(r,a)}}var sf={readContext:tn,use:Jc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Lv={readContext:tn,use:Jc,useCallback:function(r,s){return gn().memoizedState=[r,s===void 0?null:s],r},useContext:tn,useEffect:_v,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,nf(4194308,4,Sv.bind(null,s,r),a)},useLayoutEffect:function(r,s){return nf(4194308,4,r,s)},useInsertionEffect:function(r,s){nf(4,2,r,s)},useMemo:function(r,s){var a=gn();s=s===void 0?null:s;var l=r();if(ia){En(!0);try{r()}finally{En(!1)}}return a.memoizedState=[l,s],l},useReducer:function(r,s,a){var l=gn();if(a!==void 0){var h=a(s);if(ia){En(!0);try{a(s)}finally{En(!1)}}}else h=s;return l.memoizedState=l.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},l.queue=r,r=r.dispatch=S1.bind(null,xe,r),[l.memoizedState,r]},useRef:function(r){var s=gn();return r={current:r},s.memoizedState=r},useState:function(r){r=Rm(r);var s=r.queue,a=Pv.bind(null,xe,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:Im,useDeferredValue:function(r,s){var a=gn();return xm(a,r,s)},useTransition:function(){var r=Rm(!1);return r=xv.bind(null,xe,r.queue,!0,!1),gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var l=xe,h=gn();if(Fe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),rt===null)throw Error(i(349));(Be&124)!==0||iv(l,s,a)}h.memoizedState=a;var d={value:a,getSnapshot:s};return h.queue=d,_v(av.bind(null,l,d,r),[r]),l.flags|=2048,uo(9,tf(),sv.bind(null,l,d,a,s),null),a},useId:function(){var r=gn(),s=rt.identifierPrefix;if(Fe){var a=ei,l=Jr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Zc++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=w1++,s="«"+s+"r"+a.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Om,useFormState:pv,useActionState:pv,useOptimistic:function(r){var s=gn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nm.bind(null,xe,!0,a),a.dispatch=s,[r,s]},useMemoCache:Tm,useCacheRefresh:function(){return gn().memoizedState=T1.bind(null,xe)}},Uv={readContext:tn,use:Jc,useCallback:Rv,useContext:tn,useEffect:bv,useImperativeHandle:Av,useInsertionEffect:Ev,useLayoutEffect:Tv,useMemo:Cv,useReducer:ef,useRef:vv,useState:function(){return ef(ri)},useDebugValue:Im,useDeferredValue:function(r,s){var a=At();return Iv(a,Ze.memoizedState,r,s)},useTransition:function(){var r=ef(ri)[0],s=At().memoizedState;return[typeof r=="boolean"?r:Yl(r),s]},useSyncExternalStore:rv,useId:Nv,useHostTransitionStatus:Om,useFormState:gv,useActionState:gv,useOptimistic:function(r,s){var a=At();return uv(a,Ze,r,s)},useMemoCache:Tm,useCacheRefresh:kv},A1={readContext:tn,use:Jc,useCallback:Rv,useContext:tn,useEffect:bv,useImperativeHandle:Av,useInsertionEffect:Ev,useLayoutEffect:Tv,useMemo:Cv,useReducer:Am,useRef:vv,useState:function(){return Am(ri)},useDebugValue:Im,useDeferredValue:function(r,s){var a=At();return Ze===null?xm(a,r,s):Iv(a,Ze.memoizedState,r,s)},useTransition:function(){var r=Am(ri)[0],s=At().memoizedState;return[typeof r=="boolean"?r:Yl(r),s]},useSyncExternalStore:rv,useId:Nv,useHostTransitionStatus:Om,useFormState:wv,useActionState:wv,useOptimistic:function(r,s){var a=At();return Ze!==null?uv(a,Ze,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:kv},co=null,Zl=0;function af(r){var s=Zl;return Zl+=1,co===null&&(co=[]),Yw(co,r,s)}function Jl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function of(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Bv(r){var s=r._init;return s(r._payload)}function zv(r){function s(M,N){if(r){var z=M.deletions;z===null?(M.deletions=[N],M.flags|=16):z.push(N)}}function a(M,N){if(!r)return null;for(;N!==null;)s(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Zr(M,N),M.index=0,M.sibling=null,M}function d(M,N,z){return M.index=z,r?(z=M.alternate,z!==null?(z=z.index,z<N?(M.flags|=67108866,N):z):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function _(M){return r&&M.alternate===null&&(M.flags|=67108866),M}function b(M,N,z,J){return N===null||N.tag!==6?(N=Jd(z,M.mode,J),N.return=M,N):(N=h(N,z),N.return=M,N)}function C(M,N,z,J){var me=z.type;return me===V?Z(M,N,z.props.children,J,z.key):N!==null&&(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Bv(me)===N.type)?(N=h(N,z.props),Jl(N,z),N.return=M,N):(N=qc(z.type,z.key,z.props,null,M.mode,J),Jl(N,z),N.return=M,N)}function j(M,N,z,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=em(z,M.mode,J),N.return=M,N):(N=h(N,z.children||[]),N.return=M,N)}function Z(M,N,z,J,me){return N===null||N.tag!==7?(N=Xs(z,M.mode,J,me),N.return=M,N):(N=h(N,z),N.return=M,N)}function te(M,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Jd(""+N,M.mode,z),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return z=qc(N.type,N.key,N.props,null,M.mode,z),Jl(z,N),z.return=M,z;case O:return N=em(N,M.mode,z),N.return=M,N;case A:var J=N._init;return N=J(N._payload),te(M,N,z)}if(ht(N)||L(N))return N=Xs(N,M.mode,z,null),N.return=M,N;if(typeof N.then=="function")return te(M,af(N),z);if(N.$$typeof===X)return te(M,$c(M,N),z);of(M,N)}return null}function H(M,N,z,J){var me=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:b(M,N,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===me?C(M,N,z,J):null;case O:return z.key===me?j(M,N,z,J):null;case A:return me=z._init,z=me(z._payload),H(M,N,z,J)}if(ht(z)||L(z))return me!==null?null:Z(M,N,z,J,null);if(typeof z.then=="function")return H(M,N,af(z),J);if(z.$$typeof===X)return H(M,N,$c(M,z),J);of(M,z)}return null}function F(M,N,z,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return M=M.get(z)||null,b(N,M,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return M=M.get(J.key===null?z:J.key)||null,C(N,M,J,me);case O:return M=M.get(J.key===null?z:J.key)||null,j(N,M,J,me);case A:var Oe=J._init;return J=Oe(J._payload),F(M,N,z,J,me)}if(ht(J)||L(J))return M=M.get(z)||null,Z(N,M,J,me,null);if(typeof J.then=="function")return F(M,N,z,af(J),me);if(J.$$typeof===X)return F(M,N,z,$c(N,J),me);of(N,J)}return null}function Te(M,N,z,J){for(var me=null,Oe=null,pe=N,be=N=0,jt=null;pe!==null&&be<z.length;be++){pe.index>be?(jt=pe,pe=null):jt=pe.sibling;var je=H(M,pe,z[be],J);if(je===null){pe===null&&(pe=jt);break}r&&pe&&je.alternate===null&&s(M,pe),N=d(je,N,be),Oe===null?me=je:Oe.sibling=je,Oe=je,pe=jt}if(be===z.length)return a(M,pe),Fe&&Zs(M,be),me;if(pe===null){for(;be<z.length;be++)pe=te(M,z[be],J),pe!==null&&(N=d(pe,N,be),Oe===null?me=pe:Oe.sibling=pe,Oe=pe);return Fe&&Zs(M,be),me}for(pe=l(pe);be<z.length;be++)jt=F(pe,M,be,z[be],J),jt!==null&&(r&&jt.alternate!==null&&pe.delete(jt.key===null?be:jt.key),N=d(jt,N,be),Oe===null?me=jt:Oe.sibling=jt,Oe=jt);return r&&pe.forEach(function(es){return s(M,es)}),Fe&&Zs(M,be),me}function _e(M,N,z,J){if(z==null)throw Error(i(151));for(var me=null,Oe=null,pe=N,be=N=0,jt=null,je=z.next();pe!==null&&!je.done;be++,je=z.next()){pe.index>be?(jt=pe,pe=null):jt=pe.sibling;var es=H(M,pe,je.value,J);if(es===null){pe===null&&(pe=jt);break}r&&pe&&es.alternate===null&&s(M,pe),N=d(es,N,be),Oe===null?me=es:Oe.sibling=es,Oe=es,pe=jt}if(je.done)return a(M,pe),Fe&&Zs(M,be),me;if(pe===null){for(;!je.done;be++,je=z.next())je=te(M,je.value,J),je!==null&&(N=d(je,N,be),Oe===null?me=je:Oe.sibling=je,Oe=je);return Fe&&Zs(M,be),me}for(pe=l(pe);!je.done;be++,je=z.next())je=F(pe,M,be,je.value,J),je!==null&&(r&&je.alternate!==null&&pe.delete(je.key===null?be:je.key),N=d(je,N,be),Oe===null?me=je:Oe.sibling=je,Oe=je);return r&&pe.forEach(function(RR){return s(M,RR)}),Fe&&Zs(M,be),me}function et(M,N,z,J){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var me=z.key;N!==null;){if(N.key===me){if(me=z.type,me===V){if(N.tag===7){a(M,N.sibling),J=h(N,z.props.children),J.return=M,M=J;break e}}else if(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Bv(me)===N.type){a(M,N.sibling),J=h(N,z.props),Jl(J,z),J.return=M,M=J;break e}a(M,N);break}else s(M,N);N=N.sibling}z.type===V?(J=Xs(z.props.children,M.mode,J,z.key),J.return=M,M=J):(J=qc(z.type,z.key,z.props,null,M.mode,J),Jl(J,z),J.return=M,M=J)}return _(M);case O:e:{for(me=z.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(M,N.sibling),J=h(N,z.children||[]),J.return=M,M=J;break e}else{a(M,N);break}else s(M,N);N=N.sibling}J=em(z,M.mode,J),J.return=M,M=J}return _(M);case A:return me=z._init,z=me(z._payload),et(M,N,z,J)}if(ht(z))return Te(M,N,z,J);if(L(z)){if(me=L(z),typeof me!="function")throw Error(i(150));return z=me.call(z),_e(M,N,z,J)}if(typeof z.then=="function")return et(M,N,af(z),J);if(z.$$typeof===X)return et(M,N,$c(M,z),J);of(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(M,N.sibling),J=h(N,z),J.return=M,M=J):(a(M,N),J=Jd(z,M.mode,J),J.return=M,M=J),_(M)):a(M,N)}return function(M,N,z,J){try{Zl=0;var me=et(M,N,z,J);return co=null,me}catch(pe){if(pe===Hl||pe===Qc)throw pe;var Oe=An(29,pe,null,M.mode);return Oe.lanes=J,Oe.return=M,Oe}finally{}}}var fo=zv(!0),jv=zv(!1),Kn=re(null),br=null;function Bi(r){var s=r.alternate;oe(Pt,Pt.current&1),oe(Kn,r),br===null&&(s===null||ao.current!==null||s.memoizedState!==null)&&(br=r)}function qv(r){if(r.tag===22){if(oe(Pt,Pt.current),oe(Kn,r),br===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(br=r)}}else zi()}function zi(){oe(Pt,Pt.current),oe(Kn,Kn.current)}function ii(r){ce(Kn),br===r&&(br=null),ce(Pt)}var Pt=re(0);function lf(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ep(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function km(r,s,a,l){s=r.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Pm={enqueueSetState:function(r,s,a){r=r._reactInternals;var l=xn(),h=Vi(l);h.payload=s,a!=null&&(h.callback=a),s=Li(r,h,l),s!==null&&(Dn(s,r,l),Gl(s,r,l))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var l=xn(),h=Vi(l);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Li(r,h,l),s!==null&&(Dn(s,r,l),Gl(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=xn(),l=Vi(a);l.tag=2,s!=null&&(l.callback=s),s=Li(r,l,a),s!==null&&(Dn(s,r,a),Gl(s,r,a))}};function Hv(r,s,a,l,h,d,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Ml(a,l)||!Ml(h,d):!0}function Fv(r,s,a,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==r&&Pm.enqueueReplaceState(s,s.state,null)}function sa(r,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(r=r.defaultProps){a===s&&(a=v({},a));for(var h in r)a[h]===void 0&&(a[h]=r[h])}return a}var uf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Gv(r){uf(r)}function $v(r){console.error(r)}function Kv(r){uf(r)}function cf(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Qv(r,s,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mm(r,s,a){return a=Vi(a),a.tag=3,a.payload={element:null},a.callback=function(){cf(r,s)},a}function Yv(r){return r=Vi(r),r.tag=3,r}function Xv(r,s,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;r.payload=function(){return h(d)},r.callback=function(){Qv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){Qv(s,a,l),typeof h!="function"&&($i===null?$i=new Set([this]):$i.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function R1(r,s,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&zl(s,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return br===null?sp():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===cm?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),op(r,l,h)),!1;case 22:return a.flags|=65536,l===cm?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),op(r,l,h)),!1}throw Error(i(435,a.tag))}return op(r,l,h),sp(),!1}if(Fe)return s=Kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==rm&&(r=Error(i(422),{cause:l}),Bl(Hn(r,a)))):(l!==rm&&(s=Error(i(423),{cause:l}),Bl(Hn(s,a))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,l=Hn(l,a),h=Mm(r.stateNode,l,h),dm(r,h),pt!==4&&(pt=2)),!1;var d=Error(i(520),{cause:l});if(d=Hn(d,a),au===null?au=[d]:au.push(d),pt!==4&&(pt=2),s===null)return!0;l=Hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=h&-h,a.lanes|=r,r=Mm(a.stateNode,l,r),dm(a,r),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($i===null||!$i.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yv(h),Xv(h,r,a,l),dm(a,h),!1}a=a.return}while(a!==null);return!1}var Wv=Error(i(461)),Bt=!1;function Kt(r,s,a,l){s.child=r===null?jv(s,null,a,l):fo(s,r.child,a,l)}function Zv(r,s,a,l,h){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return na(s),l=wm(r,s,a,_,d,h),b=vm(),r!==null&&!Bt?(_m(r,s,h),si(r,s,h)):(Fe&&b&&tm(s),s.flags|=1,Kt(r,s,l,h),s.child)}function Jv(r,s,a,l,h){if(r===null){var d=a.type;return typeof d=="function"&&!Zd(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,e_(r,s,d,l,h)):(r=qc(a.type,null,l,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(d=r.child,!Hm(r,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(_,l)&&r.ref===s.ref)return si(r,s,h)}return s.flags|=1,r=Zr(d,l),r.ref=s.ref,r.return=s,s.child=r}function e_(r,s,a,l,h){if(r!==null){var d=r.memoizedProps;if(Ml(d,l)&&r.ref===s.ref)if(Bt=!1,s.pendingProps=l=d,Hm(r,h))(r.flags&131072)!==0&&(Bt=!0);else return s.lanes=r.lanes,si(r,s,h)}return Vm(r,s,a,l,h)}function t_(r,s,a){var l=s.pendingProps,h=l.children,d=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,r!==null){for(h=s.child=r.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return n_(r,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Kc(s,d!==null?d.cachePool:null),d!==null?ev(s,d):pm(),qv(s);else return s.lanes=s.childLanes=536870912,n_(r,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(Kc(s,d.cachePool),ev(s,d),zi(),s.memoizedState=null):(r!==null&&Kc(s,null),pm(),zi());return Kt(r,s,h,a),s.child}function n_(r,s,a,l){var h=um();return h=h===null?null:{parent:kt._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},r!==null&&Kc(s,null),pm(),qv(s),r!==null&&zl(r,s,l,!0),null}function ff(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function Vm(r,s,a,l,h){return na(s),a=wm(r,s,a,l,void 0,h),l=vm(),r!==null&&!Bt?(_m(r,s,h),si(r,s,h)):(Fe&&l&&tm(s),s.flags|=1,Kt(r,s,a,h),s.child)}function r_(r,s,a,l,h,d){return na(s),s.updateQueue=null,a=nv(s,l,a,h),tv(r),l=vm(),r!==null&&!Bt?(_m(r,s,d),si(r,s,d)):(Fe&&l&&tm(s),s.flags|=1,Kt(r,s,a,d),s.child)}function i_(r,s,a,l,h){if(na(s),s.stateNode===null){var d=to,_=a.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},fm(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?tn(_):to,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(km(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Pm.enqueueReplaceState(d,d.state,null),Kl(s,l,d,h),$l(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){d=s.stateNode;var b=s.memoizedProps,C=sa(a,b);d.props=C;var j=d.context,Z=a.contextType;_=to,typeof Z=="object"&&Z!==null&&(_=tn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||j!==_)&&Fv(s,d,l,_),Mi=!1;var H=s.memoizedState;d.state=H,Kl(s,l,d,h),$l(),j=s.memoizedState,b||H!==j||Mi?(typeof te=="function"&&(km(s,a,te,l),j=s.memoizedState),(C=Mi||Hv(s,a,C,l,H,j,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=j),d.props=l,d.state=j,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,hm(r,s),_=s.memoizedProps,Z=sa(a,_),d.props=Z,te=s.pendingProps,H=d.context,j=a.contextType,C=to,typeof j=="object"&&j!==null&&(C=tn(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||H!==C)&&Fv(s,d,l,C),Mi=!1,H=s.memoizedState,d.state=H,Kl(s,l,d,h),$l();var F=s.memoizedState;_!==te||H!==F||Mi||r!==null&&r.dependencies!==null&&Gc(r.dependencies)?(typeof b=="function"&&(km(s,a,b,l),F=s.memoizedState),(Z=Mi||Hv(s,a,Z,l,H,F,C)||r!==null&&r.dependencies!==null&&Gc(r.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=F),d.props=l,d.state=F,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),l=!1)}return d=l,ff(r,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,r!==null&&l?(s.child=fo(s,r.child,null,h),s.child=fo(s,null,a,h)):Kt(r,s,a,h),s.memoizedState=d.state,r=s.child):r=si(r,s,h),r}function s_(r,s,a,l){return Ul(),s.flags|=256,Kt(r,s,a,l),s.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(r){return{baseLanes:r,cachePool:$w()}}function Bm(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=Qn),r}function a_(r,s,a){var l=s.pendingProps,h=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=r!==null&&r.memoizedState===null?!1:(Pt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(Fe){if(h?Bi(s):zi(),Fe){var b=mt,C;if(C=b){e:{for(C=b,b=_r;C.nodeType!==8;){if(!b){b=null;break e}if(C=rr(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(s.memoizedState={dehydrated:b,treeContext:Ws!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},C=An(18,null,null,0),C.stateNode=b,C.return=s,s.child=C,hn=s,mt=null,C=!0):C=!1}C||ea(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Ep(b)?s.lanes=32:s.lanes=536870912,null;ii(s)}return b=l.children,l=l.fallback,h?(zi(),h=s.mode,b=hf({mode:"hidden",children:b},h),l=Xs(l,h,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,h=s.child,h.memoizedState=Um(a),h.childLanes=Bm(r,_,a),s.memoizedState=Lm,l):(Bi(s),zm(s,b))}if(C=r.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)s.flags&256?(Bi(s),s.flags&=-257,s=jm(r,s,a)):s.memoizedState!==null?(zi(),s.child=r.child,s.flags|=128,s=null):(zi(),h=l.fallback,b=s.mode,l=hf({mode:"visible",children:l.children},b),h=Xs(h,b,a,null),h.flags|=2,l.return=s,h.return=s,l.sibling=h,s.child=l,fo(s,r.child,null,a),l=s.child,l.memoizedState=Um(a),l.childLanes=Bm(r,_,a),s.memoizedState=Lm,s=h);else if(Bi(s),Ep(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(i(419)),l.stack="",l.digest=_,Bl({value:l,source:null,stack:null}),s=jm(r,s,a)}else if(Bt||zl(r,s,a,!1),_=(a&r.childLanes)!==0,Bt||_){if(_=rt,_!==null&&(l=a&-a,l=(l&42)!==0?1:Ci(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,eo(r,l),Dn(_,r,l),Wv;b.data==="$?"||sp(),s=jm(r,s,a)}else b.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=C.treeContext,mt=rr(b.nextSibling),hn=s,Fe=!0,Js=null,_r=!1,r!==null&&(Gn[$n++]=Jr,Gn[$n++]=ei,Gn[$n++]=Ws,Jr=r.id,ei=r.overflow,Ws=s),s=zm(s,l.children),s.flags|=4096);return s}return h?(zi(),h=l.fallback,b=s.mode,C=r.child,j=C.sibling,l=Zr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=Zr(j,h):(h=Xs(h,b,a,null),h.flags|=2),h.return=s,l.return=s,l.sibling=h,s.child=l,l=h,h=s.child,b=r.child.memoizedState,b===null?b=Um(a):(C=b.cachePool,C!==null?(j=kt._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=$w(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=Bm(r,_,a),s.memoizedState=Lm,l):(Bi(s),a=r.child,r=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=a,s.memoizedState=null,a)}function zm(r,s){return s=hf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function hf(r,s){return r=An(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function jm(r,s,a){return fo(s,r.child,null,a),r=zm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function o_(r,s,a){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),sm(r.return,s,a)}function qm(r,s,a,l,h){var d=r.memoizedState;d===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function l_(r,s,a){var l=s.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(r,s,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&o_(r,a,s);else if(r.tag===19)o_(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(oe(Pt,l),h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&lf(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),qm(s,!1,h,a,d);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&lf(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}qm(s,!0,a,null,d);break;case"together":qm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function si(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Gi|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(zl(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=Zr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Zr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Hm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Gc(r)))}function C1(r,s,a){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),Pi(s,kt,r.memoizedState.cache),Ul();break;case 27:case 5:Ri(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:Pi(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Bi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?a_(r,s,a):(Bi(s),r=si(r,s,a),r!==null?r.sibling:null);Bi(s);break;case 19:var h=(r.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(zl(r,s,a,!1),l=(a&s.childLanes)!==0),h){if(l)return l_(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Pt,Pt.current),l)break;return null;case 22:case 23:return s.lanes=0,t_(r,s,a);case 24:Pi(s,kt,r.memoizedState.cache)}return si(r,s,a)}function u_(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bt=!0;else{if(!Hm(r,a)&&(s.flags&128)===0)return Bt=!1,C1(r,s,a);Bt=(r.flags&131072)!==0}else Bt=!1,Fe&&(s.flags&1048576)!==0&&Bw(s,Fc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var l=s.elementType,h=l._init;if(l=h(l._payload),s.type=l,typeof l=="function")Zd(l)?(r=sa(l,r),s.tag=1,s=i_(null,s,l,r,a)):(s.tag=0,s=Vm(null,s,l,r,a));else{if(l!=null){if(h=l.$$typeof,h===ae){s.tag=11,s=Zv(null,s,l,r,a);break e}else if(h===x){s.tag=14,s=Jv(null,s,l,r,a);break e}}throw s=Ft(l)||l,Error(i(306,s,""))}}return s;case 0:return Vm(r,s,s.type,s.pendingProps,a);case 1:return l=s.type,h=sa(l,s.pendingProps),i_(r,s,l,h,a);case 3:e:{if(nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));l=s.pendingProps;var d=s.memoizedState;h=d.element,hm(r,s),Kl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Pi(s,kt,l),l!==d.cache&&am(s,[kt],a,!0),$l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=s_(r,s,l,a);break e}else if(l!==h){h=Hn(Error(i(424)),s),Bl(h),s=s_(r,s,l,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=rr(r.firstChild),hn=s,Fe=!0,Js=null,_r=!0,a=jv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ul(),l===h){s=si(r,s,a);break e}Kt(r,s,l,a)}s=s.child}return s;case 26:return ff(r,s),r===null?(a=d0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Fe||(a=s.type,r=s.pendingProps,l=Rf(Ae.current).createElement(a),l[Dt]=s,l[Et]=r,Yt(l,a,r),gt(l),s.stateNode=l):s.memoizedState=d0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ri(s),r===null&&Fe&&(l=s.stateNode=c0(s.type,s.pendingProps,Ae.current),hn=s,_r=!0,h=mt,Yi(s.type)?(Tp=h,mt=rr(l.firstChild)):mt=h),Kt(r,s,s.pendingProps.children,a),ff(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Fe&&((h=l=mt)&&(l=tR(l,s.type,s.pendingProps,_r),l!==null?(s.stateNode=l,hn=s,mt=rr(l.firstChild),_r=!1,h=!0):h=!1),h||ea(s)),Ri(s),h=s.type,d=s.pendingProps,_=r!==null?r.memoizedProps:null,l=d.children,vp(h,d)?l=null:_!==null&&vp(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=wm(r,s,v1,null,null,a),pu._currentValue=h),ff(r,s),Kt(r,s,l,a),s.child;case 6:return r===null&&Fe&&((r=a=mt)&&(a=nR(a,s.pendingProps,_r),a!==null?(s.stateNode=a,hn=s,mt=null,r=!0):r=!1),r||ea(s)),null;case 13:return a_(r,s,a);case 4:return nt(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=fo(s,null,l,a):Kt(r,s,l,a),s.child;case 11:return Zv(r,s,s.type,s.pendingProps,a);case 7:return Kt(r,s,s.pendingProps,a),s.child;case 8:return Kt(r,s,s.pendingProps.children,a),s.child;case 12:return Kt(r,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Pi(s,s.type,l.value),Kt(r,s,l.children,a),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,na(s),h=tn(h),l=l(h),s.flags|=1,Kt(r,s,l,a),s.child;case 14:return Jv(r,s,s.type,s.pendingProps,a);case 15:return e_(r,s,s.type,s.pendingProps,a);case 19:return l_(r,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},r===null?(a=hf(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Zr(r.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return t_(r,s,a);case 24:return na(s),l=tn(kt),r===null?(h=um(),h===null&&(h=rt,d=om(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),s.memoizedState={parent:l,cache:h},fm(s),Pi(s,kt,h)):((r.lanes&a)!==0&&(hm(r,s),Kl(s,null,null,a),$l()),h=r.memoizedState,d=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Pi(s,kt,l)):(l=d.cache,Pi(s,kt,l),l!==h.cache&&am(s,[kt],a,!0))),Kt(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ai(r){r.flags|=4}function c_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!w0(s)){if(s=Kn.current,s!==null&&((Be&4194048)===Be?br!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==br))throw Fl=cm,Kw;r.flags|=8192}}function df(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?yl():536870912,r.lanes|=s,go|=s)}function eu(r,s){if(!Fe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=l,r.childLanes=a,s}function I1(r,s,a){var l=s.pendingProps;switch(nm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return a=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ni(kt),lr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Ll(s)?ai(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qw())),ut(s),null;case 26:return a=s.memoizedState,r===null?(ai(s),a!==null?(ut(s),c_(s,a)):(ut(s),s.flags&=-16777217)):a?a!==r.memoizedState?(ai(s),ut(s),c_(s,a)):(ut(s),s.flags&=-16777217):(r.memoizedProps!==l&&ai(s),ut(s),s.flags&=-16777217),null;case 27:Br(s),a=Ae.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}r=we.current,Ll(s)?zw(s):(r=c0(h,l,a),s.stateNode=r,ai(s))}return ut(s),null;case 5:if(Br(s),a=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&ai(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return ut(s),null}if(r=we.current,Ll(s))zw(s);else{switch(h=Rf(Ae.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}r[Dt]=s,r[Et]=l;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Yt(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ai(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&ai(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,Ll(s)){if(r=s.stateNode,a=s.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}r[Dt]=s,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||r0(r.nodeValue,a)),r||ea(s)}else r=Rf(r).createTextNode(l),r[Dt]=s,s.stateNode=r}return ut(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Ll(s),l!==null&&l.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Dt]=s}else Ul(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),h=!1}else h=qw(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(ii(s),s):(ii(s),null)}if(ii(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==r&&a&&(s.child.flags|=8192),df(s,s.updateQueue),ut(s),null;case 4:return lr(),r===null&&mp(s.stateNode.containerInfo),ut(s),null;case 10:return ni(s.type),ut(s),null;case 19:if(ce(Pt),h=s.memoizedState,h===null)return ut(s),null;if(l=(s.flags&128)!==0,d=h.rendering,d===null)if(l)eu(h,!1);else{if(pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(d=lf(r),d!==null){for(s.flags|=128,eu(h,!1),r=d.updateQueue,s.updateQueue=r,df(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Uw(a,r),a=a.sibling;return oe(Pt,Pt.current&1|2),s.child}r=r.sibling}h.tail!==null&&Ln()>gf&&(s.flags|=128,l=!0,eu(h,!1),s.lanes=4194304)}else{if(!l)if(r=lf(d),r!==null){if(s.flags|=128,l=!0,r=r.updateQueue,s.updateQueue=r,df(s,r),eu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(s),null}else 2*Ln()-h.renderingStartTime>gf&&a!==536870912&&(s.flags|=128,l=!0,eu(h,!1),s.lanes=4194304);h.isBackwards?(d.sibling=s.child,s.child=d):(r=h.last,r!==null?r.sibling=d:s.child=d,h.last=d)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Ln(),s.sibling=null,r=Pt.current,oe(Pt,l?r&1|2:r&1),s):(ut(s),null);case 22:case 23:return ii(s),gm(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),a=s.updateQueue,a!==null&&df(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),r!==null&&ce(ra),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ni(kt),ut(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function x1(r,s){switch(nm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ni(kt),lr(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Br(s),null;case 13:if(ii(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ul()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(Pt),null;case 4:return lr(),null;case 10:return ni(s.type),null;case 22:case 23:return ii(s),gm(),r!==null&&ce(ra),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ni(kt),null;case 25:return null;default:return null}}function f_(r,s){switch(nm(s),s.tag){case 3:ni(kt),lr();break;case 26:case 27:case 5:Br(s);break;case 4:lr();break;case 13:ii(s);break;case 19:ce(Pt);break;case 10:ni(s.type);break;case 22:case 23:ii(s),gm(),r!==null&&ce(ra);break;case 24:ni(kt)}}function tu(r,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&r)===r){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){tt(s,s.return,b)}}function ji(r,s,a){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&r)===r){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=s;var C=a,j=b;try{j()}catch(Z){tt(h,C,Z)}}}l=l.next}while(l!==d)}}catch(Z){tt(s,s.return,Z)}}function h_(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{Jw(s,a)}catch(l){tt(r,r.return,l)}}}function d_(r,s,a){a.props=sa(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){tt(r,s,l)}}function nu(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(h){tt(r,s,h)}}function Er(r,s){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(r,s,h)}else a.current=null}function m_(r){var s=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(r,r.return,h)}}function Fm(r,s,a){try{var l=r.stateNode;X1(l,r.type,a,s),l[Et]=s}catch(h){tt(r,r.return,h)}}function p_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Yi(r.type)||r.tag===4}function Gm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||p_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Yi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $m(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Af));else if(l!==4&&(l===27&&Yi(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for($m(r,s,a),r=r.sibling;r!==null;)$m(r,s,a),r=r.sibling}function mf(r,s,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(l!==4&&(l===27&&Yi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(mf(r,s,a),r=r.sibling;r!==null;)mf(r,s,a),r=r.sibling}function g_(r){var s=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Yt(s,l,a),s[Dt]=r,s[Et]=a}catch(d){tt(r,r.return,d)}}var oi=!1,wt=!1,Km=!1,y_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function D1(r,s){if(r=r.containerInfo,yp=Nf,r=Iw(r),Gd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,C=-1,j=0,Z=0,te=r,H=null;t:for(;;){for(var F;te!==a||h!==0&&te.nodeType!==3||(b=_+h),te!==d||l!==0&&te.nodeType!==3||(C=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(F=te.firstChild)!==null;)H=te,te=F;for(;;){if(te===r)break t;if(H===a&&++j===h&&(b=_),H===d&&++Z===l&&(C=_),(F=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=F}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(wp={focusedElem:r,selectionRange:a},Nf=!1,zt=s;zt!==null;)if(s=zt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,zt=r;else for(;zt!==null;){switch(s=zt,d=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&d!==null){r=void 0,a=s,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=sa(a.type,h,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=r}catch(_e){tt(a,a.return,_e)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)bp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":bp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,zt=r;break}zt=s.return}}function w_(r,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(r,a),l&4&&tu(5,a);break;case 1:if(qi(r,a),l&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(_){tt(a,a.return,_)}else{var h=sa(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&h_(a),l&512&&nu(a,a.return);break;case 3:if(qi(r,a),l&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Jw(r,s)}catch(_){tt(a,a.return,_)}}break;case 27:s===null&&l&4&&g_(a);case 26:case 5:qi(r,a),s===null&&l&4&&m_(a),l&512&&nu(a,a.return);break;case 12:qi(r,a);break;case 13:qi(r,a),l&4&&b_(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=B1.bind(null,a),rR(r,a))));break;case 22:if(l=a.memoizedState!==null||oi,!l){s=s!==null&&s.memoizedState!==null||wt,h=oi;var d=wt;oi=l,(wt=s)&&!d?Hi(r,a,(a.subtreeFlags&8772)!==0):qi(r,a),oi=h,wt=d}break;case 30:break;default:qi(r,a)}}function v_(r){var s=r.alternate;s!==null&&(r.alternate=null,v_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Di(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var lt=null,yn=!1;function li(r,s,a){for(a=a.child;a!==null;)__(r,s,a),a=a.sibling}function __(r,s,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:wt||Er(a,s),li(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Er(a,s);var l=lt,h=yn;Yi(a.type)&&(lt=a.stateNode,yn=!1),li(r,s,a),fu(a.stateNode),lt=l,yn=h;break;case 5:wt||Er(a,s);case 6:if(l=lt,h=yn,lt=null,li(r,s,a),lt=l,yn=h,lt!==null)if(yn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){tt(a,s,d)}else try{lt.removeChild(a.stateNode)}catch(d){tt(a,s,d)}break;case 18:lt!==null&&(yn?(r=lt,l0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),vu(r)):l0(lt,a.stateNode));break;case 4:l=lt,h=yn,lt=a.stateNode.containerInfo,yn=!0,li(r,s,a),lt=l,yn=h;break;case 0:case 11:case 14:case 15:wt||ji(2,a,s),wt||ji(4,a,s),li(r,s,a);break;case 1:wt||(Er(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&d_(a,s,l)),li(r,s,a);break;case 21:li(r,s,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,li(r,s,a),wt=l;break;default:li(r,s,a)}}function b_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{vu(r)}catch(a){tt(s,s.return,a)}}function O1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new y_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new y_),s;default:throw Error(i(435,r.tag))}}function Qm(r,s){var a=O1(r);s.forEach(function(l){var h=z1.bind(null,r,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(r,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=r,_=s,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Yi(b.type)){lt=b.stateNode,yn=!1;break e}break;case 5:lt=b.stateNode,yn=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,yn=!0;break e}b=b.return}if(lt===null)throw Error(i(160));__(d,_,h),lt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)E_(s,r),s=s.sibling}var nr=null;function E_(r,s){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Rn(s,r),Cn(r),l&4&&(ji(3,r,r.return),tu(3,r),ji(5,r,r.return));break;case 1:Rn(s,r),Cn(r),l&512&&(wt||a===null||Er(a,a.return)),l&64&&oi&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=nr;if(Rn(s,r),Cn(r),l&512&&(wt||a===null||Er(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ps]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[Dt]=r,gt(d),l=d;break e;case"link":var _=g0("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=g0("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[Dt]=r,gt(d),l=d}r.stateNode=l}else y0(h,r.type,r.stateNode);else r.stateNode=p0(h,l,r.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?y0(h,r.type,r.stateNode):p0(h,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Fm(r,r.memoizedProps,a.memoizedProps)}break;case 27:Rn(s,r),Cn(r),l&512&&(wt||a===null||Er(a,a.return)),a!==null&&l&4&&Fm(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Rn(s,r),Cn(r),l&512&&(wt||a===null||Er(a,a.return)),r.flags&32){h=r.stateNode;try{Bn(h,"")}catch(F){tt(r,r.return,F)}}l&4&&r.stateNode!=null&&(h=r.memoizedProps,Fm(r,h,a!==null?a.memoizedProps:h)),l&1024&&(Km=!0);break;case 6:if(Rn(s,r),Cn(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(F){tt(r,r.return,F)}}break;case 3:if(xf=null,h=nr,nr=Cf(s.containerInfo),Rn(s,r),nr=h,Cn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{vu(s.containerInfo)}catch(F){tt(r,r.return,F)}Km&&(Km=!1,T_(r));break;case 4:l=nr,nr=Cf(r.stateNode.containerInfo),Rn(s,r),Cn(r),nr=l;break;case 12:Rn(s,r),Cn(r);break;case 13:Rn(s,r),Cn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ep=Ln()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Qm(r,l)));break;case 22:h=r.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=oi,Z=wt;if(oi=j||h,wt=Z||C,Rn(s,r),wt=Z,oi=j,Cn(r),l&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||C||oi||wt||aa(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=C.stateNode;var te=C.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){tt(C,C.return,F)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){tt(C,C.return,F)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qm(r,a))));break;case 19:Rn(s,r),Cn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Qm(r,l)));break;case 30:break;case 21:break;default:Rn(s,r),Cn(r)}}function Cn(r){var s=r.flags;if(s&2){try{for(var a,l=r.return;l!==null;){if(p_(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,d=Gm(r);mf(r,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Bn(_,""),a.flags&=-33);var b=Gm(r);mf(r,b,_);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Gm(r);$m(r,j,C);break;default:throw Error(i(161))}}catch(Z){tt(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function T_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;T_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function qi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)w_(r,s.alternate,s),s=s.sibling}function aa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ji(4,s,s.return),aa(s);break;case 1:Er(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&d_(s,s.return,a),aa(s);break;case 27:fu(s.stateNode);case 26:case 5:Er(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}r=r.sibling}}function Hi(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=r,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:Hi(h,d,a),tu(4,d);break;case 1:if(Hi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){tt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zw(C[h],b)}catch(j){tt(l,l.return,j)}}a&&_&64&&h_(d),nu(d,d.return);break;case 27:g_(d);case 26:case 5:Hi(h,d,a),a&&l===null&&_&4&&m_(d),nu(d,d.return);break;case 12:Hi(h,d,a);break;case 13:Hi(h,d,a),a&&_&4&&b_(h,d);break;case 22:d.memoizedState===null&&Hi(h,d,a),nu(d,d.return);break;case 30:break;default:Hi(h,d,a)}s=s.sibling}}function Ym(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&jl(a))}function Xm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&jl(r))}function Tr(r,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S_(r,s,a,l),s=s.sibling}function S_(r,s,a,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(r,s,a,l),h&2048&&tu(9,s);break;case 1:Tr(r,s,a,l);break;case 3:Tr(r,s,a,l),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&jl(r)));break;case 12:if(h&2048){Tr(r,s,a,l),r=s.stateNode;try{var d=s.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(C){tt(s,s.return,C)}}else Tr(r,s,a,l);break;case 13:Tr(r,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Tr(r,s,a,l):ru(r,s):d._visibility&2?Tr(r,s,a,l):(d._visibility|=2,ho(r,s,a,l,(s.subtreeFlags&10256)!==0)),h&2048&&Ym(_,s);break;case 24:Tr(r,s,a,l),h&2048&&Xm(s.alternate,s);break;default:Tr(r,s,a,l)}}function ho(r,s,a,l,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=r,_=s,b=a,C=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:ho(d,_,b,C,h),tu(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ho(d,_,b,C,h):ru(d,_):(Z._visibility|=2,ho(d,_,b,C,h)),h&&j&2048&&Ym(_.alternate,_);break;case 24:ho(d,_,b,C,h),h&&j&2048&&Xm(_.alternate,_);break;default:ho(d,_,b,C,h)}s=s.sibling}}function ru(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,l=s,h=l.flags;switch(l.tag){case 22:ru(a,l),h&2048&&Ym(l.alternate,l);break;case 24:ru(a,l),h&2048&&Xm(l.alternate,l);break;default:ru(a,l)}s=s.sibling}}var iu=8192;function mo(r){if(r.subtreeFlags&iu)for(r=r.child;r!==null;)A_(r),r=r.sibling}function A_(r){switch(r.tag){case 26:mo(r),r.flags&iu&&r.memoizedState!==null&&gR(nr,r.memoizedState,r.memoizedProps);break;case 5:mo(r);break;case 3:case 4:var s=nr;nr=Cf(r.stateNode.containerInfo),mo(r),nr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=iu,iu=16777216,mo(r),iu=s):mo(r));break;default:mo(r)}}function R_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function su(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,I_(l,r)}R_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C_(r),r=r.sibling}function C_(r){switch(r.tag){case 0:case 11:case 15:su(r),r.flags&2048&&ji(9,r,r.return);break;case 3:su(r);break;case 12:su(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,pf(r)):su(r);break;default:su(r)}}function pf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];zt=l,I_(l,r)}R_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ji(8,s,s.return),pf(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,pf(s));break;default:pf(s)}r=r.sibling}}function I_(r,s){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:ji(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=r;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(v_(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var N1={getCacheForType:function(r){var s=tn(kt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a}},k1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Ne=null,Be=0,Xe=0,In=null,Fi=!1,po=!1,Wm=!1,ui=0,pt=0,Gi=0,oa=0,Zm=0,Qn=0,go=0,au=null,wn=null,Jm=!1,ep=0,gf=1/0,yf=null,$i=null,Qt=0,Ki=null,yo=null,wo=0,tp=0,np=null,x_=null,ou=0,rp=null;function xn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(W.T!==null){var r=io;return r!==0?r:cp()}return Ii()}function D_(){Qn===0&&(Qn=(Be&536870912)===0||Fe?gl():536870912);var r=Kn.current;return r!==null&&(r.flags|=32),Qn}function Dn(r,s,a){(r===rt&&(Xe===2||Xe===9)||r.cancelPendingCommit!==null)&&(vo(r,0),Qi(r,Be,Qn,!1)),jr(r,a),((Ye&2)===0||r!==rt)&&(r===rt&&((Ye&2)===0&&(oa|=a),pt===4&&Qi(r,Be,Qn,!1)),Sr(r))}function O_(r,s,a){if((Ye&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&r.expiredLanes)===0||ks(r,s),h=l?V1(r,s):ap(r,s,!0),d=l;do{if(h===0){po&&!l&&Qi(r,s,0,!1);break}else{if(a=r.current.alternate,d&&!P1(a)){h=ap(r,s,!1),d=!1;continue}if(h===2){if(d=s,r.errorRecoveryDisabledLanes&d)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var b=r;h=au;var C=b.current.memoizedState.isDehydrated;if(C&&(vo(b,_).flags|=256),_=ap(b,_,!1),_!==2){if(Wm&&!C){b.errorRecoveryDisabledLanes|=d,oa|=d,h=4;break e}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){vo(r,0),Qi(r,s,0,!0);break}e:{switch(l=r,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Qi(l,s,Qn,!Fi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=ep+300-Ln(),10<h)){if(Qi(l,s,Qn,!Fi),Ma(l,0,!0)!==0)break e;l.timeoutHandle=a0(N_.bind(null,l,a,wn,yf,Jm,s,Qn,oa,go,Fi,d,2,-0,0),h);break e}N_(l,a,wn,yf,Jm,s,Qn,oa,go,Fi,d,0,-0,0)}}break}while(!0);Sr(r)}function N_(r,s,a,l,h,d,_,b,C,j,Z,te,H,F){if(r.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(mu={stylesheets:null,count:0,unsuspend:pR},A_(s),te=yR(),te!==null)){r.cancelPendingCommit=te(B_.bind(null,r,s,d,a,l,h,_,b,C,Z,1,H,F)),Qi(r,d,_,!j);return}B_(r,s,d,a,l,h,_,b,C)}function P1(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(r,s,a,l){s&=~Zm,s&=~oa,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var h=s;0<h;){var d=31-en(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ur(r,a,s)}function wf(){return(Ye&6)===0?(lu(0),!1):!0}function ip(){if(Ne!==null){if(Xe===0)var r=Ne.return;else r=Ne,ti=ta=null,bm(r),co=null,Zl=0,r=Ne;for(;r!==null;)f_(r.alternate,r),r=r.return;Ne=null}}function vo(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,Z1(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),ip(),rt=r,Ne=a=Zr(r.current,null),Be=s,Xe=0,In=null,Fi=!1,po=ks(r,s),Wm=!1,go=Qn=Zm=oa=Gi=pt=0,wn=au=null,Jm=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var h=31-en(l),d=1<<h;s|=r[h],l&=~d}return ui=s,Bc(),a}function k_(r,s){xe=null,W.H=sf,s===Hl||s===Qc?(s=Xw(),Xe=3):s===Kw?(s=Xw(),Xe=4):Xe=s===Wv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Ne===null&&(pt=1,cf(r,Hn(s,r.current)))}function P_(){var r=W.H;return W.H=sf,r===null?sf:r}function M_(){var r=W.A;return W.A=N1,r}function sp(){pt=4,Fi||(Be&4194048)!==Be&&Kn.current!==null||(po=!0),(Gi&134217727)===0&&(oa&134217727)===0||rt===null||Qi(rt,Be,Qn,!1)}function ap(r,s,a){var l=Ye;Ye|=2;var h=P_(),d=M_();(rt!==r||Be!==s)&&(yf=null,vo(r,s)),s=!1;var _=pt;e:do try{if(Xe!==0&&Ne!==null){var b=Ne,C=In;switch(Xe){case 8:ip(),_=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(s=!0);var j=Xe;if(Xe=0,In=null,_o(r,b,C,j),a&&po){_=0;break e}break;default:j=Xe,Xe=0,In=null,_o(r,b,C,j)}}M1(),_=pt;break}catch(Z){k_(r,Z)}while(!0);return s&&r.shellSuspendCounter++,ti=ta=null,Ye=l,W.H=h,W.A=d,Ne===null&&(rt=null,Be=0,Bc()),_}function M1(){for(;Ne!==null;)V_(Ne)}function V1(r,s){var a=Ye;Ye|=2;var l=P_(),h=M_();rt!==r||Be!==s?(yf=null,gf=Ln()+500,vo(r,s)):po=ks(r,s);e:do try{if(Xe!==0&&Ne!==null){s=Ne;var d=In;t:switch(Xe){case 1:Xe=0,In=null,_o(r,s,d,1);break;case 2:case 9:if(Qw(d)){Xe=0,In=null,L_(s);break}s=function(){Xe!==2&&Xe!==9||rt!==r||(Xe=7),Sr(r)},d.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Qw(d)?(Xe=0,In=null,L_(s)):(Xe=0,In=null,_o(r,s,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(!_||w0(_)){Xe=0,In=null;var C=b.sibling;if(C!==null)Ne=C;else{var j=b.return;j!==null?(Ne=j,vf(j)):Ne=null}break t}}Xe=0,In=null,_o(r,s,d,5);break;case 6:Xe=0,In=null,_o(r,s,d,6);break;case 8:ip(),pt=6;break e;default:throw Error(i(462))}}L1();break}catch(Z){k_(r,Z)}while(!0);return ti=ta=null,W.H=l,W.A=h,Ye=a,Ne!==null?0:(rt=null,Be=0,Bc(),pt)}function L1(){for(;Ne!==null&&!hl();)V_(Ne)}function V_(r){var s=u_(r.alternate,r,ui);r.memoizedProps=r.pendingProps,s===null?vf(r):Ne=s}function L_(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=r_(a,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=r_(a,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:bm(s);default:f_(a,s),s=Ne=Uw(s,ui),s=u_(a,s,ui)}r.memoizedProps=r.pendingProps,s===null?vf(r):Ne=s}function _o(r,s,a,l){ti=ta=null,bm(s),co=null,Zl=0;var h=s.return;try{if(R1(r,h,s,a,Be)){pt=1,cf(r,Hn(a,r.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;pt=1,cf(r,Hn(a,r.current)),Ne=null;return}s.flags&32768?(Fe||l===1?r=!0:po||(Be&536870912)!==0?r=!1:(Fi=r=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(s,r)):vf(s)}function vf(r){var s=r;do{if((s.flags&32768)!==0){U_(s,Fi);return}r=s.return;var a=I1(s.alternate,s,ui);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=r}while(s!==null);pt===0&&(pt=5)}function U_(r,s){do{var a=x1(r.alternate,r);if(a!==null){a.flags&=32767,Ne=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ne=r;return}Ne=r=a}while(r!==null);pt=6,Ne=null}function B_(r,s,a,l,h,d,_,b,C){r.cancelPendingCommit=null;do _f();while(Qt!==0);if((Ye&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(d=s.lanes|s.childLanes,d|=Xd,wl(r,a,d,_,b,C),r===rt&&(Ne=rt=null,Be=0),yo=s,Ki=r,wo=a,tp=d,np=h,x_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,j1(xs,function(){return F_(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ue.p,ue.p=2,_=Ye,Ye|=4;try{D1(r,s,a)}finally{Ye=_,ue.p=h,W.T=l}}Qt=1,z_(),j_(),q_()}}function z_(){if(Qt===1){Qt=0;var r=Ki,s=yo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{E_(s,r);var d=wp,_=Iw(r.containerInfo),b=d.focusedElem,C=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Cw(b.ownerDocument.documentElement,b)){if(C!==null&&Gd(b)){var j=C.start,Z=C.end;if(Z===void 0&&(Z=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=b.textContent.length,_e=Math.min(C.start,Te),et=C.end===void 0?_e:Math.min(C.end,Te);!F.extend&&_e>et&&(_=et,et=_e,_e=_);var M=Rw(b,_e),N=Rw(b,et);if(M&&N&&(F.rangeCount!==1||F.anchorNode!==M.node||F.anchorOffset!==M.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var z=te.createRange();z.setStart(M.node,M.offset),F.removeAllRanges(),_e>et?(F.addRange(z),F.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),F.addRange(z))}}}}for(te=[],F=b;F=F.parentNode;)F.nodeType===1&&te.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Nf=!!yp,wp=yp=null}finally{Ye=h,ue.p=l,W.T=a}}r.current=s,Qt=2}}function j_(){if(Qt===2){Qt=0;var r=Ki,s=yo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=Ye;Ye|=4;try{w_(r,s.alternate,s)}finally{Ye=h,ue.p=l,W.T=a}}Qt=3}}function q_(){if(Qt===4||Qt===3){Qt=0,mc();var r=Ki,s=yo,a=wo,l=x_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qt=5:(Qt=0,yo=Ki=null,H_(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&($i=null),Va(a),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(dt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var d=r.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{W.T=s,ue.p=h}}(wo&3)!==0&&_f(),Sr(r),h=r.pendingLanes,(a&4194090)!==0&&(h&42)!==0?r===rp?ou++:(ou=0,rp=r):ou=0,lu(0)}}function H_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,jl(s)))}function _f(r){return z_(),j_(),q_(),F_()}function F_(){if(Qt!==5)return!1;var r=Ki,s=tp;tp=0;var a=Va(wo),l=W.T,h=ue.p;try{ue.p=32>a?32:a,W.T=null,a=np,np=null;var d=Ki,_=wo;if(Qt=0,yo=Ki=null,wo=0,(Ye&6)!==0)throw Error(i(331));var b=Ye;if(Ye|=4,C_(d.current),S_(d,d.current,_,a),Ye=b,lu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{ue.p=h,W.T=l,H_(r,s)}}function G_(r,s,a){s=Hn(a,s),s=Mm(r.stateNode,s,2),r=Li(r,s,2),r!==null&&(jr(r,2),Sr(r))}function tt(r,s,a){if(r.tag===3)G_(r,r,a);else for(;s!==null;){if(s.tag===3){G_(s,r,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){r=Hn(a,r),a=Yv(2),l=Li(s,a,2),l!==null&&(Xv(a,l,s,r),jr(l,2),Sr(l));break}}s=s.return}}function op(r,s,a){var l=r.pingCache;if(l===null){l=r.pingCache=new k1;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(a)||(Wm=!0,h.add(a),r=U1.bind(null,r,s,a),s.then(r,r))}function U1(r,s,a){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,rt===r&&(Be&a)===a&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Ln()-ep?(Ye&2)===0&&vo(r,0):Zm|=a,go===Be&&(go=0)),Sr(r)}function $_(r,s){s===0&&(s=yl()),r=eo(r,s),r!==null&&(jr(r,s),Sr(r))}function B1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),$_(r,a)}function z1(r,s){var a=0;switch(r.tag){case 13:var l=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),$_(r,a)}function j1(r,s){return Cs(r,s)}var bf=null,bo=null,lp=!1,Ef=!1,up=!1,la=0;function Sr(r){r!==bo&&r.next===null&&(bo===null?bf=bo=r:bo=bo.next=r),Ef=!0,lp||(lp=!0,H1())}function lu(r,s){if(!up&&Ef){up=!0;do for(var a=!1,l=bf;l!==null;){if(r!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-en(42|r)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,X_(l,d))}else d=Be,d=Ma(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ks(l,d)||(a=!0,X_(l,d));l=l.next}while(a);up=!1}}function q1(){K_()}function K_(){Ef=lp=!1;var r=0;la!==0&&(W1()&&(r=la),la=0);for(var s=Ln(),a=null,l=bf;l!==null;){var h=l.next,d=Q_(l,s);d===0?(l.next=null,a===null?bf=h:a.next=h,h===null&&(bo=a)):(a=l,(r!==0||(d&3)!==0)&&(Ef=!0)),l=h}lu(r)}function Q_(r,s){for(var a=r.suspendedLanes,l=r.pingedLanes,h=r.expirationTimes,d=r.pendingLanes&-62914561;0<d;){var _=31-en(d),b=1<<_,C=h[_];C===-1?((b&a)===0||(b&l)!==0)&&(h[_]=pl(b,s)):C<=s&&(r.expiredLanes|=b),d&=~b}if(s=rt,a=Be,a=Ma(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===s&&(Xe===2||Xe===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Is(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||ks(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(l!==null&&Is(l),Va(a)){case 2:case 8:a=ka;break;case 32:a=xs;break;case 268435456:a=Pa;break;default:a=xs}return l=Y_.bind(null,r),a=Cs(a,l),r.callbackPriority=s,r.callbackNode=a,s}return l!==null&&l!==null&&Is(l),r.callbackPriority=2,r.callbackNode=null,2}function Y_(r,s){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(_f()&&r.callbackNode!==a)return null;var l=Be;return l=Ma(r,r===rt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(O_(r,l,s),Q_(r,Ln()),r.callbackNode!=null&&r.callbackNode===a?Y_.bind(null,r):null)}function X_(r,s){if(_f())return null;O_(r,s,!0)}function H1(){J1(function(){(Ye&6)!==0?Cs(dl,q1):K_()})}function cp(){return la===0&&(la=gl()),la}function W_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:qa(""+r)}function Z_(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function F1(r,s,a,l,h){if(s==="submit"&&a&&a.stateNode===h){var d=W_((h[Et]||null).action),_=l.submitter;_&&(s=(s=_[Et]||null)?W_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var b=new Ha("action","action",null,l,h);r.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var C=_?Z_(h,_):new FormData(h);Dm(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=_?Z_(h,_):new FormData(h),Dm(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var fp=0;fp<Yd.length;fp++){var hp=Yd[fp],G1=hp.toLowerCase(),$1=hp[0].toUpperCase()+hp.slice(1);tr(G1,"on"+$1)}tr(Ow,"onAnimationEnd"),tr(Nw,"onAnimationIteration"),tr(kw,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(u1,"onTransitionRun"),tr(c1,"onTransitionStart"),tr(f1,"onTransitionCancel"),tr(Pw,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function J_(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],h=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var b=l[_],C=b.instance,j=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=j;try{d(h)}catch(Z){uf(Z)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(b=l[_],C=b.instance,j=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=j;try{d(h)}catch(Z){uf(Z)}h.currentTarget=null,d=C}}}}function ke(r,s){var a=s[_l];a===void 0&&(a=s[_l]=new Set);var l=r+"__bubble";a.has(l)||(e0(s,r,2,!1),a.add(l))}function dp(r,s,a){var l=0;s&&(l|=4),e0(a,r,l,s)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function mp(r){if(!r[Tf]){r[Tf]=!0,bl.forEach(function(a){a!=="selectionchange"&&(K1.has(a)||dp(a,!1,r),dp(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Tf]||(s[Tf]=!0,dp("selectionchange",!1,s))}}function e0(r,s,a,l){switch(S0(s)){case 2:var h=_R;break;case 8:h=bR;break;default:h=Ip}a=h.bind(null,s,a,r),h=void 0,!jn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function pp(r,s,a,l,h){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=qr(b),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Sc(function(){var j=d,Z=zn(a),te=[];e:{var H=Mw.get(r);if(H!==void 0){var F=Ha,Te=r;switch(r){case"keypress":if(pr(a)===0)break e;case"keydown":case"keyup":F=Ya;break;case"focusin":Te="focus",F=$a;break;case"focusout":Te="blur",F=$a;break;case"beforeblur":case"afterblur":F=$a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Nc;break;case Ow:case Nw:case kw:F=Ka;break;case Pw:F=Pc;break;case"scroll":case"scrollend":F=Ac;break;case"wheel":F=Xa;break;case"copy":case"cut":case"paste":F=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=kl;break;case"toggle":case"beforetoggle":F=Vc}var _e=(s&4)!==0,et=!_e&&(r==="scroll"||r==="scrollend"),M=_e?H!==null?H+"Capture":null:H;_e=[];for(var N=j,z;N!==null;){var J=N;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||M===null||(J=js(N,M),J!=null&&_e.push(cu(N,J,z))),et)break;N=N.return}0<_e.length&&(H=new F(H,Te,null,a,Z),te.push({event:H,listeners:_e}))}}if((s&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",F=r==="mouseout"||r==="pointerout",H&&a!==$r&&(Te=a.relatedTarget||a.fromElement)&&(qr(Te)||Te[Un]))break e;if((F||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=j,Te=Te?qr(Te):null,Te!==null&&(et=u(Te),_e=Te.tag,Te!==et||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(F=null,Te=j),F!==Te)){if(_e=qn,J="onMouseLeave",M="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(_e=kl,J="onPointerLeave",M="onPointerEnter",N="pointer"),et=F==null?H:fr(F),z=Te==null?H:fr(Te),H=new _e(J,N+"leave",F,a,Z),H.target=et,H.relatedTarget=z,J=null,qr(Z)===j&&(_e=new _e(M,N+"enter",Te,a,Z),_e.target=z,_e.relatedTarget=et,J=_e),et=J,F&&Te)t:{for(_e=F,M=Te,N=0,z=_e;z;z=Eo(z))N++;for(z=0,J=M;J;J=Eo(J))z++;for(;0<N-z;)_e=Eo(_e),N--;for(;0<z-N;)M=Eo(M),z--;for(;N--;){if(_e===M||M!==null&&_e===M.alternate)break t;_e=Eo(_e),M=Eo(M)}_e=null}else _e=null;F!==null&&t0(te,H,F,_e,!1),Te!==null&&et!==null&&t0(te,et,Te,_e,!0)}}e:{if(H=j?fr(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var me=_w;else if(Nt(H))if(bw)me=a1;else{me=i1;var Oe=r1}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Rl(j.elementType)&&(me=_w):me=s1;if(me&&(me=me(r,j))){Wr(te,me,a,Z);break e}Oe&&Oe(r,H,j),r==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&Ni(H,"number",H.value)}switch(Oe=j?fr(j):window,r){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(Wa=Oe,$d=j,Vl=null);break;case"focusout":Vl=$d=Wa=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,xw(te,a,Z);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":xw(te,a,Z)}var pe;if(wr)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?K(r,a)&&(be="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(w&&a.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(pe=Il()):(mr=Z,ki="value"in mr?mr.value:mr.textContent,Le=!0)),Oe=Sf(j,be),0<Oe.length&&(be=new Ol(be,r,null,a,Z),te.push({event:be,listeners:Oe}),pe?be.data=pe:(pe=le(a),pe!==null&&(be.data=pe)))),(pe=y?Ot(r,a):Ue(r,a))&&(be=Sf(j,"onBeforeInput"),0<be.length&&(Oe=new Ol("onBeforeInput","beforeinput",null,a,Z),te.push({event:Oe,listeners:be}),Oe.data=pe)),F1(te,r,j,a,Z)}J_(te,s)})}function cu(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Sf(r,s){for(var a=s+"Capture",l=[];r!==null;){var h=r,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=js(r,a),h!=null&&l.unshift(cu(r,h,d)),h=js(r,s),h!=null&&l.push(cu(r,h,d))),r.tag===3)return l;r=r.return}return[]}function Eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function t0(r,s,a,l,h){for(var d=s._reactName,_=[];a!==null&&a!==l;){var b=a,C=b.alternate,j=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||j===null||(C=j,h?(j=js(a,d),j!=null&&_.unshift(cu(a,j,C))):h||(j=js(a,d),j!=null&&_.push(cu(a,j,C)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var Q1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function n0(r){return(typeof r=="string"?r:""+r).replace(Q1,`
`).replace(Y1,"")}function r0(r,s){return s=n0(s),n0(r)===s}function Af(){}function Je(r,s,a,l,h,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Bn(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Bn(r,""+l);break;case"className":hr(r,"class",l);break;case"tabIndex":hr(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(r,a,l);break;case"style":Al(r,l,d);break;case"data":if(s!=="object"){hr(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=qa(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Je(r,s,"name",h.name,h,null),Je(r,s,"formEncType",h.formEncType,h,null),Je(r,s,"formMethod",h.formMethod,h,null),Je(r,s,"formTarget",h.formTarget,h,null)):(Je(r,s,"encType",h.encType,h,null),Je(r,s,"method",h.method,h,null),Je(r,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=qa(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Af);break;case"onScroll":l!=null&&ke("scroll",r);break;case"onScrollEnd":l!=null&&ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=qa(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":ke("beforetoggle",r),ke("toggle",r),Oi(r,"popover",l);break;case"xlinkActuate":Gt(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oi(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bd.get(a)||a,Oi(r,a,l))}}function gp(r,s,a,l,h,d){switch(a){case"style":Al(r,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof l=="string"?Bn(r,l):(typeof l=="number"||typeof l=="bigint")&&Bn(r,""+l);break;case"onScroll":l!=null&&ke("scroll",r);break;case"onScrollEnd":l!=null&&ke("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Af);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),d=r[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&r.removeEventListener(s,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,l,h);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):Oi(r,a,l)}}}function Yt(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",r),ke("load",r);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,d,_,a,null)}}h&&Je(r,s,"srcSet",a.srcSet,a,null),l&&Je(r,s,"src",a.src,a,null);return;case"input":ke("invalid",r);var b=d=_=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":j=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Je(r,s,l,Z,a,null)}}Us(r,d,b,C,j,_,h,!1),ja(r);return;case"select":ke("invalid",r),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(r,s,h,b,a,null)}s=d,a=_,r.multiple=!!l,s!=null?Gr(r,!!l,s,!1):a!=null&&Gr(r,!!l,a,!0);return;case"textarea":ke("invalid",r),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Je(r,s,_,b,a,null)}Bs(r,l,h,d),ja(r);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(r,s,C,l,a,null)}return;case"dialog":ke("beforetoggle",r),ke("toggle",r),ke("cancel",r),ke("close",r);break;case"iframe":case"object":ke("load",r);break;case"video":case"audio":for(l=0;l<uu.length;l++)ke(uu[l],r);break;case"image":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"embed":case"source":case"link":ke("error",r),ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,j,l,a,null)}return;default:if(Rl(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&gp(r,s,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(r,s,b,l,a,null))}function X1(r,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,C=null,j=null,Z=null;for(F in a){var te=a[F];if(a.hasOwnProperty(F)&&te!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(F)||Je(r,s,F,null,l,te)}}for(var H in l){var F=l[H];if(te=a[H],l.hasOwnProperty(H)&&(F!=null||te!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Z=F;break;case"value":_=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,s));break;default:F!==te&&Je(r,s,H,F,l,te)}}Tn(r,_,b,C,j,Z,d,h);return;case"select":F=_=b=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Je(r,s,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==C&&Je(r,s,h,d,l,C)}s=b,a=_,l=F,H!=null?Gr(r,!!a,H,!1):!!l!=!!a&&(s!=null?Gr(r,!!a,s,!0):Gr(r,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(r,s,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&Je(r,s,_,h,l,d)}We(r,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":r.selected=!1;break;default:Je(r,s,Te,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":r.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(r,s,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Je(r,s,_e,null,l,H);for(j in l)if(H=l[j],F=a[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:Je(r,s,j,H,l,F)}return;default:if(Rl(s)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&gp(r,s,et,void 0,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H===void 0&&F===void 0||gp(r,s,Z,H,l,F);return}}for(var M in a)H=a[M],a.hasOwnProperty(M)&&H!=null&&!l.hasOwnProperty(M)&&Je(r,s,M,null,l,H);for(te in l)H=l[te],F=a[te],!l.hasOwnProperty(te)||H===F||H==null&&F==null||Je(r,s,te,H,l,F)}var yp=null,wp=null;function Rf(r){return r.nodeType===9?r:r.ownerDocument}function i0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function vp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _p=null;function W1(){var r=window.event;return r&&r.type==="popstate"?r===_p?!1:(_p=r,!0):(_p=null,!1)}var a0=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(r){return o0.resolve(null).then(r).catch(eR)}:a0;function eR(r){setTimeout(function(){throw r})}function Yi(r){return r==="head"}function l0(r,s){var a=s,l=0,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=r.ownerDocument;if(a&1&&fu(_.documentElement),a&2&&fu(_.body),a&4)for(a=_.head,fu(a),_=a.firstChild;_;){var b=_.nextSibling,C=_.nodeName;_[Ps]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=b}}if(h===0){r.removeChild(d),vu(s);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);vu(s)}function bp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bp(a),Di(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function tR(r,s,a,l){for(;r.nodeType===1;){var h=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ps])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(d=r.getAttribute("rel"),d==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(d!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(d=r.getAttribute("src"),(d!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===d)return r}else return r;if(r=rr(r.nextSibling),r===null)break}return null}function nR(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=rr(r.nextSibling),r===null))return null;return r}function Ep(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function rR(r,s){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Tp=null;function u0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}function c0(r,s,a){switch(s=Rf(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function fu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Di(r)}var Yn=new Map,f0=new Set;function Cf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ci=ue.d;ue.d={f:iR,r:sR,D:aR,C:oR,L:lR,m:uR,X:fR,S:cR,M:hR};function iR(){var r=ci.f(),s=wf();return r||s}function sR(r){var s=cr(r);s!==null&&s.tag===5&&s.type==="form"?Ov(s):ci.r(r)}var To=typeof document>"u"?null:document;function h0(r,s,a){var l=To;if(l&&typeof s=="string"&&s){var h=Tt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),f0.has(h)||(f0.add(h),r={rel:r,crossOrigin:a,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),Yt(s,"link",r),gt(s),l.head.appendChild(s)))}}function aR(r){ci.D(r),h0("dns-prefetch",r,null)}function oR(r,s){ci.C(r,s),h0("preconnect",r,s)}function lR(r,s,a){ci.L(r,s,a);var l=To;if(l&&r&&s){var h='link[rel="preload"][as="'+Tt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(r)+'"]';var d=h;switch(s){case"style":d=So(r);break;case"script":d=Ao(r)}Yn.has(d)||(r=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Yn.set(d,r),l.querySelector(h)!==null||s==="style"&&l.querySelector(hu(d))||s==="script"&&l.querySelector(du(d))||(s=l.createElement("link"),Yt(s,"link",r),gt(s),l.head.appendChild(s)))}}function uR(r,s){ci.m(r,s);var a=To;if(a&&r){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(r)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(r)}if(!Yn.has(d)&&(r=v({rel:"modulepreload",href:r},s),Yn.set(d,r),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(du(d)))return}l=a.createElement("link"),Yt(l,"link",r),gt(l),a.head.appendChild(l)}}}function cR(r,s,a){ci.S(r,s,a);var l=To;if(l&&r){var h=un(l).hoistableStyles,d=So(r);s=s||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(hu(d)))b.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Yn.get(d))&&Sp(r,a);var C=_=l.createElement("link");gt(C),Yt(C,"link",r),C._p=new Promise(function(j,Z){C.onload=j,C.onerror=Z}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,If(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function fR(r,s){ci.X(r,s);var a=To;if(a&&r){var l=un(a).hoistableScripts,h=Ao(r),d=l.get(h);d||(d=a.querySelector(du(h)),d||(r=v({src:r,async:!0},s),(s=Yn.get(h))&&Ap(r,s),d=a.createElement("script"),gt(d),Yt(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hR(r,s){ci.M(r,s);var a=To;if(a&&r){var l=un(a).hoistableScripts,h=Ao(r),d=l.get(h);d||(d=a.querySelector(du(h)),d||(r=v({src:r,async:!0,type:"module"},s),(s=Yn.get(h))&&Ap(r,s),d=a.createElement("script"),gt(d),Yt(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function d0(r,s,a,l){var h=(h=Ae.current)?Cf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=So(a.href),a=un(h).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=So(a.href);var d=un(h).hoistableStyles,_=d.get(r);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(r,_),(d=h.querySelector(hu(r)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(r,a),d||dR(h,r,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(a),a=un(h).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function So(r){return'href="'+Tt(r)+'"'}function hu(r){return'link[rel="stylesheet"]['+r+"]"}function m0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function dR(r,s,a,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Yt(s,"link",a),gt(s),r.head.appendChild(s))}function Ao(r){return'[src="'+Tt(r)+'"]'}function du(r){return"script[async]"+r}function p0(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return s.instance=l,gt(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),gt(l),Yt(l,"style",h),If(l,a.precedence,r),s.instance=l;case"stylesheet":h=So(a.href);var d=r.querySelector(hu(h));if(d)return s.state.loading|=4,s.instance=d,gt(d),d;l=m0(a),(h=Yn.get(h))&&Sp(l,h),d=(r.ownerDocument||r).createElement("link"),gt(d);var _=d;return _._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),Yt(d,"link",l),s.state.loading|=4,If(d,a.precedence,r),s.instance=d;case"script":return d=Ao(a.src),(h=r.querySelector(du(d)))?(s.instance=h,gt(h),h):(l=a,(h=Yn.get(d))&&(l=v({},a),Ap(l,h)),r=r.ownerDocument||r,h=r.createElement("script"),gt(h),Yt(h,"link",l),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,If(l,a.precedence,r));return s.instance}function If(r,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===s)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(r,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function Sp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ap(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var xf=null;function g0(r,s,a){if(xf===null){var l=new Map,h=xf=new Map;h.set(a,l)}else h=xf,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),h=0;h<a.length;h++){var d=a[h];if(!(d[Ps]||d[Dt]||r==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=r+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function y0(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function mR(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function w0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var mu=null;function pR(){}function gR(r,s,a){if(mu===null)throw Error(i(475));var l=mu;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=So(a.href),d=r.querySelector(hu(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Df.bind(l),r.then(l,l)),s.state.loading|=4,s.instance=d,gt(d);return}d=r.ownerDocument||r,a=m0(a),(h=Yn.get(h))&&Sp(a,h),d=d.createElement("link"),gt(d);var _=d;_._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),Yt(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Df.bind(l),r.addEventListener("load",s),r.addEventListener("error",s))}}function yR(){if(mu===null)throw Error(i(475));var r=mu;return r.stylesheets&&r.count===0&&Rp(r,r.stylesheets),0<r.count?function(s){var a=setTimeout(function(){if(r.stylesheets&&Rp(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Df(){if(this.count--,this.count===0){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Of=null;function Rp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Of=new Map,s.forEach(wR,r),Of=null,Df.call(r))}function wR(r,s){if(!(s.state.loading&4)){var a=Of.get(r);if(a)var l=a.get(null);else{a=new Map,Of.set(r,a);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=s.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Df.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var pu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function vR(r,s,a,l,h,d,_,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function v0(r,s,a,l,h,d,_,b,C,j,Z,te){return r=new vR(r,s,a,_,b,C,j,te),s=1,d===!0&&(s|=24),d=An(3,null,null,s),r.current=d,d.stateNode=r,s=om(),s.refCount++,r.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},fm(d),r}function _0(r){return r?(r=to,r):to}function b0(r,s,a,l,h,d){h=_0(h),l.context===null?l.context=h:l.pendingContext=h,l=Vi(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Li(r,l,s),a!==null&&(Dn(a,r,s),Gl(a,r,s))}function E0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Cp(r,s){E0(r,s),(r=r.alternate)&&E0(r,s)}function T0(r){if(r.tag===13){var s=eo(r,67108864);s!==null&&Dn(s,r,67108864),Cp(r,67108864)}}var Nf=!0;function _R(r,s,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=2,Ip(r,s,a,l)}finally{ue.p=d,W.T=h}}function bR(r,s,a,l){var h=W.T;W.T=null;var d=ue.p;try{ue.p=8,Ip(r,s,a,l)}finally{ue.p=d,W.T=h}}function Ip(r,s,a,l){if(Nf){var h=xp(l);if(h===null)pp(r,s,l,kf,a),A0(r,l);else if(TR(h,r,s,a,l))l.stopPropagation();else if(A0(r,l),s&4&&-1<ER.indexOf(r)){for(;h!==null;){var d=cr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Zn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var C=1<<31-en(_);b.entanglements[1]|=C,_&=~C}Sr(d),(Ye&6)===0&&(gf=Ln()+500,lu(0))}}break;case 13:b=eo(d,2),b!==null&&Dn(b,d,2),wf(),Cp(d,2)}if(d=xp(l),d===null&&pp(r,s,l,kf,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else pp(r,s,l,null,a)}}function xp(r){return r=zn(r),Dp(r)}var kf=null;function Dp(r){if(kf=null,r=qr(r),r!==null){var s=u(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return kf=r,null}function S0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kd()){case dl:return 2;case ka:return 8;case xs:case Pd:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var Op=!1,Xi=null,Wi=null,Zi=null,gu=new Map,yu=new Map,Ji=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A0(r,s){switch(r){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":gu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(s.pointerId)}}function wu(r,s,a,l,h,d){return r===null||r.nativeEvent!==d?(r={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},s!==null&&(s=cr(s),s!==null&&T0(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function TR(r,s,a,l,h){switch(s){case"focusin":return Xi=wu(Xi,r,s,a,l,h),!0;case"dragenter":return Wi=wu(Wi,r,s,a,l,h),!0;case"mouseover":return Zi=wu(Zi,r,s,a,l,h),!0;case"pointerover":var d=h.pointerId;return gu.set(d,wu(gu.get(d)||null,r,s,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yu.set(d,wu(yu.get(d)||null,r,s,a,l,h)),!0}return!1}function R0(r){var s=qr(r.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){r.blockedOn=s,yc(r.priority,function(){if(a.tag===13){var l=xn();l=Ci(l);var h=eo(a,l);h!==null&&Dn(h,a,l),Cp(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=xp(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);$r=l,a.target.dispatchEvent(l),$r=null}else return s=cr(a),s!==null&&T0(s),r.blockedOn=a,!1;s.shift()}return!0}function C0(r,s,a){Pf(r)&&a.delete(s)}function SR(){Op=!1,Xi!==null&&Pf(Xi)&&(Xi=null),Wi!==null&&Pf(Wi)&&(Wi=null),Zi!==null&&Pf(Zi)&&(Zi=null),gu.forEach(C0),yu.forEach(C0)}function Mf(r,s){r.blockedOn===s&&(r.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SR)))}var Vf=null;function I0(r){Vf!==r&&(Vf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vf===r&&(Vf=null);for(var s=0;s<r.length;s+=3){var a=r[s],l=r[s+1],h=r[s+2];if(typeof l!="function"){if(Dp(l||a)===null)continue;break}var d=cr(a);d!==null&&(r.splice(s,3),s-=3,Dm(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function vu(r){function s(C){return Mf(C,r)}Xi!==null&&Mf(Xi,r),Wi!==null&&Mf(Wi,r),Zi!==null&&Mf(Zi,r),gu.forEach(s),yu.forEach(s);for(var a=0;a<Ji.length;a++){var l=Ji[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)R0(a),a.blockedOn===null&&Ji.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Et]||null;if(typeof d=="function")_||I0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Et]||null)b=_.formAction;else if(Dp(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),I0(a)}}}function Np(r){this._internalRoot=r}Lf.prototype.render=Np.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=xn();b0(a,l,r,s,null,null)},Lf.prototype.unmount=Np.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;b0(r.current,2,null,r,null,null),wf(),s[Un]=null}};function Lf(r){this._internalRoot=r}Lf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ii();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Ji.length&&s!==0&&s<Ji[a].priority;a++);Ji.splice(a,0,r),a===0&&R0(r)}};var x0=e.version;if(x0!=="19.1.1")throw Error(i(527,x0,"19.1.1"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var AR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{dt=Uf.inject(AR),Qe=Uf}catch{}}return bu.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,l="",h=Gv,d=$v,_=Kv,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=v0(r,1,!1,null,null,a,l,h,d,_,b,null),r[Un]=s.current,mp(r),new Np(s)},bu.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var l=!1,h="",d=Gv,_=$v,b=Kv,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),s=v0(r,1,!0,s,a??null,l,h,d,_,b,C,j),s.context=_0(null),a=s.current,l=xn(),l=Ci(l),h=Vi(l),h.callback=null,Li(a,h,l),a=l,s.current.lanes=a,jr(s,a),Sr(s),r[Un]=s.current,mp(r),new Lf(s)},bu.version="19.1.1",bu}var B0;function VR(){if(B0)return Mp.exports;B0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=MR(),Mp.exports}var LR=VR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z0="popstate";function UR(t={}){function e(i,o){let{pathname:u,search:f,hash:m}=i.location;return lg("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Mu(o)}return zR(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BR(){return Math.random().toString(36).substring(2,10)}function j0(t,e){return{usr:t.state,key:t.key,idx:e}}function lg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:n,key:e&&e.key||i||BR()}}function Mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function zR(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function E(){m="POP";let U=v(),$=U==null?null:U-g;g=U,p&&p({action:m,location:q.location,delta:$})}function S(U,$){m="PUSH";let se=lg(q.location,U,$);g=v()+1;let X=j0(se,g),ae=q.createHref(se);try{f.pushState(X,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ae)}u&&p&&p({action:m,location:q.location,delta:1})}function O(U,$){m="REPLACE";let se=lg(q.location,U,$);g=v();let X=j0(se,g),ae=q.createHref(se);f.replaceState(X,"",ae),u&&p&&p({action:m,location:q.location,delta:0})}function V(U){return jR(U)}let q={get action(){return m},get location(){return t(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(z0,E),p=U,()=>{o.removeEventListener(z0,E),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let $=V(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:O,go(U){return f.go(U)}};return q}function jR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Mu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function eT(t,e,n="/"){return qR(t,e,n,!1)}function qR(t,e,n,i){let o=typeof e=="string"?Xo(e):e,u=yi(o.pathname||"/",n);if(u==null)return null;let f=tT(t);HR(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=eC(u);m=ZR(f[p],g,i)}return m}function tT(t,e=[],n=[],i=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=mi([i,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),tT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:XR(g,u.index),routesMeta:v})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of nT(u.path))o(u,f,m)}),e}function nT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=nT(i.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function HR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var FR=/^:[\w-]+$/,GR=3,$R=2,KR=1,QR=10,YR=-2,q0=t=>t==="*";function XR(t,e){let n=t.split("/"),i=n.length;return n.some(q0)&&(i+=YR),e&&(i+=$R),n.filter(o=>!q0(o)).reduce((o,u)=>o+(FR.test(u)?GR:u===""?KR:QR),i)}function WR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function ZR(t,e,n=!1){let{routesMeta:i}=t,o={},u="/",f=[];for(let m=0;m<i.length;++m){let p=i[m],g=m===i.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!E&&g&&n&&!i[i.length-1].route.index&&(E=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:mi([u,E.pathname]),pathnameBase:iC(mi([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=mi([u,E.pathnameBase]))}return f}function yh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=JR(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:E},S)=>{if(v==="*"){let V=m[S]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[S];return E&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:t}}function JR(t,e=!1,n=!0){Pr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function eC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function tC(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:nC(n,e):e,search:sC(i),hash:aC(o)}}function nC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rT(t){let e=rC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function iT(t,e,n,i=!1){let o;typeof t=="string"?o=Xo(t):(o={...t},ct(!o.pathname||!o.pathname.includes("?"),Bp("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Bp("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Bp("#","search","hash",o)));let u=t===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let E=e.length-1;if(!i&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}m=E>=0?e[E]:"/"}let p=tC(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var mi=t=>t.join("/").replace(/\/\/+/g,"/"),iC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sT=["POST","PUT","PATCH","DELETE"];new Set(sT);var lC=["GET",...sT];new Set(lC);var Wo=Q.createContext(null);Wo.displayName="DataRouter";var Zh=Q.createContext(null);Zh.displayName="DataRouterState";Q.createContext(!1);var aT=Q.createContext({isTransitioning:!1});aT.displayName="ViewTransition";var uC=Q.createContext(new Map);uC.displayName="Fetchers";var cC=Q.createContext(null);cC.displayName="Await";var Ur=Q.createContext(null);Ur.displayName="Navigation";var Ku=Q.createContext(null);Ku.displayName="Location";var Si=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Xg=Q.createContext(null);Xg.displayName="RouteError";function fC(t,{relative:e}={}){ct(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=Q.useContext(Ur),{hash:o,pathname:u,search:f}=Yu(t,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mi([n,u])),i.createHref({pathname:m,search:f,hash:o})}function Qu(){return Q.useContext(Ku)!=null}function Ra(){return ct(Qu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Ku).location}var oT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(t){Q.useContext(Ur).static||Q.useLayoutEffect(t)}function Wg(){let{isDataRoute:t}=Q.useContext(Si);return t?SC():hC()}function hC(){ct(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let t=Q.useContext(Wo),{basename:e,navigator:n}=Q.useContext(Ur),{matches:i}=Q.useContext(Si),{pathname:o}=Ra(),u=JSON.stringify(rT(i)),f=Q.useRef(!1);return lT(()=>{f.current=!0}),Q.useCallback((p,g={})=>{if(Pr(f.current,oT),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=iT(p,JSON.parse(u),o,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,t])}Q.createContext(null);function Yu(t,{relative:e}={}){let{matches:n}=Q.useContext(Si),{pathname:i}=Ra(),o=JSON.stringify(rT(n));return Q.useMemo(()=>iT(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function dC(t,e){return uT(t,e)}function uT(t,e,n,i){ct(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Ur),{matches:u}=Q.useContext(Si),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let $=v&&v.path||"";cT(p,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=Ra(),S;if(e){let $=typeof e=="string"?Xo(e):e;ct(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=E;let O=S.pathname||"/",V=O;if(g!=="/"){let $=g.replace(/^\//,"").split("/");V="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let q=eT(t,{pathname:V});Pr(v||q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Pr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=wC(q&&q.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:mi([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:mi([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,i);return e&&U?Q.createElement(Ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function mC(){let t=TC(),e=oC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,f)}var pC=Q.createElement(mC,null),gC=class extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Q.createElement(Si.Provider,{value:this.props.routeContext},Q.createElement(Xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yC({routeContext:t,match:e,children:n}){let i=Q.useContext(Wo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Si.Provider,{value:t},n)}function wC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:E}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let E,S=!1,O=null,V=null;n&&(E=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||pC,f&&(m<0&&v===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===v&&(S=!0,V=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,v+1)),U=()=>{let $;return E?$=O:S?$=V:g.route.Component?$=Q.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,Q.createElement(yC,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Q.createElement(gC,{location:n.location,revalidation:n.revalidation,component:O,error:E,children:U(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):U()},null)}function Zg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vC(t){let e=Q.useContext(Wo);return ct(e,Zg(t)),e}function _C(t){let e=Q.useContext(Zh);return ct(e,Zg(t)),e}function bC(t){let e=Q.useContext(Si);return ct(e,Zg(t)),e}function Jg(t){let e=bC(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function EC(){return Jg("useRouteId")}function TC(){let t=Q.useContext(Xg),e=_C("useRouteError"),n=Jg("useRouteError");return t!==void 0?t:e.errors?.[n]}function SC(){let{router:t}=vC("useNavigate"),e=Jg("useNavigate"),n=Q.useRef(!1);return lT(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{Pr(n.current,oT),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var H0={};function cT(t,e,n){!e&&!H0[t]&&(H0[t]=!0,Pr(!1,n))}Q.memo(AC);function AC({routes:t,future:e,state:n}){return uT(t,void 0,n,e)}function ca(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){ct(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Xo(n));let{pathname:p="/",search:g="",hash:v="",state:E=null,key:S="default"}=n,O=Q.useMemo(()=>{let V=yi(p,f);return V==null?null:{location:{pathname:V,search:g,hash:v,state:E,key:S},navigationType:i}},[f,p,g,v,E,S,i]);return Pr(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:Q.createElement(Ur.Provider,{value:m},Q.createElement(Ku.Provider,{children:e,value:O}))}function CC({children:t,location:e}){return dC(ug(t),e)}function ug(t,e=[]){let n=[];return Q.Children.forEach(t,(i,o)=>{if(!Q.isValidElement(i))return;let u=[...e,o];if(i.type===Q.Fragment){n.push.apply(n,ug(i.props.children,u));return}ct(i.type===ca,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=ug(i.props.children,u)),n.push(f)}),n}var Zf="get",Jf="application/x-www-form-urlencoded";function Jh(t){return t!=null&&typeof t.tagName=="string"}function IC(t){return Jh(t)&&t.tagName.toLowerCase()==="button"}function xC(t){return Jh(t)&&t.tagName.toLowerCase()==="form"}function DC(t){return Jh(t)&&t.tagName.toLowerCase()==="input"}function OC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NC(t,e){return t.button===0&&(!e||e==="_self")&&!OC(t)}var Bf=null;function kC(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var PC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(t){return t!=null&&!PC.has(t)?(Pr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):t}function MC(t,e){let n,i,o,u,f;if(xC(t)){let m=t.getAttribute("action");i=m?yi(m,e):null,n=t.getAttribute("method")||Zf,o=zp(t.getAttribute("enctype"))||Jf,u=new FormData(t)}else if(IC(t)||DC(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(i=p?yi(p,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Zf,o=zp(t.getAttribute("formenctype"))||zp(m.getAttribute("enctype"))||Jf,u=new FormData(m,t),!kC()){let{name:g,type:v,value:E}=t;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,E)}}else{if(Jh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zf,i=null,o=Jf,f=t}return u&&o==="text/plain"&&(f=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ey(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&yi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function LC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BC(t,e,n){let i=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await LC(u,n);return f.links?f.links():[]}return[]}));return HC(i.flat(1).filter(UC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function F0(t,e,n,i,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function zC(t,e,{includeHydrateFallback:n}={}){return jC(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function jC(t){return[...new Set(t)]}function qC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function HC(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let u=JSON.stringify(qC(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function fT(){let t=Q.useContext(Wo);return ey(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FC(){let t=Q.useContext(Zh);return ey(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ty=Q.createContext(void 0);ty.displayName="FrameworkContext";function hT(){let t=Q.useContext(ty);return ey(t,"You must render this element inside a <HydratedRouter> element"),t}function GC(t,e){let n=Q.useContext(ty),[i,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,S=Q.useRef(null);Q.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let q=$=>{$.forEach(se=>{f(se.isIntersecting)})},U=new IntersectionObserver(q,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[t]),Q.useEffect(()=>{if(i){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[i]);let O=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?t!=="intent"?[u,S,{}]:[u,S,{onFocus:Eu(m,O),onBlur:Eu(p,V),onMouseEnter:Eu(g,O),onMouseLeave:Eu(v,V),onTouchStart:Eu(E,O)}]:[!1,S,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $C({page:t,...e}){let{router:n}=fT(),i=Q.useMemo(()=>eT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?Q.createElement(QC,{page:t,matches:i,...e}):null}function KC(t){let{manifest:e,routeModules:n}=hT(),[i,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return BC(t,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[t,e,n]),i}function QC({page:t,matches:e,...n}){let i=Ra(),{manifest:o,routeModules:u}=hT(),{basename:f}=fT(),{loaderData:m,matches:p}=FC(),g=Q.useMemo(()=>F0(t,e,p,o,i,"data"),[t,e,p,o,i]),v=Q.useMemo(()=>F0(t,e,p,o,i,"assets"),[t,e,p,o,i]),E=Q.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let V=new Set,q=!1;if(e.forEach($=>{let se=o.routes[$.route.id];!se||!se.hasLoader||(!g.some(X=>X.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||se.hasClientLoader?q=!0:V.add($.route.id))}),V.size===0)return[];let U=VC(t,f,"data");return q&&V.size>0&&U.searchParams.set("_routes",e.filter($=>V.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[f,m,i,o,g,e,t,u]),S=Q.useMemo(()=>zC(v,o),[v,o]),O=KC(v);return Q.createElement(Q.Fragment,null,E.map(V=>Q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>Q.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),O.map(({key:V,link:q})=>Q.createElement("link",{key:V,...q})))}function YC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dT&&(window.__reactRouterVersion="7.7.1")}catch{}function XC({basename:t,children:e,window:n}){let i=Q.useRef();i.current==null&&(i.current=UR({window:n,v5Compat:!0}));let o=i.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(RC,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pT=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:E,...S},O){let{basename:V}=Q.useContext(Ur),q=typeof g=="string"&&mT.test(g),U,$=!1;if(typeof g=="string"&&q&&(U=g,dT))try{let R=new URL(window.location.href),k=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=yi(k.pathname,V);k.origin===R.origin&&P!=null?g=P+k.search+k.hash:$=!0}catch{Pr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=fC(g,{relative:o}),[X,ae,ie]=GC(i,S),fe=JC(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:E});function x(R){e&&e(R),R.defaultPrevented||fe(R)}let A=Q.createElement("a",{...S,...ie,href:U||se,onClick:$||u?e:x,ref:YC(O,ae),target:p,"data-discover":!q&&n==="render"?"true":void 0});return X&&!q?Q.createElement(Q.Fragment,null,A,Q.createElement($C,{page:se})):A});pT.displayName="Link";var da=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let E=Yu(f,{relative:g.relative}),S=Ra(),O=Q.useContext(Zh),{navigator:V,basename:q}=Q.useContext(Ur),U=O!=null&&iI(E)&&m===!0,$=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,se=S.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(se=se.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&q&&(X=yi(X,q)||X);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=se===$||!o&&se.startsWith($)&&se.charAt(ae)==="/",fe=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),x={isActive:ie,isPending:fe,isTransitioning:U},A=ie?e:void 0,R;typeof i=="function"?R=i(x):R=[i,ie?"active":null,fe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(x):u;return Q.createElement(pT,{...g,"aria-current":A,className:R,ref:v,style:k,to:f,viewTransition:m},typeof p=="function"?p(x):p)});da.displayName="NavLink";var WC=Q.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:f=Zf,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,...S},O)=>{let V=nI(),q=rI(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&mT.test(m),se=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ae=X.nativeEvent.submitter,ie=ae?.getAttribute("formmethod")||f;V(ae||X.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:E})};return Q.createElement("form",{ref:O,method:U,action:q,onSubmit:i?p:se,...S,"data-discover":!$&&t==="render"?"true":void 0})});WC.displayName="Form";function ZC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gT(t){let e=Q.useContext(Wo);return ct(e,ZC(t)),e}function JC(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Wg(),p=Ra(),g=Yu(t,{relative:u});return Q.useCallback(v=>{if(NC(v,e)){v.preventDefault();let E=n!==void 0?n:Mu(p)===Mu(g);m(t,{replace:E,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,i,e,t,o,u,f])}var eI=0,tI=()=>`__${String(++eI)}__`;function nI(){let{router:t}=gT("useSubmit"),{basename:e}=Q.useContext(Ur),n=EC();return Q.useCallback(async(i,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=MC(i,e);if(o.navigate===!1){let v=o.fetcherKey||tI();await t.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function rI(t,{relative:e}={}){let{basename:n}=Q.useContext(Ur),i=Q.useContext(Si);ct(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Yu(t||".",{relative:e})},f=Ra();if(t==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let v=m.toString();u.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mi([n,u.pathname])),Mu(u)}function iI(t,{relative:e}={}){let n=Q.useContext(aT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=gT("useViewTransitionState"),o=Yu(t,{relative:e});if(!n.isTransitioning)return!1;let u=yi(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=yi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}var jp={exports:{}},qp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function sI(){if(G0)return qp;G0=1;var t=Wh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,u=t.useEffect,f=t.useMemo,m=t.useDebugValue;return qp.useSyncExternalStoreWithSelector=function(p,g,v,E,S){var O=o(null);if(O.current===null){var V={hasValue:!1,value:null};O.current=V}else V=O.current;O=f(function(){function U(ie){if(!$){if($=!0,se=ie,ie=E(ie),S!==void 0&&V.hasValue){var fe=V.value;if(S(fe,ie))return X=fe}return X=ie}if(fe=X,n(se,ie))return fe;var x=E(ie);return S!==void 0&&S(fe,x)?(se=ie,fe):(se=ie,X=x)}var $=!1,se,X,ae=v===void 0?null:v;return[function(){return U(g())},ae===null?void 0:function(){return U(ae())}]},[g,v,E,S]);var q=i(p,O[0],O[1]);return u(function(){V.hasValue=!0,V.value=q},[q]),m(q),q},qp}var $0;function aI(){return $0||($0=1,jp.exports=sI()),jp.exports}var oI=aI();function lI(t){t()}function uI(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lI(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var K0={notify(){},get:()=>[]};function cI(t,e){let n,i=K0,o=0,u=!1;function f(q){v();const U=i.subscribe(q);let $=!1;return()=>{$||($=!0,U(),E())}}function m(){i.notify()}function p(){V.onStateChange&&V.onStateChange()}function g(){return u}function v(){o++,n||(n=t.subscribe(p),i=uI())}function E(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=K0)}function S(){u||(u=!0,v())}function O(){u&&(u=!1,E())}const V={addNestedSub:f,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:S,tryUnsubscribe:O,getListeners:()=>i};return V}var fI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hI=fI(),dI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mI=dI(),pI=()=>hI||mI?Q.useLayoutEffect:Q.useEffect,gI=pI(),yI=Symbol.for("react-redux-context"),wI=typeof globalThis<"u"?globalThis:{};function vI(){if(!Q.createContext)return{};const t=wI[yI]??=new Map;let e=t.get(Q.createContext);return e||(e=Q.createContext(null),t.set(Q.createContext,e)),e}var ps=vI();function _I(t){const{children:e,context:n,serverState:i,store:o}=t,u=Q.useMemo(()=>{const p=cI(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),f=Q.useMemo(()=>o.getState(),[o]);gI(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const m=n||ps;return Q.createElement(m.Provider,{value:u},e)}var bI=_I;function ny(t=ps){return function(){return Q.useContext(t)}}var yT=ny();function wT(t=ps){const e=t===ps?yT:ny(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var EI=wT();function TI(t=ps){const e=t===ps?EI:wT(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var SI=TI(),AI=(t,e)=>t===e;function RI(t=ps){const e=t===ps?yT:ny(t),n=(i,o={})=>{const{equalityFn:u=AI}=typeof o=="function"?{equalityFn:o}:o,f=e(),{store:m,subscription:p,getServerState:g}=f;Q.useRef(!0);const v=Q.useCallback({[i.name](S){return i(S)}}[i.name],[i]),E=oI.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,v,u);return Q.useDebugValue(E),E};return Object.assign(n,{withTypes:()=>n}),n}var CI=RI();const Zo=SI.withTypes(),Mr=CI.withTypes(),Q0=[100,200,300,400,500];function II({topics:t,onQuestionClick:e}){const n=Mr(f=>f.topics.selectedIndexByTitleAndPrice),i=Mr(f=>f.topics.answeredStatusByTitleAndPrice),o=(f,m)=>{const p=n[f.title]?.[m];return typeof p=="number"?f.questions[p]:void 0},u=({topic:f,price:m,compact:p})=>{const g=o(f,m),v=i[f.title]?.[m],E=v==="correct"||v==="wrong",S=v==="correct"?"board-cell--correct":v==="wrong"?"board-cell--wrong":"";return G.jsxs("button",{onClick:()=>g&&e({title:f.title,price:m,question:g.question,answer:g.answer}),disabled:!g||E,className:["board-cell",S,E?"opacity-90 cursor-not-allowed":"cursor-pointer",p?"px-3 py-4 text-lg":""].join(" "),onMouseMove:O=>{const V=O.currentTarget.getBoundingClientRect();O.currentTarget.style.setProperty("--mx",`${O.clientX-V.left}px`),O.currentTarget.style.setProperty("--my",`${O.clientY-V.top}px`)},children:[G.jsx("span",{className:"status-mark"}),m]})};return G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"hidden md:block w-full",children:G.jsx("div",{className:"mx-auto max-w-6xl flex flex-col gap-3",children:t.map((f,m)=>G.jsxs("div",{className:"grid grid-cols-[repeat(6,minmax(110px,1fr))] gap-3",children:[G.jsx("div",{className:"title-cell",children:f.title}),Q0.map(p=>G.jsx(u,{topic:f,price:p},p))]},m))})}),G.jsx("div",{className:"md:hidden w-full",children:G.jsx("div",{className:"mx-auto max-w-md flex flex-col gap-4",children:t.map((f,m)=>G.jsxs("div",{className:"bg-white/5 border border-white/10 backdrop-blur-md rounded-2xl shadow p-4",children:[G.jsx("div",{className:"text-slate-100 font-semibold mb-3",children:f.title}),G.jsx("div",{className:"grid grid-cols-3 gap-3",children:Q0.map(p=>G.jsx(u,{topic:f,price:p,compact:!0},p))})]},m))})})]})}function Xt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xI=typeof Symbol=="function"&&Symbol.observable||"@@observable",Y0=xI,Hp=()=>Math.random().toString(36).substring(7).split("").join("."),DI={INIT:`@@redux/INIT${Hp()}`,REPLACE:`@@redux/REPLACE${Hp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hp()}`},wh=DI;function ry(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function iy(t,e,n){if(typeof t!="function")throw new Error(Xt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(iy)(t,e)}let i=t,o=e,u=new Map,f=u,m=0,p=!1;function g(){f===u&&(f=new Map,u.forEach((U,$)=>{f.set($,U)}))}function v(){if(p)throw new Error(Xt(3));return o}function E(U){if(typeof U!="function")throw new Error(Xt(4));if(p)throw new Error(Xt(5));let $=!0;g();const se=m++;return f.set(se,U),function(){if($){if(p)throw new Error(Xt(6));$=!1,g(),f.delete(se),u=null}}}function S(U){if(!ry(U))throw new Error(Xt(7));if(typeof U.type>"u")throw new Error(Xt(8));if(typeof U.type!="string")throw new Error(Xt(17));if(p)throw new Error(Xt(9));try{p=!0,o=i(o,U)}finally{p=!1}return(u=f).forEach(se=>{se()}),U}function O(U){if(typeof U!="function")throw new Error(Xt(10));i=U,S({type:wh.REPLACE})}function V(){const U=E;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Xt(11));function se(){const ae=$;ae.next&&ae.next(v())}return se(),{unsubscribe:U(se)}},[Y0](){return this}}}return S({type:wh.INIT}),{dispatch:S,subscribe:E,getState:v,replaceReducer:O,[Y0]:V}}function OI(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:wh.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:wh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function vT(t){const e=Object.keys(t),n={};for(let u=0;u<e.length;u++){const f=e[u];typeof t[f]=="function"&&(n[f]=t[f])}const i=Object.keys(n);let o;try{OI(n)}catch(u){o=u}return function(f={},m){if(o)throw o;let p=!1;const g={};for(let v=0;v<i.length;v++){const E=i[v],S=n[E],O=f[E],V=S(O,m);if(typeof V>"u")throw m&&m.type,new Error(Xt(14));g[E]=V,p=p||V!==O}return p=p||i.length!==Object.keys(f).length,p?g:f}}function vh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function NI(...t){return e=>(n,i)=>{const o=e(n,i);let u=()=>{throw new Error(Xt(15))};const f={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=t.map(p=>p(f));return u=vh(...m)(o.dispatch),{...o,dispatch:u}}}function kI(t){return ry(t)&&"type"in t&&typeof t.type=="string"}var _T=Symbol.for("immer-nothing"),X0=Symbol.for("immer-draftable"),Nn=Symbol.for("immer-state");function ir(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bo=Object.getPrototypeOf;function wa(t){return!!t&&!!t[Nn]}function wi(t){return t?bT(t)||Array.isArray(t)||!!t[X0]||!!t.constructor?.[X0]||td(t)||nd(t):!1}var PI=Object.prototype.constructor.toString();function bT(t){if(!t||typeof t!="object")return!1;const e=Bo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===PI}function _h(t,e){ed(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function ed(t){const e=t[Nn];return e?e.type_:Array.isArray(t)?1:td(t)?2:nd(t)?3:0}function cg(t,e){return ed(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ET(t,e,n){const i=ed(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function MI(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function td(t){return t instanceof Map}function nd(t){return t instanceof Set}function fa(t){return t.copy_||t.base_}function fg(t,e){if(td(t))return new Map(t);if(nd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=bT(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Nn];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const f=o[u],m=i[f];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[f]={configurable:!0,writable:!0,enumerable:m.enumerable,value:t[f]})}return Object.create(Bo(t),i)}else{const i=Bo(t);if(i!==null&&n)return{...t};const o=Object.create(i);return Object.assign(o,t)}}function sy(t,e=!1){return rd(t)||wa(t)||!wi(t)||(ed(t)>1&&(t.set=t.add=t.clear=t.delete=VI),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>sy(i,!0))),t}function VI(){ir(2)}function rd(t){return Object.isFrozen(t)}var LI={};function va(t){const e=LI[t];return e||ir(0,t),e}var Vu;function TT(){return Vu}function UI(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W0(t,e){e&&(va("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hg(t){dg(t),t.drafts_.forEach(BI),t.drafts_=null}function dg(t){t===Vu&&(Vu=t.parent_)}function Z0(t){return Vu=UI(Vu,t)}function BI(t){const e=t[Nn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function J0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Nn].modified_&&(hg(e),ir(4)),wi(t)&&(t=bh(e,t),e.parent_||Eh(e,t)),e.patches_&&va("Patches").generateReplacementPatches_(n[Nn].base_,t,e.patches_,e.inversePatches_)):t=bh(e,n,[]),hg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_T?t:void 0}function bh(t,e,n){if(rd(e))return e;const i=e[Nn];if(!i)return _h(e,(o,u)=>eb(t,i,e,o,u,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Eh(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,f=!1;i.type_===3&&(u=new Set(o),o.clear(),f=!0),_h(u,(m,p)=>eb(t,i,o,m,p,n,f)),Eh(t,o,!1),n&&t.patches_&&va("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function eb(t,e,n,i,o,u,f){if(wa(o)){const m=u&&e&&e.type_!==3&&!cg(e.assigned_,i)?u.concat(i):void 0,p=bh(t,o,m);if(ET(n,i,p),wa(p))t.canAutoFreeze_=!1;else return}else f&&n.add(o);if(wi(o)&&!rd(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bh(t,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Eh(t,o)}}function Eh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&sy(e,n)}function zI(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:TT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=ay;n&&(o=[i],u=Lu);const{revoke:f,proxy:m}=Proxy.revocable(o,u);return i.draft_=m,i.revoke_=f,m}var ay={get(t,e){if(e===Nn)return t;const n=fa(t);if(!cg(n,e))return jI(t,n,e);const i=n[e];return t.finalized_||!wi(i)?i:i===Fp(t.base_,e)?(Gp(t),t.copy_[e]=pg(i,t)):i},has(t,e){return e in fa(t)},ownKeys(t){return Reflect.ownKeys(fa(t))},set(t,e,n){const i=ST(fa(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const o=Fp(fa(t),e),u=o?.[Nn];if(u&&u.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(MI(n,o)&&(n!==void 0||cg(t.base_,e)))return!0;Gp(t),mg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Fp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Gp(t),mg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=fa(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){ir(11)},getPrototypeOf(t){return Bo(t.base_)},setPrototypeOf(){ir(12)}},Lu={};_h(ay,(t,e)=>{Lu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Lu.deleteProperty=function(t,e){return Lu.set.call(this,t,e,void 0)};Lu.set=function(t,e,n){return ay.set.call(this,t[0],e,n,t[0])};function Fp(t,e){const n=t[Nn];return(n?fa(n):t)[e]}function jI(t,e,n){const i=ST(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function ST(t,e){if(!(e in t))return;let n=Bo(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Bo(n)}}function mg(t){t.modified_||(t.modified_=!0,t.parent_&&mg(t.parent_))}function Gp(t){t.copy_||(t.copy_=fg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const f=this;return function(p=u,...g){return f.produce(p,v=>n.call(this,v,...g))}}typeof n!="function"&&ir(6),i!==void 0&&typeof i!="function"&&ir(7);let o;if(wi(e)){const u=Z0(this),f=pg(e,void 0);let m=!0;try{o=n(f),m=!1}finally{m?hg(u):dg(u)}return W0(u,i),J0(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===_T&&(o=void 0),this.autoFreeze_&&sy(o,!0),i){const u=[],f=[];va("Patches").generateReplacementPatches_(e,o,u,f),i(u,f)}return o}else ir(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(f,...m)=>this.produceWithPatches(f,p=>e(p,...m));let i,o;return[this.produce(e,n,(f,m)=>{i=f,o=m}),i,o]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wi(t)||ir(8),wa(t)&&(t=HI(t));const e=Z0(this),n=pg(t,void 0);return n[Nn].isManual_=!0,dg(e),n}finishDraft(t,e){const n=t&&t[Nn];(!n||!n.isManual_)&&ir(9);const{scope_:i}=n;return W0(i,e),J0(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const i=va("Patches").applyPatches_;return wa(t)?i(t,e):this.produce(t,o=>i(o,e))}};function pg(t,e){const n=td(t)?va("MapSet").proxyMap_(t,e):nd(t)?va("MapSet").proxySet_(t,e):zI(t,e);return(e?e.scope_:TT()).drafts_.push(n),n}function HI(t){return wa(t)||ir(10,t),AT(t)}function AT(t){if(!wi(t)||rd(t))return t;const e=t[Nn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=fg(t,!0);return _h(n,(i,o)=>{ET(n,i,AT(o))}),e&&(e.finalized_=!1),n}var kn=new qI,RT=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseStrictShallowCopy.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function CT(t){return({dispatch:n,getState:i})=>o=>u=>typeof u=="function"?u(n,i,t):o(u)}var FI=CT(),GI=CT,$I=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vh:vh.apply(null,arguments)},KI=t=>t&&typeof t.match=="function";function Iu(t,e){function n(...i){if(e){let o=e(...i);if(!o)throw new Error(pi(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>kI(i)&&i.type===t,n}var IT=class Su extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Su(...e[0].concat(this)):new Su(...e.concat(this))}};function tb(t){return wi(t)?RT(t,()=>{}):t}function zf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function QI(t){return typeof t=="boolean"}var YI=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let f=new IT;return n&&(QI(n)?f.push(FI):f.push(GI(n.extraArgument))),f},XI="RTK_autoBatch",nb=t=>e=>{setTimeout(e,t)},WI=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let o=!0,u=!1,f=!1;const m=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nb(10):t.type==="callback"?t.queueNotification:nb(t.timeout),g=()=>{f=!1,u&&(u=!1,m.forEach(v=>v()))};return Object.assign({},i,{subscribe(v){const E=()=>o&&v(),S=i.subscribe(E);return m.add(v),()=>{S(),m.delete(v)}},dispatch(v){try{return o=!v?.meta?.[XI],u=!o,u&&(f||(f=!0,p(g))),i.dispatch(v)}finally{o=!0}}})},ZI=t=>function(n){const{autoBatch:i=!0}=n??{};let o=new IT(t);return i&&o.push(WI(typeof i=="object"?i:void 0)),o};function JI(t){const e=YI(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=t||{};let m;if(typeof n=="function")m=n;else if(ry(n))m=vT(n);else throw new Error(pi(1));let p;typeof i=="function"?p=i(e):p=e();let g=vh;o&&(g=$I({trace:!1,...typeof o=="object"&&o}));const v=NI(...p),E=ZI(v);let S=typeof f=="function"?f(E):E();const O=g(...S);return iy(m,u,O)}function xT(t){const e={},n=[];let i;const o={addCase(u,f){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(pi(28));if(m in e)throw new Error(pi(29));return e[m]=f,o},addMatcher(u,f){return n.push({matcher:u,reducer:f}),o},addDefaultCase(u){return i=u,o}};return t(o),[e,n,i]}function ex(t){return typeof t=="function"}function tx(t,e){let[n,i,o]=xT(e),u;if(ex(t))u=()=>tb(t());else{const m=tb(t);u=()=>m}function f(m=u(),p){let g=[n[p.type],...i.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[o]),g.reduce((v,E)=>{if(E)if(wa(v)){const O=E(v,p);return O===void 0?v:O}else{if(wi(v))return RT(v,S=>E(S,p));{const S=E(v,p);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},m)}return f.getInitialState=u,f}var nx=(t,e)=>KI(t)?t.match(e):t(e);function rx(...t){return e=>t.some(n=>nx(n,e))}var ix="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sx=(t=21)=>{let e="",n=t;for(;n--;)e+=ix[Math.random()*64|0];return e},ax=["name","message","stack","code"],$p=class{constructor(t,e){this.payload=t,this.meta=e}_type},rb=class{constructor(t,e){this.payload=t,this.meta=e}_type},ox=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of ax)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},ib="External signal was aborted",Ca=(()=>{function t(e,n,i){const o=Iu(e+"/fulfilled",(p,g,v,E)=>({payload:p,meta:{...E||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),u=Iu(e+"/pending",(p,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:p,requestStatus:"pending"}})),f=Iu(e+"/rejected",(p,g,v,E,S)=>({payload:E,error:(i&&i.serializeError||ox)(p||"Rejected"),meta:{...S||{},arg:v,requestId:g,rejectedWithValue:!!E,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(v,E,S)=>{const O=i?.idGenerator?i.idGenerator(p):sx(),V=new AbortController;let q,U;function $(X){U=X,V.abort()}g&&(g.aborted?$(ib):g.addEventListener("abort",()=>$(ib),{once:!0}));const se=async function(){let X;try{let ie=i?.condition?.(p,{getState:E,extra:S});if(ux(ie)&&(ie=await ie),ie===!1||V.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const fe=new Promise((x,A)=>{q=()=>{A({name:"AbortError",message:U||"Aborted"})},V.signal.addEventListener("abort",q)});v(u(O,p,i?.getPendingMeta?.({requestId:O,arg:p},{getState:E,extra:S}))),X=await Promise.race([fe,Promise.resolve(n(p,{dispatch:v,getState:E,extra:S,requestId:O,signal:V.signal,abort:$,rejectWithValue:(x,A)=>new $p(x,A),fulfillWithValue:(x,A)=>new rb(x,A)})).then(x=>{if(x instanceof $p)throw x;return x instanceof rb?o(x.payload,O,p,x.meta):o(x,O,p)})])}catch(ie){X=ie instanceof $p?f(null,O,p,ie.payload,ie.meta):f(ie,O,p)}finally{q&&V.signal.removeEventListener("abort",q)}return i&&!i.dispatchConditionRejection&&f.match(X)&&X.meta.condition||v(X),X}();return Object.assign(se,{abort:$,requestId:O,arg:p,unwrap(){return se.then(lx)}})}}return Object.assign(m,{pending:u,rejected:f,fulfilled:o,settled:rx(f,o),typePrefix:e})}return t.withTypes=()=>t,t})();function lx(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function ux(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var cx=Symbol.for("rtk-slice-createasyncthunk");function fx(t,e){return`${t}/${e}`}function hx({creators:t}={}){const e=t?.asyncThunk?.[cx];return function(i){const{name:o,reducerPath:u=o}=i;if(!o)throw new Error(pi(11));const f=(typeof i.reducers=="function"?i.reducers(mx()):i.reducers)||{},m=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(X,ae){const ie=typeof X=="string"?X:X.type;if(!ie)throw new Error(pi(12));if(ie in p.sliceCaseReducersByType)throw new Error(pi(13));return p.sliceCaseReducersByType[ie]=ae,g},addMatcher(X,ae){return p.sliceMatchers.push({matcher:X,reducer:ae}),g},exposeAction(X,ae){return p.actionCreators[X]=ae,g},exposeCaseReducer(X,ae){return p.sliceCaseReducersByName[X]=ae,g}};m.forEach(X=>{const ae=f[X],ie={reducerName:X,type:fx(o,X),createNotation:typeof i.reducers=="function"};gx(ae)?wx(ie,ae,g,e):px(ie,ae,g)});function v(){const[X={},ae=[],ie=void 0]=typeof i.extraReducers=="function"?xT(i.extraReducers):[i.extraReducers],fe={...X,...p.sliceCaseReducersByType};return tx(i.initialState,x=>{for(let A in fe)x.addCase(A,fe[A]);for(let A of p.sliceMatchers)x.addMatcher(A.matcher,A.reducer);for(let A of ae)x.addMatcher(A.matcher,A.reducer);ie&&x.addDefaultCase(ie)})}const E=X=>X,S=new Map,O=new WeakMap;let V;function q(X,ae){return V||(V=v()),V(X,ae)}function U(){return V||(V=v()),V.getInitialState()}function $(X,ae=!1){function ie(x){let A=x[X];return typeof A>"u"&&ae&&(A=zf(O,ie,U)),A}function fe(x=E){const A=zf(S,ae,()=>new WeakMap);return zf(A,x,()=>{const R={};for(const[k,P]of Object.entries(i.selectors??{}))R[k]=dx(P,x,()=>zf(O,x,U),ae);return R})}return{reducerPath:X,getSelectors:fe,get selectors(){return fe(ie)},selectSlice:ie}}const se={name:o,reducer:q,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:U,...$(u),injectInto(X,{reducerPath:ae,...ie}={}){const fe=ae??u;return X.inject({reducerPath:fe,reducer:q},ie),{...se,...$(fe,!0)}}};return se}}function dx(t,e,n,i){function o(u,...f){let m=e(u);return typeof m>"u"&&i&&(m=n()),t(m,...f)}return o.unwrapped=t,o}var id=hx();function mx(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function px({type:t,reducerName:e,createNotation:n},i,o){let u,f;if("reducer"in i){if(n&&!yx(i))throw new Error(pi(17));u=i.reducer,f=i.prepare}else u=i;o.addCase(t,u).exposeCaseReducer(e,u).exposeAction(e,f?Iu(t,f):Iu(t))}function gx(t){return t._reducerDefinitionType==="asyncThunk"}function yx(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wx({type:t,reducerName:e},n,i,o){if(!o)throw new Error(pi(18));const{payloadCreator:u,fulfilled:f,pending:m,rejected:p,settled:g,options:v}=n,E=o(t,u,v);i.exposeAction(e,E),f&&i.addCase(E.fulfilled,f),m&&i.addCase(E.pending,m),p&&i.addCase(E.rejected,p),g&&i.addMatcher(E.settled,g),i.exposeCaseReducer(e,{fulfilled:f||jf,pending:m||jf,rejected:p||jf,settled:g||jf})}function jf(){}function pi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const vx=()=>{};var sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_x=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],f=t[n++],m=t[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],f=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const u=t[o],f=o+1<t.length,m=f?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(S=64)),i.push(n[v],n[E],n[S],n[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_x(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new bx;const S=u<<2|m>>4;if(i.push(S),g!==64){const O=m<<4&240|g>>2;if(i.push(O),E!==64){const V=g<<6&192|E;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ex=function(t){const e=DT(t);return OT.encodeByteArray(e,!0)},Th=function(t){return Ex(t).replace(/\./g,"")},NT=function(t){try{return OT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=()=>Tx().__FIREBASE_DEFAULTS__,Ax=()=>{if(typeof process>"u"||typeof sb>"u")return;const t=sb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NT(t[1]);return e&&JSON.parse(e)},sd=()=>{try{return vx()||Sx()||Ax()||Rx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kT=t=>sd()?.emulatorHosts?.[t],Cx=t=>{const e=kT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},PT=()=>sd()?.config,MT=t=>sd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const xu={};function Dx(){const t={prod:[],emulator:[]};for(const e of Object.keys(xu))xu[e]?t.emulator.push(e):t.prod.push(e);return t}function Ox(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ab=!1;function LT(t,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||xu[t]===e||xu[t]||ab)return;xu[t]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=Dx().prod.length>0;function f(){const S=document.getElementById(i);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ab=!0,f()},S}function v(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=Ox(i),O=n("text"),V=document.getElementById(O)||document.createElement("span"),q=n("learnmore"),U=document.getElementById(q)||document.createElement("a"),$=n("preprendIcon"),se=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;m(X),v(U,q);const ae=g();p(se,$),X.append(se,V,U,ae),document.body.appendChild(X)}u?(V.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function kx(){const t=sd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Px(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lx(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ux(){return!kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bx(){try{return typeof indexedDB=="object"}catch{return!1}}function zx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="FirebaseError";class Ai extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=jx,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?qx(u,i):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ai(o,m,i)}}function qx(t,e){return t.replace(Hx,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Hx=/\{\$([^}]+)}/g;function Fx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _a(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=t[o],f=e[o];if(ob(u)&&ob(f)){if(!_a(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function ob(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gx(t,e){const n=new $x(t,e);return n.subscribe.bind(n)}class $x{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Kx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Kp),o.error===void 0&&(o.error=Kp),o.complete===void 0&&(o.complete=Kp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class ba{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ix;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xx(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&f.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Yx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yx(t){return t===ha?void 0:t}function Xx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const Zx={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Jx=Pe.INFO,eD={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},tD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=eD[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=Jx,this._logHandler=tD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const nD=(t,e)=>e.some(n=>t instanceof n);let lb,ub;function rD(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iD(){return ub||(ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UT=new WeakMap,gg=new WeakMap,BT=new WeakMap,Qp=new WeakMap,ly=new WeakMap;function sD(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",f)},u=()=>{n(us(t.result)),o()},f=()=>{i(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&UT.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function aD(t){if(gg.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",f),t.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",f),t.addEventListener("abort",f)});gg.set(t,e)}let yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){yg=t(yg)}function lD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yp(this),e,...n);return BT.set(i,e.sort?e.sort():[e]),us(i)}:iD().includes(t)?function(...e){return t.apply(Yp(this),e),us(UT.get(this))}:function(...e){return us(t.apply(Yp(this),e))}}function uD(t){return typeof t=="function"?lD(t):(t instanceof IDBTransaction&&aD(t),nD(t,rD())?new Proxy(t,yg):t)}function us(t){if(t instanceof IDBRequest)return sD(t);if(Qp.has(t))return Qp.get(t);const e=uD(t);return e!==t&&(Qp.set(t,e),ly.set(e,t)),e}const Yp=t=>ly.get(t);function cD(t,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(t,e),m=us(f);return i&&f.addEventListener("upgradeneeded",p=>{i(us(f.result),p.oldVersion,p.newVersion,us(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const fD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],Xp=new Map;function cb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=hD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||fD.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Xp.set(e,u),u}oD(t=>({...t,get:(e,n,i)=>cb(e,n)||t.get(e,n,i),has:(e,n)=>!!cb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mD(t){return t.getComponent()?.type==="VERSION"}const wg="@firebase/app",fb="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new oy("@firebase/app"),pD="@firebase/app-compat",gD="@firebase/analytics-compat",yD="@firebase/analytics",wD="@firebase/app-check-compat",vD="@firebase/app-check",_D="@firebase/auth",bD="@firebase/auth-compat",ED="@firebase/database",TD="@firebase/data-connect",SD="@firebase/database-compat",AD="@firebase/functions",RD="@firebase/functions-compat",CD="@firebase/installations",ID="@firebase/installations-compat",xD="@firebase/messaging",DD="@firebase/messaging-compat",OD="@firebase/performance",ND="@firebase/performance-compat",kD="@firebase/remote-config",PD="@firebase/remote-config-compat",MD="@firebase/storage",VD="@firebase/storage-compat",LD="@firebase/firestore",UD="@firebase/ai",BD="@firebase/firestore-compat",zD="firebase",jD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",qD={[wg]:"fire-core",[pD]:"fire-core-compat",[yD]:"fire-analytics",[gD]:"fire-analytics-compat",[vD]:"fire-app-check",[wD]:"fire-app-check-compat",[_D]:"fire-auth",[bD]:"fire-auth-compat",[ED]:"fire-rtdb",[TD]:"fire-data-connect",[SD]:"fire-rtdb-compat",[AD]:"fire-fn",[RD]:"fire-fn-compat",[CD]:"fire-iid",[ID]:"fire-iid-compat",[xD]:"fire-fcm",[DD]:"fire-fcm-compat",[OD]:"fire-perf",[ND]:"fire-perf-compat",[kD]:"fire-rc",[PD]:"fire-rc-compat",[MD]:"fire-gcs",[VD]:"fire-gcs-compat",[LD]:"fire-fst",[BD]:"fire-fst-compat",[UD]:"fire-vertex","fire-js":"fire-js",[zD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,HD=new Map,_g=new Map;function hb(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(_g.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,t);for(const n of Sh.values())hb(n,t);for(const n of HD.values())hb(n,t);return!0}function uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Xu("app","Firebase",FD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=jD;function zT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:vg,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=PT()),!n)throw cs.create("no-options");const u=Sh.get(o);if(u){if(_a(n,u.options)&&_a(i,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const f=new Wx(o);for(const p of _g.values())f.addComponent(p);const m=new GD(n,i,f);return Sh.set(o,m),m}function jT(t=vg){const e=Sh.get(t);if(!e&&t===vg&&PT())return zT();if(!e)throw cs.create("no-app",{appName:t});return e}function fs(t,e,n){let i=qD[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(f.join(" "));return}zo(new ba(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebase-heartbeat-database",KD=1,Uu="firebase-heartbeat-store";let Wp=null;function qT(){return Wp||(Wp=cD($D,KD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),Wp}async function QD(t){try{const n=(await qT()).transaction(Uu),i=await n.objectStore(Uu).get(HT(t));return await n.done,i}catch(e){if(e instanceof Ai)vi.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function db(t,e){try{const i=(await qT()).transaction(Uu,"readwrite");await i.objectStore(Uu).put(e,HT(t)),await i.done}catch(n){if(n instanceof Ai)vi.warn(n.message);else{const i=cs.create("idb-set",{originalErrorMessage:n?.message});vi.warn(i.message)}}}function HT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,XD=30;class WD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>XD){const o=eO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mb(),{heartbeatsToSend:n,unsentEntries:i}=ZD(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vi.warn(e),""}}}function mb(){return new Date().toISOString().substring(0,10)}function ZD(t,e=YD){const n=[];let i=t.slice();for(const o of t){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),pb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),pb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class JD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bx()?zx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pb(t){return Th(JSON.stringify({version:2,heartbeats:t})).length}function eO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){zo(new ba("platform-logger",e=>new dD(e),"PRIVATE")),zo(new ba("heartbeat",e=>new WD(e),"PRIVATE")),fs(wg,fb,t),fs(wg,fb,"esm2020"),fs("fire-js","")}tO("");var gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,FT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function R(){}R.prototype=A.prototype,x.D=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(k,P,L){for(var I=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)I[Ft-2]=arguments[Ft];return A.prototype[P].apply(k,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);var k=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)k[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)k[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],P=x.g[2];var L=x.g[3],I=A+(L^R&(P^L))+k[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[2]+606105819&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[6]+2821735955&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[10]+4294925233&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(L^R&(P^L))+k[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=L+(P^A&(R^P))+k[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=P+(R^L&(A^R))+k[14]+2792965006&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(A^P&(L^A))+k[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=A+(P^L&(R^P))+k[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[11]+643717713&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[15]+3634488961&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[3]+4107603335&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(P^L&(R^P))+k[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(A^R))+k[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=P+(A^R&(L^A))+k[7]+1735328473&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^A&(P^L))+k[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=A+(R^P^L)+k[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[11]+1839030562&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[7]+4139469664&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[3]+3572445317&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(R^P^L)+k[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=L+(A^R^P)+k[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=P+(L^A^R)+k[15]+530742520&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^A)+k[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=A+(P^(R|~L))+k[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[14]+2878612391&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[10]+4293915773&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[6]+2734768916&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=A+(P^(R|~L))+k[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=L+(R^(A|~P))+k[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=P+(A^(L|~R))+k[2]+718787259&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~A))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}i.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var R=A-this.blockSize,k=this.B,P=this.h,L=0;L<A;){if(P==0)for(;L<=R;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(k[P++]=x.charCodeAt(L++),P==this.blockSize){o(this,k),P=0;break}}else for(;L<A;)if(k[P++]=x[L++],P==this.blockSize){o(this,k),P=0;break}}this.h=P,this.o+=A},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var R=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=R&255,R/=256;for(this.u(x),x=Array(16),A=R=0;4>A;++A)for(var k=0;32>k;k+=8)x[R++]=this.g[A]>>>k&255;return x};function u(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function f(x,A){this.h=A;for(var R=[],k=!0,P=x.length-1;0<=P;P--){var L=x[P]|0;k&&L==A||(R[P]=L,k=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(A){return new f([A|0],0>A?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return U(g(-x));for(var A=[],R=1,k=0;x>=R;k++)A[k]=x/R|0,R*=4294967296;return new f(A,0)}function v(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return U(v(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),k=E,P=0;P<x.length;P+=8){var L=Math.min(8,x.length-P),I=parseInt(x.substring(P,P+L),A);8>L?(L=g(Math.pow(A,L)),k=k.j(L).add(g(I))):(k=k.j(R),k=k.add(g(I)))}return k}var E=p(0),S=p(1),O=p(16777216);t=f.prototype,t.m=function(){if(q(this))return-U(this).m();for(var x=0,A=1,R=0;R<this.g.length;R++){var k=this.i(R);x+=(0<=k?k:4294967296+k)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(q(this))return"-"+U(this).toString(x);for(var A=g(Math.pow(x,6)),R=this,k="";;){var P=ae(R,A).g;R=$(R,P.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=P,V(R))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function q(x){return x.h==-1}t.l=function(x){return x=$(this,x),q(x)?-1:V(x)?0:1};function U(x){for(var A=x.g.length,R=[],k=0;k<A;k++)R[k]=~x.g[k];return new f(R,~x.h).add(S)}t.abs=function(){return q(this)?U(this):this},t.add=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0,P=0;P<=A;P++){var L=k+(this.i(P)&65535)+(x.i(P)&65535),I=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);k=I>>>16,L&=65535,I&=65535,R[P]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(x,A){return x.add(U(A))}t.j=function(x){if(V(this)||V(x))return E;if(q(this))return q(x)?U(this).j(U(x)):U(U(this).j(x));if(q(x))return U(this.j(U(x)));if(0>this.l(O)&&0>x.l(O))return g(this.m()*x.m());for(var A=this.g.length+x.g.length,R=[],k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<x.g.length;P++){var L=this.i(k)>>>16,I=this.i(k)&65535,Ft=x.i(P)>>>16,ht=x.i(P)&65535;R[2*k+2*P]+=I*ht,se(R,2*k+2*P),R[2*k+2*P+1]+=L*ht,se(R,2*k+2*P+1),R[2*k+2*P+1]+=I*Ft,se(R,2*k+2*P+1),R[2*k+2*P+2]+=L*Ft,se(R,2*k+2*P+2)}for(k=0;k<A;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=A;k<2*A;k++)R[k]=0;return new f(R,0)};function se(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function X(x,A){this.g=x,this.h=A}function ae(x,A){if(V(A))throw Error("division by zero");if(V(x))return new X(E,E);if(q(x))return A=ae(U(x),A),new X(U(A.g),U(A.h));if(q(A))return A=ae(x,U(A)),new X(U(A.g),A.h);if(30<x.g.length){if(q(x)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=A;0>=k.l(x);)R=ie(R),k=ie(k);var P=fe(R,1),L=fe(k,1);for(k=fe(k,2),R=fe(R,2);!V(k);){var I=L.add(k);0>=I.l(x)&&(P=P.add(R),L=I),k=fe(k,1),R=fe(R,1)}return A=$(x,P.j(A)),new X(P,A)}for(P=E;0<=x.l(A);){for(R=Math.max(1,Math.floor(x.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=g(R),I=L.j(A);q(I)||0<I.l(x);)R-=k,L=g(R),I=L.j(A);V(L)&&(L=S),P=P.add(L),x=$(x,I)}return new X(P,x)}t.A=function(x){return ae(this,x).h},t.and=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)&x.i(k);return new f(R,this.h&x.h)},t.or=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)|x.i(k);return new f(R,this.h|x.h)},t.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)^x.i(k);return new f(R,this.h^x.h)};function ie(x){for(var A=x.g.length+1,R=[],k=0;k<A;k++)R[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(R,x.h)}function fe(x,A){var R=A>>5;A%=32;for(var k=x.g.length-R,P=[],L=0;L<k;L++)P[L]=0<A?x.i(L+R)>>>A|x.i(L+R+1)<<32-A:x.i(L+R);return new f(P,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,FT=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,hs=f}).apply(typeof gb<"u"?gb:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GT,Au,$T,eh,bg,KT,QT,YT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(c,y){if(y)e:{var w=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var B=c[T];if(!(B in w))break e;w=w[B]}c=c[c.length-1],T=w[c],y=y(T),y!=T&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var w=0,T=!1,B={next:function(){if(!T&&w<c.length){var K=w++;return{value:y(K,c[K]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,w){return c.call.apply(c.bind,arguments)}function E(c,y,w){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,w){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function O(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var T=w.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function V(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(T,B,K){for(var le=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)le[Le-2]=arguments[Le];return y.prototype[B].apply(T,le)}}function q(c){const y=c.length;if(0<y){const w=Array(y);for(let T=0;T<y;T++)w[T]=c[T];return w}return[]}function U(c,y){for(let w=1;w<arguments.length;w++){const T=arguments[w];if(p(T)){const B=c.length||0,K=T.length||0;c.length=B+K;for(let le=0;le<K;le++)c[B+le]=T[le]}else c.push(T)}}class ${constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ie=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(c,y,w){for(const T in c)y.call(w,c[T],T,c)}function x(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function A(c){const y={};for(const w in c)y[w]=c[w];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let w,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(w in T)c[w]=T[w];for(let K=0;K<R.length;K++)w=R[K],Object.prototype.hasOwnProperty.call(T,w)&&(c[w]=T[w])}}function P(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ft{constructor(){this.h=this.g=null}add(y,w){const T=ht.get();T.set(y,w),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,He=new Ft,D=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(re)}};var re=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(w){L(w)}var y=ht;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};m.addEventListener("test",w,y),m.removeEventListener("test",w,y)}catch{}return c}();function De(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{ae(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}V(De,oe);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function lr(c,y,w,T,B){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!T,this.ha=B,this.key=++nt,this.da=this.fa=!1}function Ri(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Br(c){this.src=c,this.g={},this.h=0}Br.prototype.add=function(c,y,w,T,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=Cs(c,y,T,B);return-1<le?(y=c[le],w||(y.fa=!1)):(y=new lr(y,this.src,K,!!T,B),y.fa=w,c.push(y)),y};function Rs(c,y){var w=y.type;if(w in c.g){var T=c.g[w],B=Array.prototype.indexOf.call(T,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(T,B,1),K&&(Ri(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Cs(c,y,w,T){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!w&&K.ha==T)return B}return-1}var Is="closure_lm_"+(1e6*Math.random()|0),hl={};function mc(c,y,w,T,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)mc(c,y[K],w,T,B);return null}return w=pc(w),c&&c[Vt]?c.K(y,w,g(T)?!!T.capture:!1,B):Ln(c,y,w,!1,T,B)}function Ln(c,y,w,T,B,K){if(!y)throw Error("Invalid event type");var le=g(B)?!!B.capture:!!B,Le=Pa(c);if(Le||(c[Is]=Le=new Br(c)),w=Le.add(y,w,T,le,K),w.proxy)return w;if(T=kd(),w.proxy=T,T.src=c,T.listener=w,c.addEventListener)we||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),T,B);else if(c.attachEvent)c.attachEvent(xs(y.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return w}function kd(){function c(w){return y.call(c.src,c.listener,w)}const y=Pd;return c}function dl(c,y,w,T,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)dl(c,y[K],w,T,B);else T=g(T)?!!T.capture:!!T,w=pc(w),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],w=Cs(K,w,T,B),-1<w&&(Ri(K[w]),Array.prototype.splice.call(K,w,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Cs(y,w,T,B)),(w=-1<c?y[c]:null)&&ka(w))}function ka(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])Rs(y.i,c);else{var w=c.type,T=c.proxy;y.removeEventListener?y.removeEventListener(w,T,c.capture):y.detachEvent?y.detachEvent(xs(w),T):y.addListener&&y.removeListener&&y.removeListener(T),(w=Pa(y))?(Rs(w,c),w.h==0&&(w.src=null,y[Is]=null)):Ri(c)}}}function xs(c){return c in hl?hl[c]:hl[c]="on"+c}function Pd(c,y){if(c.da)c=!0;else{y=new De(y,this);var w=c.listener,T=c.ha||c.src;c.fa&&ka(c),c=w.call(T,y)}return c}function Pa(c){return c=c[Is],c instanceof Br?c:null}var ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function pc(c){return typeof c=="function"?c:(c[ml]||(c[ml]=function(y){return c.handleEvent(y)}),c[ml])}function dt(){ce.call(this),this.i=new Br(this),this.M=this,this.F=null}V(dt,ce),dt.prototype[Vt]=!0,dt.prototype.removeEventListener=function(c,y,w,T){dl(this,c,y,w,T)};function Qe(c,y){var w,T=c.F;if(T)for(w=[];T;T=T.F)w.push(T);if(c=c.M,T=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var B=y;y=new oe(T,c),k(y,B)}if(B=!0,w)for(var K=w.length-1;0<=K;K--){var le=y.g=w[K];B=En(le,T,!0,y)&&B}if(le=y.g=c,B=En(le,T,!0,y)&&B,B=En(le,T,!1,y)&&B,w)for(K=0;K<w.length;K++)le=y.g=w[K],B=En(le,T,!1,y)&&B}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],T=0;T<w.length;T++)Ri(w[T]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,w,T){return this.i.add(String(c),y,!1,w,T)},dt.prototype.L=function(c,y,w,T){return this.i.add(String(c),y,!0,w,T)};function En(c,y,w,T){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var le=y[K];if(le&&!le.da&&le.capture==w){var Le=le.listener,Ot=le.ha||le.src;le.fa&&Rs(c.i,le),B=Le.call(Ot,T)!==!1&&B}}return B&&!T.defaultPrevented}function en(c,y,w){if(typeof c=="function")w&&(c=S(c,w));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function gc(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,gc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Md extends ce{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(c){ce.call(this),this.h=c,this.g={}}V(Ds,ce);var Os=[];function Ns(c){fe(c.g,function(y,w){this.g.hasOwnProperty(w)&&ka(y)},c),c.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),Ns(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=m.JSON.stringify,Ma=m.JSON.parse,ks=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function pl(){}pl.prototype.h=null;function gl(c){return c.h||(c.h=c.i())}function yl(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){oe.call(this,"d")}V(jr,oe);function wl(){oe.call(this,"c")}V(wl,oe);var ur={},vl=null;function Ci(){return vl=vl||new dt}ur.La="serverreachability";function Va(c){oe.call(this,ur.La,c)}V(Va,oe);function Ii(c){const y=Ci();Qe(y,new Va(y))}ur.STAT_EVENT="statevent";function yc(c,y){oe.call(this,ur.STAT_EVENT,c),this.stat=y}V(yc,oe);function ot(c){const y=Ci();Qe(y,new yc(y,c))}ur.Ma="timingevent";function Dt(c,y){oe.call(this,ur.Ma,c),this.size=y}V(Dt,oe);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function _l(c,y,w,T,B,K){c.info(function(){if(c.g)if(K)for(var le="",Le=K.split("&"),Ot=0;Ot<Le.length;Ot++){var Ue=Le[Ot].split("=");if(1<Ue.length){var Ut=Ue[0];Ue=Ue[1];var Nt=Ut.split("_");le=2<=Nt.length&&Nt[1]=="type"?le+(Ut+"="+Ue+"&"):le+(Ut+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+y+`
`+w+`
`+le})}function Vd(c,y,w,T,B,K,le){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+y+`
`+w+`
`+K+" "+le})}function xi(c,y,w,T){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ps(c,w)+(T?" "+T:"")})}function wc(c,y){c.info(function(){return"TIMEOUT: "+y})}Un.prototype.info=function(){};function Ps(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var T=w[c];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return Zn(w)}catch{return y}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function fr(){}V(fr,pl),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},cr=new fr;function un(c,y,w,T){this.j=c,this.i=y,this.l=w,this.R=T||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var bl={},La={};function Jn(c,y,w){c.L=1,c.v=Bs(Tn(y)),c.m=w,c.P=!0,Hr(c,null)}function Hr(c,y){c.F=Date.now(),Ms(c),c.A=Tn(c.v);var w=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Cl(w.i,"t",T),c.C=0,w=c.j.J,c.h=new gt,c.g=Pc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new Md(S(c.Y,c,c.g),c.O)),y=c.U,w=c.g,T=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Os[0]=B.toString()),B=Os);for(var K=0;K<B.length;K++){var le=mc(w,B[K],T||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ii(),_l(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&qn(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=qn(this.g);var y=this.g.Ba();const Wr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Rc(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Wr?Ii(3):Ii(2)),Oi(this);var w=this.g.Z();this.X=w;t:if(vc(this)){var T=Rc(this.g);c="";var B=T.length,K=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),hr(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(T[y],{stream:!(K&&y==B-1)});T.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,Vd(this.i,this.u,this.A,this.l,this.R,Nt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ot=this.g;if((Le=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Le)){var Ue=Le;break t}}Ue=null}if(w=Ue)xi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vs(this,w);else{this.o=!1,this.s=3,ot(12),Gt(this),hr(this);break e}}if(this.P){w=!0;let $t;for(;!this.J&&this.C<le.length;)if($t=_c(this,le),$t==La){Nt==4&&(this.s=4,ot(14),w=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if($t==bl){this.s=4,ot(15),xi(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else xi(this.i,this.l,$t,null),Vs(this,$t);if(vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||le.length!=0||this.h.h||(this.s=1,ot(16),w=!1),this.o=this.o&&w,!w)xi(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),hr(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ks(Ut),Ut.M=!0,ot(11))}}else xi(this.i,this.l,le,null),Vs(this,le);Nt==4&&Gt(this),this.o&&!this.J&&(Nt==4?Oc(this.j,this):(this.o=!1,Ms(this)))}else jd(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Gt(this),hr(this)}}}catch{}finally{}};function vc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _c(c,y){var w=c.C,T=y.indexOf(`
`,w);return T==-1?La:(w=Number(y.substring(w,T)),isNaN(w)?bl:(T+=1,T+w>y.length?La:(y=y.slice(T,T+w),c.C=T+w,y)))}un.prototype.cancel=function(){this.J=!0,Gt(this)};function Ms(c){c.S=Date.now()+c.I,bc(c,c.I)}function bc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function Oi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wc(this.i,this.A),this.L!=2&&(Ii(),ot(17)),Gt(this),this.s=2,hr(this)):bc(this,this.S-c)};function hr(c){c.j.G==0||c.J||Oc(c.j,c)}function Gt(c){Oi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ns(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Vs(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||El(w.h,c))){if(!c.K&&El(w.h,c)&&w.G==3){try{var T=w.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Ya(w),Ka(w);else break e;Nl(w),ot(18)}}else w.za=B[1],0<w.za-w.T&&37500>B[2]&&w.F&&w.v==0&&!w.C&&(w.C=Et(S(w.Za,w),6e3));if(1>=Ba(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Xr(w,11)}else if((c.K||w.g==c)&&Ya(w),!se(y))for(B=w.Da.g.parse(y),y=0;y<B.length;y++){let Ue=B[y];if(w.T=Ue[0],Ue=Ue[1],w.G==2)if(Ue[0]=="c"){w.K=Ue[1],w.ia=Ue[2];const Ut=Ue[3];Ut!=null&&(w.la=Ut,w.j.info("VER="+w.la));const Nt=Ue[4];Nt!=null&&(w.Aa=Nt,w.j.info("SVER="+w.Aa));const Wr=Ue[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(T=1.5*Wr,w.L=T,w.j.info("backChannelRequestTimeoutMs_="+T)),T=w;const $t=c.g;if($t){const vr=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var K=T.h;K.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(za(K,K.h),K.h=null))}if(T.D){const Pl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Pl&&(T.ya=Pl,We(T.I,T.D,Pl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),T=w;var le=c;if(T.qa=kc(T,T.J?T.ia:null,T.W),le.K){cn(T.h,le);var Le=le,Ot=T.L;Ot&&(Le.I=Ot),Le.B&&(Oi(Le),Ms(Le)),T.g=le}else xc(T);0<w.i.length&&Qa(w)}else Ue[0]!="stop"&&Ue[0]!="close"||Xr(w,7);else w.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Xr(w,7):Dl(w):Ue[0]!="noop"&&w.l&&w.l.ta(Ue),w.v=0)}}Ii(4)}catch{}}var Ec=class{constructor(c,y){this.g=c,this.map=y}};function Fr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ba(c){return c.h?1:c.g?c.g.size:0}function El(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function za(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Fr.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return q(c.i)}function Ld(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],w=c.length,T=0;T<w;T++)y.push(c[T]);return y}y=[],w=0;for(T in c)y[w++]=c[T];return y}function ja(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const T in c)y[w++]=T;return y}}}function Sl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=ja(c),T=Ld(c),B=T.length,K=0;K<B;K++)y.call(void 0,T[K],w&&w[K],c)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ud(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var T=c[w].indexOf("="),B=null;if(0<=T){var K=c[w].substring(0,T);B=c[w].substring(T+1)}else K=c[w];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,Us(this,c.j),this.o=c.o,this.g=c.g,Ni(this,c.s),this.l=c.l;var y=c.i,w=new $r;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Gr(this,w),this.m=c.m}else c&&(y=String(c).match(Ls))?(this.h=!1,Us(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Ni(this,y[4]),this.l=Bn(y[5]||"",!0),Gr(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(zs(y,Al,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(zs(y,Al,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(zs(w,w.charAt(0)=="/"?Bd:Rl,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",zs(w,qa)),c.join("")};function Tn(c){return new Tt(c)}function Us(c,y,w){c.j=w?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ni(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Gr(c,y,w){y instanceof $r?(c.i=y,Sc(c.i,c.h)):(w||(y=zs(y,zd)),c.i=new $r(y,c.h))}function We(c,y,w){c.i.set(y,w)}function Bs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zs(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Tc),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Al=/[#\/\?@]/g,Rl=/[#\?:]/g,Bd=/[#\?]/g,zd=/[#\?@]/g,qa=/#/g;function $r(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ud(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=$r.prototype,t.add=function(c,y){zn(this),this.i=null,c=dr(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Kr(c,y){zn(c),y=dr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qr(c,y){return zn(c),y=dr(c,y),c.g.has(y)}t.forEach=function(c,y){zn(this),this.g.forEach(function(w,T){w.forEach(function(B){c.call(y,B,T,this)},this)},this)},t.na=function(){zn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let T=0;T<y.length;T++){const B=c[T];for(let K=0;K<B.length;K++)w.push(y[T])}return w},t.V=function(c){zn(this);let y=[];if(typeof c=="string")Qr(this,c)&&(y=y.concat(this.g.get(dr(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return zn(this),this.i=null,c=dr(this,c),Qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Cl(c,y,w){Kr(c,y),0<w.length&&(c.i=null,c.g.set(dr(c,y),q(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var T=y[w];const K=encodeURIComponent(String(T)),le=this.V(T);for(T=0;T<le.length;T++){var B=K;le[T]!==""&&(B+="="+encodeURIComponent(String(le[T]))),c.push(B)}}return this.i=c.join("&")};function dr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Sc(c,y){y&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(w,T){var B=T.toLowerCase();T!=B&&(Kr(this,T),Cl(this,B,w))},c)),c.j=y}function js(c,y){const w=new Un;if(m.Image){const T=new Image;T.onload=O(jn,w,"TestLoadImage: loaded",!0,y,T),T.onerror=O(jn,w,"TestLoadImage: error",!1,y,T),T.onabort=O(jn,w,"TestLoadImage: abort",!1,y,T),T.ontimeout=O(jn,w,"TestLoadImage: timeout",!1,y,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else y(!1)}function er(c,y){const w=new Un,T=new AbortController,B=setTimeout(()=>{T.abort(),jn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:T.signal}).then(K=>{clearTimeout(B),K.ok?jn(w,"TestPingServer: ok",!0,y):jn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),jn(w,"TestPingServer: error",!1,y)})}function jn(c,y,w,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(w)}catch{}}function qs(){this.g=new ks}function mr(c,y,w){const T=w||"";try{Sl(c,function(B,K){let le=B;g(B)&&(le=Zn(B)),y.push(T+K+"="+encodeURIComponent(le))})}catch(B){throw y.push(T+"type="+encodeURIComponent("_badmap")),B}}function ki(c){this.l=c.Ub||null,this.j=c.eb||!1}V(ki,pl),ki.prototype.g=function(){return new Yr(this.l,this.j)},ki.prototype.i=function(c){return function(){return c}}({});function Yr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Yr,dt),t=Yr.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,gr(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?pr(this):gr(this),this.readyState==3&&Il(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,pr(this))},t.Qa=function(c){this.g&&(this.response=c,pr(this))},t.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xl(c){let y="";return fe(c,function(w,T){y+=T,y+=":",y+=w,y+=`\r
`}),y}function Lt(c,y,w){e:{for(T in w){var T=!1;break e}T=!0}T||(w=xl(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):We(c,y,w))}function $e(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V($e,dt);var Ha=/^https?$/i,Hs=["POST","PUT"];t=$e.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?gl(this.o):gl(cr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ac(this,K);return}if(c=w||"",w=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)w.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const K of T.keys())w.set(K,T.get(K));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Hs,y,void 0))||T||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of w)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ac(this,K)}};function Ac(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Fa(c),yr(c)}function Fa(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),yr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},t.bb=function(){Ga(this)};function Ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)en(c.Ea,0,c);else if(Qe(c,"readystatechange"),qn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var T;if(T=le===0){var B=String(c.D).match(Ls)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),T=!Ha.test(B?B.toLowerCase():"")}w=T}if(w)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var K=2<qn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Fa(c)}}finally{yr(c)}}}}function yr(c,y){if(c.g){Fs(c);const w=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{w.onreadystatechange=T}catch{}}}function Fs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ma(y)}};function Rc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jd(c){const y={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(se(c[T]))continue;var w=P(c[T]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=y[B]||[];y[B]=K,K.push(w)}x(y,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function $a(c){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,c),this.cb=Gs("retryDelaySeedMs",1e4,c),this.Wa=Gs("forwardChannelMaxRetries",2,c),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fr(c&&c.concurrentRequestLimit),this.Da=new qs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$a.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,T){ot(0),this.W=c,this.H=y||{},w&&T!==void 0&&(this.H.OSID=w,this.H.OAID=T),this.F=this.X,this.I=kc(this,null,this.W),Qa(this)};function Dl(c){if(Cc(c),c.G==3){var y=c.U++,w=Tn(c.I);if(We(w,"SID",c.K),We(w,"RID",y),We(w,"TYPE","terminate"),$s(c,w),y=new un(c,c.j,y),y.L=2,y.v=Bs(Tn(w)),w=!1,m.navigator&&m.navigator.sendBeacon)try{w=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&m.Image&&(new Image().src=y.v,w=!0),w||(y.g=Pc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ms(y)}Nc(c)}function Ka(c){c.g&&(Ks(c),c.g.cancel(),c.g=null)}function Cc(c){Ka(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Qa(c){if(!Ua(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||D(),ge||(ue(),ge=!0),He.add(y,c),c.B=0}}function qd(c,y){return Ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),kl(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new un(this,this.j,c);let K=this.o;if(this.S&&(K?(K=A(K),k(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var T=this.i[w];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ic(this,B,y),w=Tn(this.I),We(w,"RID",c),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),$s(this,w),K&&(this.O?y="headers="+encodeURIComponent(String(xl(K)))+"&"+y:this.m&&Lt(w,this.m,K)),za(this.h,B),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",y),We(w,"SID","null"),B.T=!0,Jn(B,w,null)):Jn(B,w,y),this.G=2}}else this.G==3&&(c?Ol(this,c):this.i.length==0||Ua(this.h)||Ol(this))};function Ol(c,y){var w;y?w=y.l:w=c.U++;const T=Tn(c.I);We(T,"SID",c.K),We(T,"RID",w),We(T,"AID",c.T),$s(c,T),c.m&&c.o&&Lt(T,c.m,c.o),w=new un(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ic(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),za(c.h,w),Jn(w,T,y)}function $s(c,y){c.H&&fe(c.H,function(w,T){We(y,T,w)}),c.l&&Sl({},function(w,T){We(y,T,w)})}function Ic(c,y,w){w=Math.min(c.i.length,w);var T=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const le=["count="+w];K==-1?0<w?(K=B[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Le=!0;for(let Ot=0;Ot<w;Ot++){let Ue=B[Ot].g;const Ut=B[Ot].map;if(Ue-=K,0>Ue)K=Math.max(0,B[Ot].g-100),Le=!1;else try{mr(Ut,le,"req"+Ue+"_")}catch{T&&T(Ut)}}if(Le){T=le.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,T}function xc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||D(),ge||(ue(),ge=!0),He.add(y,c),c.v=0}}function Nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),kl(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ka(this),Dc(this))};function Ks(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Dc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),$s(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Bs(Tn(y)),w.m=null,w.P=!0,Hr(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Ka(this),Nl(this),ot(19))};function Ya(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Oc(c,y){var w=null;if(c.g==y){Ya(c),Ks(c),c.g=null;var T=2}else if(El(c.h,y))w=y.D,cn(c.h,y),T=1;else return;if(c.G!=0){if(y.o)if(T==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;T=Ci(),Qe(T,new Dt(T,w)),Qa(c)}else xc(c);else if(B=y.s,B==3||B==0&&0<y.X||!(T==1&&qd(c,y)||T==2&&Nl(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),B){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function kl(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Xr(c,y){if(c.j.info("Error code "+y),y==2){var w=S(c.fb,c),T=c.Xa;const B=!T;T=new Tt(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Us(T,"https"),Bs(T),B?js(T.toString(),w):er(T.toString(),w)}else ot(2);c.G=0,c.l&&c.l.sa(y),Nc(c),Cc(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Nc(c){if(c.G=0,c.ka=[],c.l){const y=Tl(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function kc(c,y,w){var T=w instanceof Tt?Tn(w):new Tt(w);if(T.g!="")y&&(T.g=y+"."+T.g),Ni(T,T.s);else{var B=m.location;T=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new Tt(null);T&&Us(K,T),y&&(K.g=y),B&&Ni(K,B),w&&(K.l=w),T=K}return w=c.D,y=c.ya,w&&y&&We(T,w,y),We(T,"VER",c.la),$s(c,T),T}function Pc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new ki({eb:w})):new $e(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mc(){}t=Mc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xa(){}Xa.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){dt.call(this),this.g=new $a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new wr(this)}V(fn,dt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Dl(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Zn(c),c=w);y.i.push(new Ec(y.Ya++,c)),y.G==3&&Qa(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,fn.aa.N.call(this)};function Vc(c){jr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Vc,jr);function Lc(){wl.call(this),this.status=1}V(Lc,wl);function wr(c){this.g=c}V(wr,Mc),wr.prototype.ua=function(){Qe(this.g,"a")},wr.prototype.ta=function(c){Qe(this.g,new Vc(c))},wr.prototype.sa=function(c){Qe(this.g,new Lc)},wr.prototype.ra=function(){Qe(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,YT=function(){return new Xa},QT=function(){return Ci()},KT=ur,bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,eh=Di,qr.COMPLETE="complete",$T=qr,yl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Au=yl,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,GT=$e}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const yb="@firebase/firestore",wb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new oy("@firebase/firestore");function Ro(){return Ea.logLevel}function de(t,...e){if(Ea.logLevel<=Pe.DEBUG){const n=e.map(cy);Ea.debug(`Firestore (${tl}): ${t}`,...n)}}function _i(t,...e){if(Ea.logLevel<=Pe.ERROR){const n=e.map(cy);Ea.error(`Firestore (${tl}): ${t}`,...n)}}function jo(t,...e){if(Ea.logLevel<=Pe.WARN){const n=e.map(cy);Ea.warn(`Firestore (${tl}): ${t}`,...n)}}function cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,XT(t,i,n)}function XT(t,e,n){let i=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw _i(i),new Error(i)}function Ke(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||XT(e,o,i)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class rO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iO{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ds,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ds)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string",31837,{l:i}),new WT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class sO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new sO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const i=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=lO(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function Eg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),u=e.charAt(i);if(o!==u)return Zp(o)===Zp(u)?Me(o,u):Zp(o)?1:-1}return Me(t.length,e.length)}const uO=55296,cO=57343;function Zp(t){const e=t.charCodeAt(0);return e>=uO&&e<=cO}function qo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__name__";class Ar{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ee(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Ar.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const i=Ar.isNumericId(e),o=Ar.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class it extends Ar{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const fO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ar{construct(e,n,i){return new Zt(e,n,i)}static isValidIdentifier(e){return fO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_b}static keyField(){return new Zt([_b])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(i+=m,o++):(u(),o++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hO(t,e,n,i){if(e===!0&&i===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bb(t){if(!ye.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eb(t){if(ye.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ad(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function gs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ad(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zu(t,e){if(!JT(t))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const f=t[i];if(o&&typeof f!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=-62135596800,Sb=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Sb);return new at(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Tb)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sb}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:It("string",at._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new at(0,0))}static max(){return new Re(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;function dO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new ys(o,ye.empty(),e)}function mO(t){return new ys(t.readTime,t.key,Bu)}class ys{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ys(Re.min(),ye.empty(),Bu)}static max(){return new ys(Re.max(),ye.empty(),Bu)}}function pO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==gO)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,i)=>{n(e)})}static reject(e){return new ne((n,i)=>{i(e)})}static waitFor(e){return new ne((n,i)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>i(p))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const i of e)n=n.next(o=>o?ne.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,u)=>{i.push(n.call(this,o,u))}),this.waitFor(i)}static mapArray(e,n){return new ne((i,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{f[g]=v,++m,m===u&&i(f)},v=>o(v))}})}static doWhile(e,n){return new ne((i,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):i()};u()})}}function wO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function ld(t){return t==null}function Ah(t){return t===0&&1/t==-1/0}function vO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="";function _O(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ab(e)),e=bO(t.get(n),e);return Ab(e)}function bO(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const u=t.charAt(o);switch(u){case"\0":n+="";break;case e2:n+="";break;default:n+=u}}return n}function Ab(t){return t+e2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new Wt(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cb(this.data.getIterator())}getIteratorFrom(e){return new Cb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Cb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Mt(Zt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new n2("Invalid base64 string: "+u):u}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const EO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=EO.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="server_timestamp",i2="__type__",s2="__previous_value__",a2="__local_write_time__";function dy(t){return(t?.mapValue?.fields||{})[i2]?.stringValue===r2}function ud(t){const e=t.mapValue.fields[s2];return dy(e)?ud(e):e}function zu(t){const e=ws(t.mapValue.fields[a2].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,i,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Rh="(default)";class ju{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__type__",SO="__max__",Ff={mapValue:{}},l2="__vector__",Ch="value";function _s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:RO(t)?9007199254740991:AO(t)?10:11:Ee(28295,{value:t})}function Vr(t,e){if(t===e)return!0;const n=_s(t);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ws(o.timestampValue),m=ws(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(t,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Ah(f)===Ah(m):isNaN(f)&&isNaN(m)}return!1}(t,e);case 9:return qo(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Rb(f)!==Rb(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Vr(f[p],m[p])))return!1;return!0}(t,e);default:return Ee(52216,{left:t})}}function qu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=_s(t),i=_s(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(t,e);case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(zu(t),zu(e));case 5:return Eg(t.stringValue,e.stringValue);case 6:return function(u,f){const m=vs(u),p=vs(f);return m.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Me(m[g],p[g]);if(v!==0)return v}return Me(m.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(_t(u.latitude),_t(f.latitude));return m!==0?m:Me(_t(u.longitude),_t(f.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xb(t.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ch]?.arrayValue,v=p[Ch]?.arrayValue,E=Me(g?.values?.length||0,v?.values?.length||0);return E!==0?E:xb(g,v)}(t.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ff.mapValue&&f===Ff.mapValue)return 0;if(u===Ff.mapValue)return 1;if(f===Ff.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Eg(p[E],v[E]);if(S!==0)return S;const O=Ho(m[p[E]],g[v[E]]);if(O!==0)return O}return Me(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Ib(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=ws(t),i=ws(e),o=Me(n.seconds,i.seconds);return o!==0?o:Me(n.nanos,i.nanos)}function xb(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=Ho(n[o],i[o]);if(u)return u}return Me(n.length,i.length)}function Fo(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ws(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Tg(u);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${Tg(n.fields[f])}`;return o+"}"}(t.mapValue):Ee(61005,{value:t})}function th(t){switch(_s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(t);return e?16+th(e):16;case 5:return 2*t.stringValue.length;case 6:return vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,u)=>o+th(u),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return Ts(i.fields,(u,f)=>{o+=u.length+th(f)}),o}(t.mapValue);default:throw Ee(13486,{value:t})}}function Db(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sg(t){return!!t&&"integerValue"in t}function my(t){return!!t&&"arrayValue"in t}function Ob(t){return!!t&&"nullValue"in t}function Nb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nh(t){return!!t&&"mapValue"in t}function AO(t){return(t?.mapValue?.fields||{})[o2]?.stringValue===l2}function Du(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Du(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return{...t}}function RO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=Zt.emptyPath(),i={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=m.popLast()}f?i[m.lastSegment()]=Du(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ts(n,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new _n(Du(this.value))}}function u2(t){const e=[];return Ts(t.fields,(n,i)=>{const o=new Zt([n]);if(nh(i)){const u=u2(i.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,i,o,u,f,m){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Re.min(),Re.min(),Re.min(),_n.empty(),0)}static newFoundDocument(e,n,i,o){return new an(e,1,n,Re.min(),i,o,0)}static newNoDocument(e,n){return new an(e,2,n,Re.min(),Re.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Re.min(),Re.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function kb(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const u=e[o],f=t.position[o];if(u.field.isKeyField()?i=ye.comparator(ye.fromName(f.referenceValue),n.key):i=Ho(f,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function CO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{}class Ct extends c2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xO(e,n,i):n==="array-contains"?new NO(e,i):n==="in"?new kO(e,i):n==="not-in"?new PO(e,i):n==="array-contains-any"?new MO(e,i):new Ct(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new DO(e,i):new OO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends c2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new or(e,n)}matches(e){return f2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f2(t){return t.op==="and"}function h2(t){return IO(t)&&f2(t)}function IO(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Ag(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(h2(t))return t.filters.map(e=>Ag(e)).join(",");{const e=t.filters.map(n=>Ag(n)).join(",");return`${t.op}(${e})`}}function d2(t,e){return t instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Vr(i.value,o.value)}(t,e):t instanceof or?function(i,o){return o instanceof or&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((u,f,m)=>u&&d2(f,o.filters[m]),!0):!1}(t,e):void Ee(19439)}function m2(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(m2).join(" ,")+"}"}(t):"Filter"}class xO extends Ct{constructor(e,n,i){super(e,n,i),this.key=ye.fromName(i.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class DO extends Ct{constructor(e,n){super(e,"in",n),this.keys=p2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OO extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=p2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p2(t,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class NO extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return my(n)&&qu(n.arrayValue,this.value)}}class kO extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class PO extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class MO extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!my(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>qu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n=null,i=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Mb(t,e=null,n=[],i=[],o=null,u=null,f=null){return new VO(t,e,n,i,o,u,f)}function py(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ag(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Fo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Fo(i)).join(",")),e.Te=n}return e.Te}function gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!d2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pb(t.startAt,e.startAt)&&Pb(t.endAt,e.endAt)}function Rg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n=null,i=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LO(t,e,n,i,o,u,f,m){return new il(t,e,n,i,o,u,f,m)}function g2(t){return new il(t)}function Vb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y2(t){return t.collectionGroup!==null}function Ou(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Zt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Hu(u,i))}),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Hu(Zt.keyField(),i))}return e.Ie}function Ir(t){const e=Ce(t);return e.Ee||(e.Ee=UO(e,Ou(t))),e.Ee}function UO(t,e){if(t.limitType==="F")return Mb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Hu(o.field,u)});const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return Mb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Cg(t,e){const n=t.filters.concat([e]);return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ig(t,e,n){return new il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return gy(Ir(t),Ir(e))&&t.limitType===e.limitType}function w2(t){return`${py(Ir(t))}|lt:${t.limitType}`}function Co(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>m2(o)).join(", ")}]`),ld(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Fo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Fo(o)).join(",")),`Target(${i})`}(Ir(t))}; limitType=${t.limitType})`}function fd(t,e){return e.isFoundDocument()&&function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ye.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(t,e)&&function(i,o){for(const u of Ou(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(f,m,p){const g=kb(f,m,p);return f.inclusive?g<=0:g<0}(i.startAt,Ou(i),o)||i.endAt&&!function(f,m,p){const g=kb(f,m,p);return f.inclusive?g>=0:g>0}(i.endAt,Ou(i),o))}(t,e)}function BO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v2(t){return(e,n)=>{let i=!1;for(const o of Ou(t)){const u=zO(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function zO(t,e,n){const i=t.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ho(p,g):Ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return t2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new ft(ye.comparator);function bi(){return jO}const _2=new ft(ye.comparator);function Ru(...t){let e=_2;for(const n of t)e=e.insert(n.key,n);return e}function b2(t){let e=_2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ma(){return Nu()}function E2(){return Nu()}function Nu(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const qO=new ft(ye.comparator),HO=new Mt(ye.comparator);function Ve(...t){let e=HO;for(const n of t)e=e.add(n);return e}const FO=new Mt(Me);function GO(){return FO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function T2(t){return{integerValue:""+t}}function $O(t,e){return vO(e)?T2(e):yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function KO(t,e,n){return t instanceof xh?function(o,u){const f={fields:{[i2]:{stringValue:r2},[a2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dy(u)&&(u=ud(u)),u&&(f.fields[s2]=u),{mapValue:f}}(n,e):t instanceof Fu?A2(t,e):t instanceof Gu?R2(t,e):function(o,u){const f=S2(o,u),m=Lb(f)+Lb(o.Ae);return Sg(f)&&Sg(o.Ae)?T2(m):yy(o.serializer,m)}(t,e)}function QO(t,e,n){return t instanceof Fu?A2(t,e):t instanceof Gu?R2(t,e):n}function S2(t,e){return t instanceof Dh?function(i){return Sg(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class xh extends hd{}class Fu extends hd{constructor(e){super(),this.elements=e}}function A2(t,e){const n=C2(e);for(const i of t.elements)n.some(o=>Vr(o,i))||n.push(i);return{arrayValue:{values:n}}}class Gu extends hd{constructor(e){super(),this.elements=e}}function R2(t,e){let n=C2(e);for(const i of t.elements)n=n.filter(o=>!Vr(o,i));return{arrayValue:{values:n}}}class Dh extends hd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Lb(t){return _t(t.integerValue||t.doubleValue)}function C2(t){return my(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YO(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Fu&&o instanceof Fu||i instanceof Gu&&o instanceof Gu?qo(i.elements,o.elements,Vr):i instanceof Dh&&o instanceof Dh?Vr(i.Ae,o.Ae):i instanceof xh&&o instanceof xh}(t.transform,e.transform)}class XO{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dd{}function I2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D2(t.key,ar.none()):new Ju(t.key,t.data,ar.none());{const n=t.data,i=_n.empty();let o=new Mt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?i.delete(u):i.set(u,f),o=o.add(u)}return new Ss(t.key,i,new On(o.toArray()),ar.none())}}function WO(t,e,n){t instanceof Ju?function(o,u,f){const m=o.value.clone(),p=Bb(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(t,e,n):t instanceof Ss?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Bb(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(x2(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(t,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ku(t,e,n,i){return t instanceof Ju?function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=u.value.clone(),v=zb(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ss?function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=zb(u.fieldTransforms,p,f),v=f.data;return v.setAll(x2(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(t,e,n,i):function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(t,e,n)}function ZO(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),u=S2(i.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(i.field,u))}return n||null}function Ub(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&qo(i,o,(u,f)=>YO(u,f))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ju extends dd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends dd{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function x2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Bb(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const u=t[o],f=u.transform,m=e.data.field(u.field);i.set(u.field,QO(f,m,n[o]))}return i}function zb(t,e,n){const i=new Map;for(const o of t){const u=o.transform,f=n.data.field(o.field);i.set(o.field,KO(u,f,e))}return i}class D2 extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&WO(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ku(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ku(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=E2();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=I2(f,m);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(n,i)=>Ub(n,i))&&qo(this.baseMutations,e.baseMutations,(n,i)=>Ub(n,i))}}class wy{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ke(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return qO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,i[f].version);return new wy(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,ze;function rN(t){switch(t){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function O2(t){if(t===void 0)return _i("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Rt.OK:return ee.OK;case Rt.CANCELLED:return ee.CANCELLED;case Rt.UNKNOWN:return ee.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ee.INTERNAL;case Rt.UNAVAILABLE:return ee.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ee.NOT_FOUND;case Rt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Rt.ABORTED:return ee.ABORTED;case Rt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Rt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:t})}}(ze=Rt||(Rt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new hs([4294967295,4294967295],0);function jb(t){const e=iN().encode(t),n=new FT;return n.update(e),new Uint8Array(n.digest())}function qb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,i],0),new hs([o,u],0)]}class vy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(i<0)throw new Cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(hs.fromNumber(i)));return o.compare(sN)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jb(e),[i,o]=qb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);if(!this.we(f))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new vy(u,o,n);return i.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=jb(e),[i,o]=qb(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new md(Re.min(),o,new ft(Me),bi(),Ve())}}class ec{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ec(i,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class N2{constructor(e,n){this.targetId=e,this.Ce=n}}class k2{constructor(e,n,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Hb{constructor(){this.ve=0,this.Fe=Fb(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),i=Ve();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:u})}}),new ec(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Fb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aN{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.Je=Gf(),this.He=Gf(),this.Ye=new ft(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rg(u))if(i===0){const f=new ye(u.path);this.et(n,f,an.newNoDocument(f,Re.min()))}else Ke(i===1,20013,{expectedCount:i});else{const f=this._t(n);if(f!==i){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=vs(i).toUint8Array()}catch(p){if(p instanceof n2)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vy(f,o,u)}catch(p){return jo(p instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Rg(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,an.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let i=Ve();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new md(e,n,this.Ye,this.je,i);return this.je=bi(),this.Je=Gf(),this.He=Gf(),this.Ye=new ft(Me),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Hb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Hb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gf(){return new ft(ye.comparator)}function Fb(){return new ft(ye.comparator)}const oN={asc:"ASCENDING",desc:"DESCENDING"},lN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uN={and:"AND",or:"OR"};class cN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xg(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fN(t,e){return Oh(t,e.toTimestamp())}function xr(t){return Ke(!!t,49232),Re.fromTimestamp(function(n){const i=ws(n);return new at(i.seconds,i.nanos)}(t))}function _y(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function M2(t){const e=it.fromString(t);return Ke(z2(e),10190,{key:e.toString()}),e}function Og(t,e){return _y(t.databaseId,e.path)}function Jp(t,e){const n=M2(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(L2(n))}function V2(t,e){return _y(t.databaseId,e)}function hN(t){const e=M2(t);return e.length===4?it.emptyPath():L2(e)}function Ng(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L2(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Gb(t,e,n){return{name:Og(t,e),fields:n.value.mapValue.fields}}function dN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const v=g.code===void 0?ee.UNKNOWN:O2(g.code);return new he(v,g.message||"")}(f);n=new k2(i,o,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Jp(t,i.document.name),u=xr(i.document.updateTime),f=i.document.createTime?xr(i.document.createTime):Re.min(),m=new _n({mapValue:{fields:i.document.fields}}),p=an.newFoundDocument(o,u,f,m),g=i.targetIds||[],v=i.removedTargetIds||[];n=new ih(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Jp(t,i.document),u=i.readTime?xr(i.readTime):Re.min(),f=an.newNoDocument(o,u),m=i.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Jp(t,i.document),u=i.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,f=new nN(o,u),m=i.targetId;n=new N2(m,f)}}return n}function mN(t,e){let n;if(e instanceof Ju)n={update:Gb(t,e.key,e.value)};else if(e instanceof D2)n={delete:Og(t,e.key)};else if(e instanceof Ss)n={update:Gb(t,e.key,e.data),updateMask:TN(e.fieldMask)};else{if(!(e instanceof JO))return Ee(16599,{Vt:e.type});n={verify:Og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Gu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:fN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(t,e.precondition)),n}function pN(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map(n=>function(o,u){let f=o.updateTime?xr(o.updateTime):xr(u);return f.isEqual(Re.min())&&(f=xr(u)),new XO(f,o.transformResults||[])}(n,e))):[]}function gN(t,e){return{documents:[V2(t,e.path)]}}function yN(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=V2(t,o);const u=function(g){if(g.length!==0)return B2(or.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:Io(S.field),direction:_N(S.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xg(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function wN(t){let e=hN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ke(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(E){const S=U2(E);return S instanceof or&&h2(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(E){return E.map(S=>function(V){return new Hu(xo(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(E){let S;return S=typeof E=="object"?E.value:E,ld(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(E){const S=!!E.before,O=E.values||[];return new Ih(O,S)}(n.startAt));let g=null;return n.endAt&&(g=function(E){const S=!E.before,O=E.values||[];return new Ih(O,S)}(n.endAt)),LO(e,o,f,u,m,"F",p,g)}function vN(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=xo(n.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xo(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xo(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(xo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(i=>U2(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(t):Ee(30097,{filter:t})}function _N(t){return oN[t]}function bN(t){return lN[t]}function EN(t){return uN[t]}function Io(t){return{fieldPath:t.canonicalString()}}function xo(t){return Zt.fromServerFormat(t.fieldPath)}function B2(t){return t instanceof Ct?function(n){if(n.op==="=="){if(Nb(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(Ob(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nb(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(Ob(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:bN(n.op),value:n.value}}}(t):t instanceof or?function(n){const i=n.getFilters().map(o=>B2(o));return i.length===1?i[0]:{compositeFilter:{op:EN(n.op),filters:i}}}(t):Ee(54877,{filter:t})}function TN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,i,o,u=Re.min(),f=Re.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.yt=e}}function AN(t){const e=wN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.Cn=new CN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ys.min())}updateCollectionGroup(e,n,i){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class CN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Mt(it.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j2=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(j2,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Go(0)}static cr(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="LruGarbageCollector",IN=1048576;function Qb([t,e],[n,i]){const o=Me(t,n);return o===0?Me(e,i):o}class xN{constructor(e){this.Ir=e,this.buffer=new Mt(Qb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Qb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Kb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rl(n)?de(Kb,"Ignoring IndexedDB error during garbage collection: ",n):await nl(n)}await this.Vr(3e5)})}}class ON{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(od.ce);const i=new xN(n);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve($b)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$b):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,m=Date.now(),this.removeTargets(e,i,n))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),Ro()<=Pe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function NN(t,e){return new ON(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ne.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&ku(i.mutation,o,On.empty(),at.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ve()){const o=ma();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(u=>{let f=Ru();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const i=ma();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ve()))}populateOverlays(e,n,i){const o=[];return i.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,i,o){let u=bi();const f=Nu(),m=function(){return Nu()}();return n.forEach((p,g)=>{const v=i.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ss)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),ku(v.mutation,g,v.mutation.getFieldMask(),at.now())):f.set(g.key,On.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>m.set(g,new PN(v,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const i=Nu();let o=new ft((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=i.get(p)||On.empty();v=m.applyToLocalView(g,v),i.set(p,v);const E=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,E)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=E2();v.forEach(S=>{if(!u.has(S)){const O=I2(n.get(S),i.get(S));O!==null&&E.set(S,O),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ne.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):ne.resolve(ma());let m=Bu,p=u;return f.next(g=>ne.forEach(g,(v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(v=>({batchId:m,changes:b2(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(i=>{let o=Ru();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let f=Ru();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(E,S){return new il(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(v=>{v.forEach((E,S)=>{f=f.insert(E,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,an.newInvalidDocument(v)))});let m=Ru();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&ku(v.mutation,g,On.empty(),at.now()),fd(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:AN(o.bundledQuery),readTime:xr(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.overlays=new ft(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ma();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(i)),ne.resolve()}getOverlaysForCollection(e,n,i){const o=ma(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new ft((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=u.get(g.largestBatchId);v===null&&(v=ma(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ma(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ne.resolve(m)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new tN(n,i));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.Qr=new Mt(qt.$r),this.Ur=new Mt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new qt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new ye(new it([])),i=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([i,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),i=new qt(n,e),o=new qt(n,e+1);let u=Ve();return this.Ur.forEachInRange([i,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new qt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eN(u,n,i,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?hy:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(Me);return n.forEach(o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{i=i.add(m.Yr)})}),ne.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;ye.isDocumentKey(u)||(u=u.child(""));const f=new qt(new ye(u),0);let m=new Mt(Me);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ne.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new qt(n,0),o=this.Zr.firstAfterOrEqual(i);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.ri=e,this.docs=function(){return new ft(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ne.resolve(i?i.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let i=bi();return n.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=bi();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||pO(mO(v),i)<=0||(o.has(v.key)||fd(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new jN(this)}getSize(e){return ne.resolve(this.size)}}class jN extends kN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.persistence=e,this.si=new Ia(n=>py(n),gy),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new by,this.targetCount=0,this.ai=Go.ur()}forEachTarget(e,n){return this.si.forEach((i,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ne.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ne.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ne.resolve(i)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new UN,this.referenceDelegate=e(this),this.Pi=new qN(this),this.indexManager=new RN,this.remoteDocumentCache=function(o){return new zN(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new SN(n),this.Ii=new VN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new BN(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const o=new HN(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ne.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class HN extends yO{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Ri=new by,this.Vi=null}static mi(e){return new Ey(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ne.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,i=>{const o=ye.fromPath(i);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.pi=new Ia(i=>_O(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=NN(this,n)}static mi(e,n){return new Nh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(i,o)=>this.br(e,i,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(i++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}br(e,n,i){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ty(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ux()?8:wO(on())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,i).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new FN;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,i,o){return i.documentReadCount<this.fs?(Ro()<=Pe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ro()<=Pe.DEBUG&&de("QueryEngine","Query:",Co(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Ro()<=Pe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):ne.resolve())}ys(e,n){if(Vb(n))return ne.resolve(null);let i=Ir(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ig(n,null,"F"),i=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const f=Ve(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Ig(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,i,o){return Vb(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,i).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,i,o)?ne.resolve(null):(Ro()<=Pe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(n)),this.vs(e,f,n,dO(o,Bu)).next(m=>m))})}Ds(e,n){let i=new Mt(v2(e));return n.forEach((o,u)=>{fd(e,u)&&(i=i.add(u))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,i){return Ro()<=Pe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Co(n)),this.ps.getDocumentsMatchingQuery(e,n,ys.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="LocalStore",$N=3e8;class KN{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Me),this.xs=new Ia(u=>py(u),gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function QN(t,e,n,i){return new KN(t,e,n,i)}async function H2(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function YN(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const E=g.batch,S=E.keys();let O=ne.resolve();return S.forEach(V=>{O=O.next(()=>v.getEntry(p,V)).next(q=>{const U=g.docVersions.get(V);Ke(U!==null,48541),q.version.compareTo(U)<0&&(E.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,E))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function F2(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function XN(t,e){const n=Ce(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,E).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,E)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(Jt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),o=o.insert(E,O),function(q,U,$){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=$N?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,O,v)&&m.push(n.Pi.updateTargetData(u,O))});let p=bi(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(WN(u,f,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!i.isEqual(Re.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(v)}return ne.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function WN(t,e,n){let i=Ve(),o=Ve();return n.forEach(u=>i=i.add(u)),e.getEntries(t,i).next(u=>{let f=bi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(Sy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function ZN(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=hy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JN(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Pi.getTargetData(i,e).next(u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(i).next(f=>(o=new as(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function kg(t,e,n){const i=Ce(t),o=i.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,f=>i.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!rl(f))throw f;de(Sy,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Yb(t,e,n){const i=Ce(t);let o=Re.min(),u=Ve();return i.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const E=Ce(p),S=E.xs.get(v);return S!==void 0?ne.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,v)}(i,f,Ir(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Ve())).next(m=>(ek(i,BO(e),m),{documents:m,Qs:u})))}function ek(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),t.Os.set(e,i)}class Xb{constructor(){this.activeTargetIds=GO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tk{constructor(){this.Mo=new Xb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="ConnectivityMonitor";class Zb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Wb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Wb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f=null;function Pg(){return $f===null?$f=function(){return 268435456+Math.round(2147483648*Math.random())}():$f++,"0x"+$f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="RestConnection",rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ik{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,u){const f=Pg(),m=this.zo(e,n.toUriEncodedString());de(eg,`Sending RPC '${e}' ${f}:`,m,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Jo(g);return this.Jo(e,m,p,i,v).then(E=>(de(eg,`Received RPC '${e}' ${f}: `,E),E),E=>{throw jo(eg,`RPC '${e}' ${f} failed with error: `,E,"url: ",m,"request:",i),E})}Ho(e,n,i,o,u,f){return this.Go(e,n,i,o,u)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const i=rk[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class ak extends ik{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,u){const f=Pg();return new Promise((m,p)=>{const g=new GT;g.setWithCredentials(!0),g.listenOnce($T.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const E=g.getResponseJson();de(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),m(E);break;case eh.TIMEOUT:de(rn,`RPC '${e}' ${f} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const S=g.getStatus();if(de(rn,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O?.error;if(V&&V.status&&V.message){const q=function($){const se=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(se)>=0?se:ee.UNKNOWN}(V.status);p(new he(q,V.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(rn,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);de(rn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,i,15)})}T_(e,n,i){const o=Pg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=YT(),m=QT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=u.join("");de(rn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=f.createWebChannel(v,p);this.I_(E);let S=!1,O=!1;const V=new sk({Yo:U=>{O?de(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(de(rn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),de(rn,`RPC '${e}' stream ${o} sending:`,U),E.send(U))},Zo:()=>E.close()}),q=(U,$,se)=>{U.listen($,X=>{try{se(X)}catch(ae){setTimeout(()=>{throw ae},0)}})};return q(E,Au.EventType.OPEN,()=>{O||(de(rn,`RPC '${e}' stream ${o} transport opened.`),V.o_())}),q(E,Au.EventType.CLOSE,()=>{O||(O=!0,de(rn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(E))}),q(E,Au.EventType.ERROR,U=>{O||(O=!0,jo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),V.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),q(E,Au.EventType.MESSAGE,U=>{if(!O){const $=U.data[0];Ke(!!$,16349);const se=$,X=se?.error||se[0]?.error;if(X){de(rn,`RPC '${e}' stream ${o} received error:`,X);const ae=X.status;let ie=function(A){const R=Rt[A];if(R!==void 0)return O2(R)}(ae),fe=X.message;ie===void 0&&(ie=ee.INTERNAL,fe="Unknown error status: "+ae+" with message "+X.message),O=!0,V.a_(new he(ie,fe)),E.close()}else de(rn,`RPC '${e}' stream ${o} received:`,$),V.u_($)}}),q(m,KT.STAT_EVENT,U=>{U.stat===bg.PROXY?de(rn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===bg.NOPROXY&&de(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new cN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="PersistentStream";class $2{constructor(e,n,i,o,u,f,m,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===n&&this.G_(i,o)},i=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(Jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(de(Jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ok extends $2{constructor(e,n,i,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dN(this.serializer,e),i=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?xr(f.readTime):Re.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Ng(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Rg(p)?{documents:gN(u,p)}:{query:yN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=P2(u,f.resumeToken);const g=xg(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Oh(u,f.snapshotVersion.toTimestamp());const g=xg(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const i=vN(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Ng(this.serializer),n.removeTarget=e,this.q_(n)}}class lk extends $2{constructor(e,n,i,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pN(e.writeResults,e.commitTime),i=xr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Ng(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>mN(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{}class ck extends uk{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Dg(n,i),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Ho(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Dg(n,i),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class fk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class hk{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{i.enqueueAndForget(async()=>{xa(this)&&(de(Ta,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.Ea.add(4),await tc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gd(g)}(this))})}),this.Ra=new fk(i,o)}}async function gd(t){if(xa(t))for(const e of t.da)await e(!0)}async function tc(t){for(const e of t.da)await e(!1)}function K2(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Iy(n)?Cy(n):sl(n).O_()&&Ry(n,e))}function Ay(t,e){const n=Ce(t),i=sl(n);n.Ia.delete(e),i.O_()&&Q2(n,e),n.Ia.size===0&&(i.O_()?i.L_():xa(n)&&n.Ra.set("Unknown"))}function Ry(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(t).Y_(e)}function Q2(t,e){t.Va.Ue(e),sl(t).Z_(e)}function Cy(t){t.Va=new aN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sl(t).start(),t.Ra.ua()}function Iy(t){return xa(t)&&!sl(t).x_()&&t.Ia.size>0}function xa(t){return Ce(t).Ea.size===0}function Y2(t){t.Va=void 0}async function dk(t){t.Ra.set("Online")}async function mk(t){t.Ia.forEach((e,n)=>{Ry(t,e)})}async function pk(t,e){Y2(t),Iy(t)?(t.Ra.ha(e),Cy(t)):t.Ra.set("Unknown")}async function gk(t,e,n){if(t.Ra.set("Online"),e instanceof k2&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(t,e)}catch(i){de(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kh(t,i)}else if(e instanceof ih?t.Va.Ze(e):e instanceof N2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await F2(t.localStore);n.compareTo(i)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),Q2(u,p);const E=new as(v.target,p,g,v.sequenceNumber);Ry(u,E)}),u.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(i){de(Ta,"Failed to raise snapshot:",i),await kh(t,i)}}async function kh(t,e,n){if(!rl(e))throw e;t.Ea.add(1),await tc(t),t.Ra.set("Offline"),n||(n=()=>F2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(Ta,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gd(t)})}function X2(t,e){return e().catch(n=>kh(t,n,e))}async function yd(t){const e=Ce(t),n=bs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hy;for(;yk(e);)try{const o=await ZN(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,wk(e,o)}catch(o){await kh(e,o)}W2(e)&&Z2(e)}function yk(t){return xa(t)&&t.Ta.length<10}function wk(t,e){t.Ta.push(e);const n=bs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function W2(t){return xa(t)&&!bs(t).x_()&&t.Ta.length>0}function Z2(t){bs(t).start()}async function vk(t){bs(t).ra()}async function _k(t){const e=bs(t);for(const n of t.Ta)e.ea(n.mutations)}async function bk(t,e,n){const i=t.Ta.shift(),o=wy.from(i,e,n);await X2(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await yd(t)}async function Ek(t,e){e&&bs(t).X_&&await async function(i,o){if(function(f){return rN(f)&&f!==ee.ABORTED}(o.code)){const u=i.Ta.shift();bs(i).B_(),await X2(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yd(i)}}(t,e),W2(t)&&Z2(t)}async function eE(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),de(Ta,"RemoteStore received new credentials");const i=xa(n);n.Ea.add(3),await tc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gd(n)}async function Tk(t,e){const n=Ce(t);e?(n.Ea.delete(2),await gd(n)):e||(n.Ea.add(2),await tc(n),n.Ra.set("Unknown"))}function sl(t){return t.ma||(t.ma=function(n,i,o){const u=Ce(n);return u.sa(),new ok(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(t.datastore,t.asyncQueue,{Xo:dk.bind(null,t),t_:mk.bind(null,t),r_:pk.bind(null,t),H_:gk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Iy(t)?Cy(t):t.Ra.set("Unknown")):(await t.ma.stop(),Y2(t))})),t.ma}function bs(t){return t.fa||(t.fa=function(n,i,o){const u=Ce(n);return u.sa(),new lk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:vk.bind(null,t),r_:Ek.bind(null,t),ta:_k.bind(null,t),na:bk.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await yd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Ta,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const f=Date.now()+i,m=new xy(e,n,f,o,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(t,e){if(_i("AsyncQueue",`${e}: ${t}`),rl(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ye.comparator(n.key,i.key):(n,i)=>ye.comparator(n.key,i.key),this.keyedMap=Ru(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.ga=new ft(ye.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class $o{constructor(e,n,i,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new $o(e,n,Oo.emptySet(n),f,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ak{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ce(n),u=o.queries;o.queries=nE(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(i)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function nE(){return new Ia(t=>w2(t),cd)}async function Rk(t,e){const n=Ce(t);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new Sk,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Dy(f,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Oy(n)}async function Ck(t,e){const n=Ce(t),i=e.query;let o=3;const u=n.queries.get(i);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Ik(t,e){const n=Ce(t);let i=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(i=!0);f.wa=o}}i&&Oy(n)}function xk(t,e,n){const i=Ce(t),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);i.queries.delete(e)}function Oy(t){t.Ca.forEach(e=>{e.next()})}var Mg,rE;(rE=Mg||(Mg={})).Ma="default",rE.Cache="cache";class Dk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new $o(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.key=e}}class eS{constructor(e){this.key=e}}class Ok{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=v2(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new tE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const S=o.get(v),O=fd(this.query,E)?E:null,V=!!S&&this.mutatedKeys.has(S.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;S&&O?S.data.isEqual(O.data)?V!==q&&(i.track({type:3,doc:O}),U=!0):this.su(S,O)||(i.track({type:2,doc:O}),U=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!S&&O?(i.track({type:0,doc:O}),U=!0):S&&!O&&(i.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(O?(f=f.add(O),u=q?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{tu:f,iu:i,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((v,E)=>function(O,V){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:U})}};return q(O)-q(V)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(i),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new $o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new eS(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new J2(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ny="SyncEngine";class Nk{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class kk{constructor(e){this.key=e,this.hu=!1}}class Pk{constructor(e,n,i,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ia(m=>w2(m),cd),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ye.comparator),this.Au=new Map,this.Ru=new by,this.Vu={},this.mu=new Map,this.fu=Go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mk(t,e,n=!0){const i=aS(t);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await tS(i,e,n,!0),o}async function Vk(t,e){const n=aS(t);await tS(n,e,!0,!1)}async function tS(t,e,n,i){const o=await JN(t.localStore,Ir(e)),u=o.targetId,f=t.sharedClientState.addLocalQueryTarget(u,n);let m;return i&&(m=await Lk(t,e,u,f==="current",o.resumeToken)),t.isPrimaryClient&&n&&K2(t.remoteStore,o),m}async function Lk(t,e,n,i,o){t.pu=(E,S,O)=>async function(q,U,$,se){let X=U.view.ru($);X.Cs&&(X=await Yb(q.localStore,U.query,!1).then(({documents:x})=>U.view.ru(x,X)));const ae=se&&se.targetChanges.get(U.targetId),ie=se&&se.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(X,q.isPrimaryClient,ae,ie);return sE(q,U.targetId,fe.au),fe.snapshot}(t,E,S,O);const u=await Yb(t.localStore,e,!0),f=new Ok(e,u.Qs),m=f.ru(u.documents),p=ec.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),g=f.applyChanges(m,t.isPrimaryClient,p);sE(t,n,g.au);const v=new Nk(e,n,f);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function Uk(t,e,n){const i=Ce(t),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter(f=>!cd(f,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await kg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Ay(i.remoteStore,o.targetId),Vg(i,o.targetId)}).catch(nl)):(Vg(i,o.targetId),await kg(i.localStore,o.targetId,!0))}async function Bk(t,e){const n=Ce(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ay(n.remoteStore,i.targetId))}async function zk(t,e,n){const i=Kk(t);try{const o=await function(f,m){const p=Ce(f),g=at.now(),v=m.reduce((O,V)=>O.add(V.key),Ve());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=bi(),q=Ve();return p.Ns.getEntries(O,v).next(U=>{V=U,V.forEach(($,se)=>{se.isValidDocument()||(q=q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,V)).next(U=>{E=U;const $=[];for(const se of m){const X=ZO(se,E.get(se.key).overlayedDocument);X!=null&&$.push(new Ss(se.key,X,u2(X.value.mapValue),ar.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,m)}).next(U=>{S=U;const $=U.applyToLocalDocumentSet(E,q);return p.documentOverlayCache.saveOverlays(O,U.batchId,$)})}).then(()=>({batchId:S.batchId,changes:b2(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ft(Me)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(i,o.batchId,n),await nc(i,o.changes),await yd(i.remoteStore)}catch(o){const u=Dy(o,"Failed to persist write");n.reject(u)}}async function nS(t,e){const n=Ce(t);try{const i=await XN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))}),await nc(n,i,e)}catch(i){await nl(i)}}function iE(t,e,n){const i=Ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((v,E)=>{for(const S of E.Sa)S.va(m)&&(g=!0)}),g&&Oy(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jk(t,e,n){const i=Ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let f=new ft(ye.comparator);f=f.insert(u,an.newNoDocument(u,Re.min()));const m=Ve().add(u),p=new md(Re.min(),new Map,new ft(Me),f,m);await nS(i,p),i.du=i.du.remove(u),i.Au.delete(e),ky(i)}else await kg(i.localStore,e,!1).then(()=>Vg(i,e,n)).catch(nl)}async function qk(t,e){const n=Ce(t),i=e.batch.batchId;try{const o=await YN(n.localStore,e);iS(n,i,null),rS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nc(n,o)}catch(o){await nl(o)}}async function Hk(t,e,n){const i=Ce(t);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(E=>(Ke(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);iS(i,e,n),rS(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nc(i,o)}catch(o){await nl(o)}}function rS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function iS(t,e,n){const i=Ce(t);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||sS(t,i)})}function sS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ky(t))}function sE(t,e,n){for(const i of n)i instanceof J2?(t.Ru.addReference(i.key,e),Fk(t,i)):i instanceof eS?(de(Ny,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||sS(t,i.key)):Ee(19791,{wu:i})}function Fk(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(de(Ny,"New document in limbo: "+n),t.Eu.add(i),ky(t))}function ky(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(it.fromString(e)),i=t.fu.next();t.Au.set(i,new kk(n)),t.du=t.du.insert(n,i),K2(t.remoteStore,new as(Ir(g2(n.path)),i,"TargetPurposeLimboResolution",od.ce))}}async function nc(t,e,n){const i=Ce(t),o=[],u=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach((m,p)=>{f.push(i.pu(p,e,n).then(g=>{if((g||n)&&i.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Ty.As(p.targetId,g);u.push(v)}}))}),await Promise.all(f),i.Pu.H_(o),await async function(p,g){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(g,S=>ne.forEach(S.Es,O=>v.persistence.referenceDelegate.addReference(E,S.targetId,O)).next(()=>ne.forEach(S.ds,O=>v.persistence.referenceDelegate.removeReference(E,S.targetId,O)))))}catch(E){if(!rl(E))throw E;de(Sy,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const O=v.Ms.get(S),V=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(S,q)}}}(i.localStore,u))}async function Gk(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){de(Ny,"User change. New user:",e.toKey());const i=await H2(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new he(ee.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nc(n,i.Ls)}}function $k(t,e){const n=Ce(t),i=n.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function aS(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jk.bind(null,e),e.Pu.H_=Ik.bind(null,e.eventManager),e.Pu.yu=xk.bind(null,e.eventManager),e}function Kk(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hk.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QN(this.persistence,new GN,e.initialUser,this.serializer)}Cu(e){return new q2(Ey.mi,this.serializer)}Du(e){return new tk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class Qk extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Nh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DN(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new q2(i=>Nh.mi(i,n),this.serializer)}}class Lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gk.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ak}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),i=function(u){return new ak(u)}(e.databaseInfo);return function(u,f,m,p){return new ck(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,u,f,m){return new hk(i,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>iE(this.syncEngine,n,0),function(){return Zb.v()?new Zb:new nk}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,v){const E=new Pk(o,u,f,m,p,g);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Ce(n);de(Ta,"RemoteStore shutting down."),i.Ea.add(5),await tc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class Xk{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async f=>{de(Es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(de(Es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Dy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ng(t,e){t.asyncQueue.verifyOperationInProgress(),de(Es,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await H2(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wk(t);de(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>eE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>eE(e.remoteStore,o)),t._onlineComponents=e}async function Wk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Es,"Using user provided OfflineComponentProvider");try{await ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await ng(t,new Ph)}}else de(Es,"Using default OfflineComponentProvider"),await ng(t,new Qk(void 0));return t._offlineComponents}async function oS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Es,"Using user provided OnlineComponentProvider"),await aE(t,t._uninitializedComponentsProvider._online)):(de(Es,"Using default OnlineComponentProvider"),await aE(t,new Lg))),t._onlineComponents}function Zk(t){return oS(t).then(e=>e.syncEngine)}async function Jk(t){const e=await oS(t),n=e.eventManager;return n.onListen=Mk.bind(null,e.syncEngine),n.onUnlisten=Uk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bk.bind(null,e.syncEngine),n}function eP(t,e,n={}){const i=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new Yk({next:S=>{v.Nu(),f.enqueueAndForget(()=>Ck(u,E)),S.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new Dk(m,v,{includeMetadataChanges:!0,qa:!0});return Rk(u,E)}(await Jk(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firestore.googleapis.com",lE=!0;class uE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=lE}else this.host=e.host,this.ssl=e.ssl??lE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new nO;switch(i.type){case"firstParty":return new aO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=oE.get(n);i&&(de("ComponentProvider","Removing Datastore"),oE.delete(n),i.terminate())}(this),Promise.resolve()}}function tP(t,e,n,i={}){t=gs(t,wd);const o=Jo(e),u=t._getSettings(),f={...u,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;o&&(VT(`https://${m}`),LT("Firestore",!0)),u.host!==uS&&u.host!==m&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:i};if(!_a(p,f)&&(t._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=sn.MOCK_USER;else{g=xx(i.mockUserToken,t._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(E)}t._authCredentials=new rO(new WT(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Zu(n,xt._jsonSchema))return new xt(e,i||null,new ye(it.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:It("string",xt._jsonSchemaVersion),referencePath:It("string")};class ms extends Da{constructor(e,n,i){super(e,n,g2(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ye(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function al(t,e,...n){if(t=dn(t),ZT("collection","path",e),t instanceof wd){const i=it.fromString(e,...n);return Eb(i),new ms(t,null,i)}{if(!(t instanceof xt||t instanceof ms))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return Eb(i),new ms(t.firestore,null,i)}}function Py(t,e,...n){if(t=dn(t),arguments.length===1&&(e=fy.newId()),ZT("doc","path",e),t instanceof wd){const i=it.fromString(e,...n);return bb(i),new xt(t,null,new ye(i))}{if(!(t instanceof xt||t instanceof ms))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return bb(i),new xt(t.firestore,t instanceof ms?t.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G2(this,"async_queue_retry"),this._c=()=>{const i=tg();i&&de(cE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=tg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ds;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rl(e))throw e;de(cE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",hE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=xy.createAndSchedule(this,e,n,i,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:hE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rc extends wd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new fE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function nP(t,e){const n=typeof t=="object"?t:jT(),i=typeof t=="string"?t:Rh,o=uy(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=Cx("firestore");u&&tP(o,...u)}return o}function cS(t){if(t._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rP(t),t._firestoreClient}function rP(t){const e=t._freezeSettings(),n=function(o,u,f,m){return new TO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Xk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Jt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:It("string",Xn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(Zu(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:It("string",Dr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zu(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Or(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:It("string",Or._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=/^__.*__$/;class sP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(e,this.data,n,this.fieldTransforms)}}class fS{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class Vy{constructor(e,n,i,o,u,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hS(this.Ac)&&iP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aP{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||pd(e)}Cc(e,n,i,o=!1){return new Vy({Ac:e,methodName:n,Dc:i,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new aP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dS(t,e,n,i,o,u={}){const f=t.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ly("Data must be an object, but it was:",f,i);const m=mS(i,f);let p,g;if(u.merge)p=new On(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=Ug(e,E,n);if(!f.contains(S))throw new he(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);gS(v,S)||v.push(S)}p=new On(v),g=f.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=f.fieldTransforms;return new sP(new _n(m),p,g)}class bd extends My{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function oP(t,e,n,i){const o=t.Cc(1,e,n);Ly("Data must be an object, but it was:",o,i);const u=[],f=_n.empty();Ts(i,(p,g)=>{const v=Uy(e,p,n);g=dn(g);const E=o.yc(v);if(g instanceof bd)u.push(v);else{const S=ic(g,E);S!=null&&(u.push(v),f.set(v,S))}});const m=new On(u);return new fS(f,m,o.fieldTransforms)}function lP(t,e,n,i,o,u){const f=t.Cc(1,e,n),m=[Ug(e,i,n)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Ug(e,u[S])),p.push(u[S+1]);const g=[],v=_n.empty();for(let S=m.length-1;S>=0;--S)if(!gS(g,m[S])){const O=m[S];let V=p[S];V=dn(V);const q=f.yc(O);if(V instanceof bd)g.push(O);else{const U=ic(V,q);U!=null&&(g.push(O),v.set(O,U))}}const E=new On(g);return new fS(v,E,f.fieldTransforms)}function uP(t,e,n,i=!1){return ic(n,t.Cc(i?4:3,e))}function ic(t,e){if(pS(t=dn(t)))return Ly("Unsupported field value:",e,t),mS(t,e);if(t instanceof My)return function(i,o){if(!hS(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const u=[];let f=0;for(const m of i){let p=ic(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(t,e)}return function(i,o){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $O(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=at.fromDate(i);return{timestampValue:Oh(o.serializer,u)}}if(i instanceof at){const u=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(i instanceof Dr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xn)return{bytesValue:P2(o.serializer,i._byteString)};if(i instanceof xt){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_y(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Or)return function(f,m){return{mapValue:{fields:{[o2]:{stringValue:l2},[Ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return yy(m.serializer,g)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${ad(i)}`)}(t,e)}function mS(t,e){const n={};return t2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(i,o)=>{const u=ic(o,e.mc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function pS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Dr||t instanceof Xn||t instanceof xt||t instanceof My||t instanceof Or)}function Ly(t,e,n){if(!pS(n)||!JT(n)){const i=ad(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Ug(t,e,n){if((e=dn(e))instanceof vd)return e._internalPath;if(typeof e=="string")return Uy(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const cP=new RegExp("[~\\*/\\[\\]]");function Uy(t,e,n){if(e.search(cP)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vd(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,i,o){const u=i&&!i.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+t+p)}function gS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ed("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fP extends yS{data(){return super.data()}}function Ed(t,e){return typeof e=="string"?Uy(t,e):e instanceof vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class By{}class wS extends By{}function zy(t,e,...n){let i=[];e instanceof By&&i.push(e),i=i.concat(n),function(u){const f=u.filter(p=>p instanceof jy).length,m=u.filter(p=>p instanceof Td).length;if(f>1||f>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class Td extends wS{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Td(e,n,i)}_apply(e){const n=this._parse(e);return _S(e._query,n),new Da(e.firestore,e.converter,Cg(e._query,n))}_parse(e){const n=_d(e.firestore);return function(u,f,m,p,g,v,E){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mE(E,v);const V=[];for(const q of E)V.push(dE(p,u,q));S={arrayValue:{values:V}}}else S=dE(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mE(E,v),S=uP(m,f,E,v==="in"||v==="not-in");return Ct.create(g,v,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bg(t,e,n){const i=e,o=Ed("where",t);return Td._create(o,i,n)}class jy extends By{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jy(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)_S(f,p),f=Cg(f,p)}(e._query,n),new Da(e.firestore,e.converter,Cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends wS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qy(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hu(u,f)}(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new il(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function vS(t,e="asc"){const n=e,i=Ed("orderBy",t);return qy._create(i,n)}function dE(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y2(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(it.fromString(n));if(!ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Db(t,new ye(i))}if(n instanceof xt)return Db(t,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(n)}.`)}function mE(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _S(t,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dP{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ts(e,(o,u)=>{i[o]=this.convertValue(u,n)}),i}convertVectorValue(e){const n=e.fields?.[Ch].arrayValue?.values?.map(i=>_t(i.doubleValue));return new Or(n)}convertGeoPoint(e){return new Dr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ud(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=ws(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);Ke(z2(i),9688,{name:e});const o=new ju(i.get(1),i.get(3)),u=new ye(i.popFirst(5));return o.isEqual(n)||_i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Kf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class No extends yS{constructor(e,n,i,o,u,f){super(e,n,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Ed("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=No._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:It("string",No._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class sh extends No{data(e={}){return super.data(e)}}class ko{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kf(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new sh(this._firestore,this._userDataWriter,i.key,i,new Kf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:mP(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:It("string",ko._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class pP extends dP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function Sd(t){t=gs(t,Da);const e=gs(t.firestore,rc),n=cS(e),i=new pP(e);return hP(t._query),eP(n,t._query).then(o=>new ko(e,i,t,o))}function gP(t,e,n){t=gs(t,xt);const i=gs(t.firestore,rc),o=bS(t.converter,e);return Hy(i,[dS(_d(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ar.none())])}function yP(t,e,n,...i){t=gs(t,xt);const o=gs(t.firestore,rc),u=_d(o);let f;return f=typeof(e=dn(e))=="string"||e instanceof vd?lP(u,"updateDoc",t._key,e,n,i):oP(u,"updateDoc",t._key,e),Hy(o,[f.toMutation(t._key,ar.exists(!0))])}function ES(t,e){const n=gs(t.firestore,rc),i=Py(t),o=bS(t.converter,e);return Hy(n,[dS(_d(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}function Hy(t,e){return function(i,o){const u=new ds;return i.asyncQueue.enqueueAndForget(async()=>zk(await Zk(i),o,u)),u.promise}(cS(t),e)}(function(e,n=!0){(function(o){tl=o})(el),zo(new ba("firestore",(i,{instanceIdentifier:o,options:u})=>{const f=i.getProvider("app").getImmediate(),m=new rc(new iO(i.getProvider("auth-internal")),new oO(f,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fs(yb,wb,e),fs(yb,wb,"esm2020")})();var wP="firebase",vP="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(wP,vP,"app");function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _P=TS,SS=new Xu("auth","Firebase",TS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new oy("@firebase/auth");function bP(t,...e){Vh.logLevel<=Pe.WARN&&Vh.warn(`Auth (${el}): ${t}`,...e)}function ah(t,...e){Vh.logLevel<=Pe.ERROR&&Vh.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,...e){throw Fy(t,...e)}function Nr(t,...e){return Fy(t,...e)}function AS(t,e,n){const i={..._P(),[e]:n};return new Xu("auth","Firebase",i).create(e,{appName:t.name})}function pa(t){return AS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SS.create(t,...e)}function Se(t,e,...n){if(!t)throw Fy(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function Ti(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){return typeof self<"u"&&self.location?.href||""}function EP(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EP()||Mx()||"connection"in navigator)?navigator.onLine:!0}function SP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=Nx()||Vx()}get(){return TP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CP=new sc(3e4,6e4);function $y(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ol(t,e,n,i,o={}){return CS(t,o,async()=>{let u={},f={};i&&(e==="GET"?f=i:u={body:JSON.stringify(i)});const m=Wu({key:t.config.apiKey,...f}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...u};return Px()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(g.credentials="include"),RS.fetch()(await IS(t,t.config.apiHost,n,m),g)})}async function CS(t,e,n){t._canInitEmulator=!1;const i={...AP,...e};try{const o=new xP(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qf(t,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(t,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Qf(t,"email-already-in-use",f);if(p==="USER_DISABLED")throw Qf(t,"user-disabled",f);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw AS(t,v,g);Ei(t,v)}}catch(o){if(o instanceof Ai)throw o;Ei(t,"network-request-failed",{message:String(o)})}}async function IP(t,e,n,i,o={}){const u=await ol(t,e,n,i,o);return"mfaPendingCredential"in u&&Ei(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function IS(t,e,n,i){const o=`${e}${n}?${i}`,u=t,f=u.config.emulator?Gy(t.config,o):`${t.config.apiScheme}://${o}`;return RP.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class xP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Nr(this.auth,"network-request-failed")),CP.get())})}}function Qf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Nr(t,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){return ol(t,"POST","/v1/accounts:delete",e)}async function Lh(t,e){return ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OP(t,e=!1){const n=dn(t),i=await n.getIdToken(e),o=Ky(i);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:i,authTime:Pu(rg(o.auth_time)),issuedAtTime:Pu(rg(o.iat)),expirationTime:Pu(rg(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rg(t){return Number(t)*1e3}function Ky(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=NT(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function gE(t){const e=Ky(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ai&&NP(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function NP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(t){const e=t.auth,n=await t.getIdToken(),i=await $u(t,Lh(e,{idToken:n}));Se(i?.users.length,e,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=o.providerUserInfo?.length?xS(o.providerUserInfo):[],f=MP(t.providerData,u),m=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!f?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function PP(t){const e=dn(t);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MP(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){const n=await CS(t,{},async()=>{const i=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,f=await IS(t,o,"/v1/token",`key=${u}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:i};return t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(p.credentials="include"),RS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LP(t,e){return ol(t,"POST","/v2/accounts:revokeToken",$y(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await VP(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,f=new Po;return i&&(Se(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new kP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OP(this,e)}reload(){return PP(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await $u(this,DP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:O,providerData:V,stsTokenManager:q}=n;Se(E&&q,e,"internal-error");const U=Po.fromJSON(this.name,q);Se(typeof E=="string",e,"internal-error"),ts(i,e.name),ts(o,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(v,e.name);const $=new sr({uid:E,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:v});return V&&Array.isArray(V)&&($.providerData=V.map(se=>({...se}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,i=!1){const o=new Po;o.updateFromServerResponse(n);const u=new sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Uh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Po;m.updateFromIdToken(i);const p=new sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function di(t){Ti(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DS.type="NONE";const wE=DS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Mo(di(wE),e,i);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||di(wE);const f=oh(i,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let E;if(typeof v=="string"){const S=await Lh(e,{idToken:v}).catch(()=>{});if(!S)break;E=await sr._fromGetAccountInfoResponse(e,S,v)}else E=sr._fromJSON(e,v);g!==u&&(m=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Mo(u,e,i):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Mo(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VS(e))return"Blackberry";if(LS(e))return"Webos";if(NS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(MS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function OS(t=on()){return/firefox\//i.test(t)}function NS(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(t=on()){return/crios\//i.test(t)}function PS(t=on()){return/iemobile/i.test(t)}function MS(t=on()){return/android/i.test(t)}function VS(t=on()){return/blackberry/i.test(t)}function LS(t=on()){return/webos/i.test(t)}function Qy(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UP(t=on()){return Qy(t)&&!!window.navigator?.standalone}function BP(){return Lx()&&document.documentMode===10}function US(t=on()){return Qy(t)||MS(t)||LS(t)||VS(t)||/windows phone/i.test(t)||PS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e=[]){let n;switch(t){case"Browser":n=vE(on());break;case"Worker":n=`${vE(on())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e={}){return ol(t,"GET","/v2/passwordPolicy",$y(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=6;class HP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new zP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),i=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(pa(this));const n=e?dn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jP(this),n=new HP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await LP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yy(t){return dn(t)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gx(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GP(t){Xy=t}function $P(t){return Xy.loadJS(t)}function KP(){return Xy.gapiScript}function QP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e){const n=uy(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_a(u,e??{}))return o;Ei(o,"already-initialized")}return n.initialize({options:e})}function XP(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function WP(t,e,n){const i=Yy(t);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=zS(e),{host:f,port:m}=ZP(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(_a(g,i.config.emulator)&&_a(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Jo(f)?(VT(`${u}//${f}${p}`),LT("Auth",!0)):JP()}function zS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZP(t){const e=zS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:bE(i.substr(u.length+1))}}else{const[u,f]=i.split(":");return{host:u,port:bE(f)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e){return IP(t,"POST","/v1/accounts:signInWithIdp",$y(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="http://localhost";class Sa extends jS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const f=new Sa(i,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Vo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:eM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends qS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends ac{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return rs.credential(n,i)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends ac{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends ac{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ss.credential(n,i)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await sr._fromIdTokenResponse(e,i,o),f=EE(i);return new Ko({user:u,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=EE(i);return new Ko({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function EE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Ai{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Bh(e,n,i,o)}}function HS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(t,u,e,i):u})}async function tM(t,e,n=!1){const i=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e,n=!1){const{auth:i}=t;if(Cr(i.app))return Promise.reject(pa(i));const o="reauthenticate";try{const u=await $u(t,HS(i,o,e,t),n);Se(u.idToken,i,"internal-error");const f=Ky(u.idToken);Se(f,i,"internal-error");const{sub:m}=f;return Se(t.uid===m,i,"user-mismatch"),Ko._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ei(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e,n=!1){if(Cr(t.app))return Promise.reject(pa(t));const i="signIn",o=await HS(t,i,e),u=await Ko._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(u.user),u}function iM(t,e,n,i){return dn(t).onIdTokenChanged(e,n,i)}function sM(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=1e3,oM=10;class GS extends FS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},u=this.storage.getItem(i);BP()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,oM):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GS.type="LOCAL";const lM=GS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends FS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$S.type="SESSION";const KS=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Ad(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await uM(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Wy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);f={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function fM(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function hM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dM(){return navigator?.serviceWorker?.controller||null}function mM(){return QS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",pM=1,jh="firebaseLocalStorage",XS="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function gM(){const t=indexedDB.deleteDatabase(YS);return new oc(t).toPromise()}function qg(){const t=indexedDB.open(YS,pM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(jh,{keyPath:XS})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(jh)?e(i):(i.close(),await gM(),e(await qg()))})})}async function TE(t,e,n){const i=Rd(t,!0).put({[XS]:e,value:n});return new oc(i).toPromise()}async function yM(t,e){const n=Rd(t,!1).get(e),i=await new oc(n).toPromise();return i===void 0?null:i.value}function SE(t,e){const n=Rd(t,!0).delete(e);return new oc(n).toPromise()}const wM=800,vM=3;class WS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>vM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(mM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hM(),!this.activeServiceWorker)return;this.sender=new cM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await TE(e,zh,"1"),await SE(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>TE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>yM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rd(o,!1).getAll();return new oc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WS.type="LOCAL";const _M=WS;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e){return e?di(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends jS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EM(t){return rM(t.auth,new Zy(t),t.bypassAuthState)}function TM(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),nM(n,new Zy(t),t.bypassAuthState)}async function SM(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),tM(n,new Zy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EM;case"linkViaPopup":case"linkViaRedirect":return SM;case"reauthViaPopup":case"reauthViaRedirect":return TM;default:Ei(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new sc(2e3,1e4);class Do extends ZS{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AM.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="pendingRedirect",lh=new Map;class CM extends ZS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const i=await IM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IM(t,e){const n=OM(e),i=DM(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function xM(t,e){lh.set(t._key(),e)}function DM(t){return di(t._redirectPersistence)}function OM(t){return oh(RM,t.config.apiKey,t.name)}async function NM(t,e,n=!1){if(Cr(t.app))return Promise.reject(pa(t));const i=Yy(t),o=bM(i,e),f=await new CM(i,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=600*1e3;class PM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!JS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kM&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function MM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e={}){return ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UM=/^https?/;async function BM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VM(t);for(const n of e)try{if(zM(n))return}catch{}Ei(t,"unauthorized-domain")}function zM(t){const e=zg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const f=new URL(t);return f.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!UM.test(n))return!1;if(LM.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new sc(3e4,6e4);function RE(){const t=kr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qM(t){return new Promise((e,n)=>{function i(){RE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RE(),n(Nr(t,"network-request-failed"))},timeout:jM.get()})}if(kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kr().gapi?.load)i();else{const o=QP("iframefcb");return kr()[o]=()=>{gapi.load?i():n(Nr(t,"network-request-failed"))},$P(`${KP()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw uh=null,e})}let uh=null;function HM(t){return uh=uh||qM(t),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new sc(5e3,15e3),GM="__/auth/iframe",$M="emulator/auth/iframe",KM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YM(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gy(e,$M):`https://${t.config.authDomain}/${GM}`,i={apiKey:e.apiKey,appName:t.name,v:el},o=QM.get(t.config.apiHost);o&&(i.eid=o);const u=t._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Wu(i).slice(1)}`}async function XM(t){const e=await HM(t),n=kr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:YM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KM,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const f=Nr(t,"network-request-failed"),m=kr().setTimeout(()=>{u(f)},FM.get());function p(){kr().clearTimeout(m),o(i)}i.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZM=500,JM=600,e4="_blank",t4="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n4(t,e,n,i=ZM,o=JM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p={...WM,width:i.toString(),height:o.toString(),top:u,left:f},g=on().toLowerCase();n&&(m=kS(g)?e4:n),OS(g)&&(e=e||t4,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[O,V])=>`${S}${O}=${V},`,"");if(UP(g)&&m!=="_self")return r4(e||"",m),new CE(null);const E=window.open(e||"",m,v);Se(E,t,"popup-blocked");try{E.focus()}catch{}return new CE(E)}function r4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="__/auth/handler",s4="emulator/auth/handler",a4=encodeURIComponent("fac");async function IE(t,e,n,i,o,u){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const f={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:el,eventId:o};if(e instanceof qS){e.setDefaultLanguage(t.languageCode),f.providerId=e.providerId||"",Fx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))f[v]=E}if(e instanceof ac){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(f.scopes=v.join(","))}t.tenantId&&(f.tid=t.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await t._getAppCheckToken(),g=p?`#${a4}=${encodeURIComponent(p)}`:"";return`${o4(t)}?${Wu(m).slice(1)}${g}`}function o4({config:t}){return t.emulator?Gy(t,s4):`https://${t.authDomain}/${i4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="webStorageSupport";class l4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KS,this._completeRedirectFn=NM,this._overrideRedirectResult=xM}async _openPopup(e,n,i,o){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await IE(e,n,i,zg(),o);return n4(e,u,Wy())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await IE(e,n,i,zg(),o);return fM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ti(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await XM(e),i=new PM(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},o=>{const u=o?.[0]?.[ig];u!==void 0&&n(!!u),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||NS()||Qy()}}const u4=l4;var xE="@firebase/auth",DE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h4(t){zo(new ba("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=i.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:f,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(t)},g=new FP(i,o,u,p);return XP(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),zo(new ba("auth-internal",e=>{const n=Yy(e.getProvider("auth").getImmediate());return(i=>new c4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(xE,DE,f4(t)),fs(xE,DE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=300,m4=MT("authIdTokenMaxAge")||d4;let OE=null;const p4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>m4)return;const o=n?.token;OE!==o&&(OE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function g4(t=jT()){const e=uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YP(t,{popupRedirectResolver:u4,persistence:[_M,lM,KS]}),i=MT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const f=p4(u.toString());sM(n,f,()=>f(n.currentUser)),iM(n,m=>f(m))}}const o=kT("auth");return o&&WP(n,`http://${o}`),n}function y4(){return document.getElementsByTagName("head")?.[0]??document}GP({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const u=Nr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",y4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h4("Browser");const w4={apiKey:"AIzaSyAB9a0tExSm5tKynAXLFbq7H-yQtlgr",authDomain:"quiz-game-73509.firebaseapp.com",projectId:"quiz-game-73509",storageBucket:"quiz-game-73509.appspot.com",messagingSenderId:"667755596195",appId:"1:667755596195:web:f7119f3a177924f595a9a"},eA=zT(w4),As=nP(eA);g4(eA);const v4={scores:{score:0},loading:!1,error:null},ch=Ca("score/update",async({price:t,oldScore:e,id:n},i)=>{try{const o=e+t,u=Py(As,"users",n);return await yP(u,{score:o}),o}catch(o){return i.rejectWithValue(o.message)}}),tA=id({name:"score",initialState:v4,reducers:{changeScore:(t,e)=>{t.scores.score=e.payload},resetScore:t=>{t.scores.score=0}},extraReducers:t=>{t.addCase(ch.pending,e=>{e.loading=!0,e.error=null}).addCase(ch.fulfilled,(e,n)=>{e.loading=!1,e.scores.score=n.payload}).addCase(ch.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{changeScore:_4,resetScore:g6}=tA.actions,b4=tA.reducer,E4=[{title:"JavaScript",questions:[{price:100,question:"Что такое переменная в JavaScript и как её объявить?",answer:"Именованное хранилище данных, объявляется через var, let или const."},{price:100,question:"Какие примитивные типы данных существуют в JavaScript?",answer:"string, number, boolean, null, undefined, symbol, bigint."},{price:100,question:"Что такое оператор typeof и как его использовать?",answer:"Оператор для определения типа значения, например typeof 5 вернёт 'number'."},{price:100,question:"Что вернёт typeof null?",answer:"object (историческая особенность JavaScript)."},{price:100,question:"Что делает 'use strict' в JavaScript?",answer:"Включает строгий режим, который предотвращает некоторые ошибки и запрещает неявные глобальные переменные."},{price:200,question:"Чем отличается let от var?",answer:"let имеет блочную область видимости, var — функциональную."},{price:200,question:"Чем отличается const от let?",answer:"const создаёт константу, значение нельзя переназначить; let позволяет менять значение."},{price:200,question:"Что такое массив и как проверить, что значение — массив?",answer:"Упорядоченная коллекция элементов; проверка через Array.isArray(value)."},{price:200,question:"Что делает метод forEach в массиве?",answer:"Перебирает все элементы массива и выполняет функцию для каждого элемента."},{price:200,question:"Что делает метод filter в массиве?",answer:"Создаёт новый массив с элементами, которые прошли проверку в функции."},{price:300,question:"Что такое замыкание (closure) в JavaScript?",answer:"Функция, которая запоминает своё лексическое окружение."},{price:300,question:"Что делает метод map в массиве?",answer:"Создаёт новый массив, применяя функцию к каждому элементу исходного массива."},{price:300,question:"Что такое деструктуризация объектов и массивов?",answer:"Синтаксис для извлечения значений из объектов или массивов в отдельные переменные."},{price:300,question:"Что такое стрелочные функции и их отличие от обычных?",answer:"Короткий синтаксис функции, не имеющей собственного this."},{price:300,question:"Что такое шаблонные строки и как использовать?",answer:"Строки с интерполяцией через `${}` для вставки выражений."},{price:400,question:"Что такое hoisting в JavaScript?",answer:"Поднятие объявлений переменных и функций в начало области видимости."},{price:400,question:"Что делает метод reduce в массиве?",answer:"Сводит массив к одному значению, применяя аккумуляторную функцию."},{price:400,question:"Что такое JSON и для чего используется?",answer:"Формат обмена данными, основанный на синтаксисе JS-объектов."},{price:400,question:"Что такое event loop и как он работает?",answer:"Механизм обработки асинхронных операций, событий и очередей в JS."},{price:400,question:"Что такое call stack и как он связан с выполнением функций?",answer:"Стек вызовов функций, отслеживает порядок выполнения и возврат результата."},{price:500,question:"Что такое прототипное наследование?",answer:"Механизм, при котором объекты наследуют свойства и методы через __proto__ или Object.create."},{price:500,question:"Что такое промис и его состояния?",answer:"Объект для асинхронных операций со статусами pending, fulfilled, rejected."},{price:500,question:"Что такое async/await и как использовать?",answer:"Синтаксис для работы с промисами как с синхронным кодом."},{price:500,question:"Что такое генераторы (function*) и yield?",answer:"Функции, выполнение которых можно приостанавливать через yield и возобновлять."},{price:500,question:"Что такое WeakMap и WeakSet и зачем нужны?",answer:"Коллекции, хранящие объекты без предотвращения их удаления сборщиком мусора."}]},{title:"TypeScript",questions:[{price:100,question:"Что такое TypeScript и зачем он нужен?",answer:"Надстройка над JS с типизацией для раннего обнаружения ошибок."},{price:100,question:"Как объявить переменную типа string?",answer:"let name: string;"},{price:100,question:"Какие базовые типы есть в TypeScript?",answer:"string, number, boolean, null, undefined, symbol, bigint, any, unknown, void, never."},{price:100,question:"Что такое any и когда его использовать?",answer:"Любой тип, отключает проверку; использовать редко."},{price:100,question:"Что такое unknown и чем отличается от any?",answer:"Безопасный аналог any, требует проверки типа перед использованием."},{price:200,question:"Что такое tuple и как его объявить?",answer:"Массив фиксированной длины с разными типами: let t: [string, number];"},{price:200,question:"Что такое enum и как его использовать?",answer:"Перечисление именованных констант."},{price:200,question:"Чем interface отличается от type?",answer:"interface можно расширять и реализовывать, type — алиас типов, гибкий в объединениях и пересечениях."},{price:200,question:"Что такое union-тип?",answer:"Переменная может иметь один из нескольких типов."},{price:200,question:"Что такое intersection-тип?",answer:"Комбинирует несколько типов в один."},{price:300,question:"Что такое generics и зачем их используют?",answer:"Параметры типов для универсальных функций и классов."},{price:300,question:"Что такое keyof и как его применять?",answer:"Оператор для получения ключей объекта как типов."},{price:300,question:"Что такое mapped types?",answer:"Преобразование свойств типа: { [K in keyof T]: ... }"},{price:300,question:"Что такое conditional types?",answer:"Типы вида T extends U ? X : Y."},{price:300,question:"Что такое type assertion (as) и зачем использовать?",answer:"Приведение типа значения к другому типу."},{price:400,question:"Что такое Partial и Readonly типы?",answer:"Утилитарные типы для изменения свойств объекта: Partial делает опциональными, Readonly — только для чтения."},{price:400,question:"Что такое type narrowing?",answer:"Сужение типов через проверки (typeof, instanceof, проверку на null и т.п.)."},{price:400,question:"Что такое never и где используется?",answer:"Тип для значений, которые никогда не происходят (ошибка или бесконечный цикл)."},{price:400,question:"Что такое void и где используется?",answer:"Тип функции, не возвращающей значение."},{price:400,question:"Что такое декларации ambient-модулей?",answer:"Файлы .d.ts с типами для внешних библиотек."},{price:500,question:"Что такое infer в условных типах?",answer:"Ключевое слово для вывода типов внутри условных типов."},{price:500,question:"Что такое utility types и примеры их использования?",answer:"Partial, Pick, Omit, Readonly, Record — позволяют менять и комбинировать свойства типов."},{price:500,question:"Что такое template literal types?",answer:"Типы, формируемые через шаблонные строки, например type T = `${string}-${number}`;"},{price:500,question:"Что такое declaration merging?",answer:"Объединение нескольких деклараций с одним именем, например интерфейсов."},{price:500,question:"Как работает type guards?",answer:"Функции или проверки, которые сужают тип переменной."}]},{title:"React",questions:[{price:100,question:"Что такое компонент в React?",answer:"Функция или класс, возвращающий JSX."},{price:100,question:"Что такое JSX?",answer:"Синтаксис для описания UI в виде HTML-подобного кода."},{price:100,question:"Что такое props?",answer:"Входные параметры компонента."},{price:100,question:"Что такое state?",answer:"Состояние компонента, влияющее на рендер."},{price:100,question:"Что делает ReactDOM.render?",answer:"Метод рендеринга компонента в DOM."},{price:200,question:"Что делает useState и как его использовать?",answer:"Хук для хранения и обновления состояния функционального компонента."},{price:200,question:"Что делает useEffect и когда вызывается?",answer:"Хук для побочных эффектов, вызывается после рендера компонента."},{price:200,question:"Что такое controlled component?",answer:"Компонент, управляющий значениями через state и props."},{price:200,question:"Что такое uncontrolled component?",answer:"Компонент, который хранит состояние в DOM, а не в state."},{price:200,question:"Что такое key в списках и зачем нужен?",answer:"Уникальный идентификатор для оптимизации рендера списков."},{price:300,question:"Что такое lifting state up?",answer:"Поднятие состояния на уровень выше для совместного использования между компонентами."},{price:300,question:"Что такое React.memo?",answer:"HOC для мемоизации функциональных компонентов, предотвращает лишний рендер."},{price:300,question:"Что делает useCallback?",answer:"Мемоизация функций между рендерами."},{price:300,question:"Что делает useMemo?",answer:"Мемоизация вычислений между рендерами."},{price:300,question:"Что делает useRef и где применяют?",answer:"Хук для хранения изменяемых значений без перерендера."},{price:400,question:"Что такое context API и как его использовать?",answer:"Механизм передачи данных через дерево компонентов без пропсов."},{price:400,question:"Что такое virtual DOM и зачем нужен?",answer:"Копия DOM в памяти для эффективного обновления UI."},{price:400,question:"Что такое reconciliation?",answer:"Алгоритм React для сравнения virtual DOM и реального DOM."},{price:400,question:"Что такое Suspense и lazy-loading?",answer:"Механизм для асинхронной загрузки компонентов."},{price:400,question:"Что такое server-side rendering (SSR)?",answer:"Рендеринг React на сервере перед отправкой клиенту."},{price:500,question:"Что такое HOC и для чего используется?",answer:"Функция, принимающая компонент и возвращающая новый с расширенными возможностями."},{price:500,question:"Что такое render props?",answer:"Техника передачи функции для рендера внутри компонента."},{price:500,question:"Что такое React Fiber?",answer:"Архитектура React для асинхронного и приоритетного рендера."},{price:500,question:"Что такое portals?",answer:"Механизм рендеринга дочерних компонентов вне DOM-дерева родителя."},{price:500,question:"Что такое error boundaries?",answer:"Компоненты, ловящие ошибки в дереве компонентов и предотвращающие крах приложения."}]},{title:"Redux",questions:[{price:100,question:"Что такое Redux?",answer:"Библиотека для управления состоянием приложения."},{price:100,question:"Что такое action и его структура?",answer:"Объект с обязательным type, описывающий изменение состояния."},{price:100,question:"Что такое reducer?",answer:"Функция, вычисляющая новое состояние на основе action."},{price:100,question:"Что такое store?",answer:"Центральное хранилище состояния приложения."},{price:100,question:"Что делает dispatch?",answer:"Отправляет action в store для изменения состояния."},{price:200,question:"Что такое middleware?",answer:"Функция, расширяющая dispatch и позволяющая выполнять побочные эффекты."},{price:200,question:"Что делает combineReducers?",answer:"Объединяет несколько редьюсеров в один."},{price:200,question:"Что делает subscribe в Redux?",answer:"Позволяет подписаться на изменения состояния store."},{price:200,question:"Что такое selector?",answer:"Функция для выборки данных из состояния store."},{price:200,question:"Что такое pure function и почему редьюсер должен быть таким?",answer:"Функция без побочных эффектов; редьюсер должен возвращать новое состояние без мутаций."},{price:300,question:"Что такое immutability и зачем оно нужно в Redux?",answer:"Неприменяемость объектов; обеспечивает предсказуемость и детектирование изменений."},{price:300,question:"Что такое DevTools для Redux?",answer:"Инструменты разработчика для отладки состояния приложения."},{price:300,question:"Что делает bindActionCreators?",answer:"Оборачивает action creators в dispatch для удобства вызова."},{price:300,question:"Что такое thunk?",answer:"Middleware для работы с асинхронным кодом."},{price:300,question:"Что такое saga?",answer:"Middleware для управления побочными эффектами через генераторы."},{price:400,question:"Что такое normalize state?",answer:"Приведение состояния к плоской структуре для удобства работы."},{price:400,question:"Что такое reselect и зачем использовать?",answer:"Библиотека для мемоизированных селекторов."},{price:400,question:"Что такое optimistic update?",answer:"Предварительное обновление UI до ответа сервера."},{price:400,question:"В чём отличие Redux от Context API?",answer:"Redux масштабируемее, предоставляет DevTools и middleware, Context API проще для маленьких приложений."},{price:400,question:"Что такое Flux и как он связан с Redux?",answer:"Архитектурный паттерн с однонаправленным потоком данных, на котором основан Redux."},{price:500,question:"Какие альтернативы Redux существуют?",answer:"MobX, Zustand, Recoil, Jotai."},{price:500,question:"Что такое middleware listener?",answer:"Позволяет реагировать на события store при изменении состояния."},{price:500,question:"Что такое optimistic concurrency в Redux?",answer:"Обновление состояния с учётом возможных конфликтов с сервером."},{price:500,question:"Что такое batch update?",answer:"Объединение нескольких изменений состояния в одно обновление."},{price:500,question:"Что такое hydration в Redux?",answer:"Загрузка состояния на клиенте из серверного рендера."}]},{title:"RTK",questions:[{price:100,question:"Что такое Redux Toolkit (RTK)?",answer:"Официальный набор инструментов для упрощения работы с Redux."},{price:100,question:"Что делает configureStore?",answer:"Создаёт store с правильной конфигурацией middleware и devtools."},{price:100,question:"Что такое createSlice?",answer:"Функция для создания редьюсера и action creators в одном месте."},{price:100,question:"Что такое createAsyncThunk?",answer:"Функция для создания асинхронных действий с автоматической обработкой pending/fulfilled/rejected."},{price:100,question:"Что делает getDefaultMiddleware?",answer:"Возвращает набор middleware по умолчанию для RTK."},{price:200,question:"Что такое RTK Query?",answer:"Инструмент для работы с серверными данными в Redux."},{price:200,question:"Что такое endpoint в RTK Query?",answer:"Определяет метод запроса к серверу и его тип (query/mutation)."},{price:200,question:"Что такое mutation в RTK Query?",answer:"Запрос на изменение данных на сервере."},{price:200,question:"Что такое query в RTK Query?",answer:"Запрос на получение данных с сервера."},{price:200,question:"Что делает providesTags и invalidatesTags?",answer:"Помогает управлять кешированием и обновлением данных."},{price:300,question:"Что такое cache invalidation?",answer:"Механизм обновления кеша после мутаций."},{price:300,question:"Что такое polling в RTK Query?",answer:"Автоматическое обновление данных через интервалы."},{price:300,question:"Что такое lazy query?",answer:"Запрос, который выполняется вручную по вызову функции."},{price:300,question:"Что делает middleware listener в RTK?",answer:"Позволяет реагировать на события в store."},{price:300,question:"Что такое matchers в RTK?",answer:"Позволяет обрабатывать несколько action по условию."},{price:400,question:"Чем RTK отличается от классического Redux?",answer:"Упрощает конфигурацию, уменьшает шаблонный код, поддерживает Immer."},{price:400,question:"Что такое optimistic update в RTK Query?",answer:"Предварительное обновление состояния до ответа сервера."},{price:400,question:"Что такое transformResponse?",answer:"Позволяет изменять данные ответа перед сохранением в store."},{price:400,question:"Что такое keepUnusedDataFor?",answer:"Настройка времени хранения неиспользуемых данных в кеше."},{price:400,question:"Что такое refetchOnMount?",answer:"Настройка повторного запроса данных при монтировании компонента."},{price:500,question:"Что такое optimistic concurrency в RTK?",answer:"Обновление состояния с учётом возможных конфликтов с сервером."},{price:500,question:"Что такое invalidationTags и как они помогают?",answer:"Позволяют автоматически обновлять кеш после мутаций."},{price:500,question:"Что такое createEntityAdapter?",answer:"Утилита для управления коллекциями сущностей в store."},{price:500,question:"Что такое prefetch в RTK Query?",answer:"Заранее загружает данные до их фактического использования."},{price:500,question:"Что такое enhancedReducers?",answer:"Редьюсеры с дополнительной логикой, например undo/redo."}]}],T4={topics:[],selectedIndexByTitleAndPrice:{},answeredStatusByTitleAndPrice:{}},Hg=Ca("topics/fetchTopics",async()=>{const t=await Sd(al(As,"topics")),e=[];return t.forEach(n=>{const i=n.data();e.push({title:i.title,questions:i.questions})}),e}),S4=Ca("topics/seedTopics",async()=>{const t=E4.map(e=>gP(Py(As,"topics",e.title),e));await Promise.all(t)}),nA=id({name:"topics",initialState:T4,reducers:{initializeBoard(t,e){const n=e.payload??t.topics,i=[100,200,300,400,500],o={};n.forEach(u=>{const f={};u.questions.forEach((m,p)=>{f[m.price]||(f[m.price]=[]),f[m.price].push(p)}),o[u.title]={},i.forEach(m=>{const p=f[m]||[];if(p.length>0){const g=Math.floor(Math.random()*p.length);o[u.title][m]=p[g]}})}),t.selectedIndexByTitleAndPrice=o,t.answeredStatusByTitleAndPrice={}},markAnswered(t,e){const{title:n,price:i,result:o}=e.payload;t.answeredStatusByTitleAndPrice[n]||(t.answeredStatusByTitleAndPrice[n]={}),t.answeredStatusByTitleAndPrice[n][i]=o}},extraReducers:t=>{t.addCase(Hg.fulfilled,(e,{payload:n})=>{e.topics=n})}}),{initializeBoard:NE,markAnswered:A4}=nA.actions,R4=nA.reducer,C4={items:[],loading:!1,error:null},fh=Ca("answers/add",async({userId:t,answer:e},n)=>{try{await ES(al(As,"answersHistory"),{userId:t,...e})}catch(i){return n.rejectWithValue(i.message)}}),hh=Ca("answers/fetch",async({userId:t},e)=>{try{const n=zy(al(As,"answersHistory"),Bg("userId","==",t),vS("answeredAt","desc"));return(await Sd(n)).docs.map(o=>o.data())}catch(n){return e.rejectWithValue(n.message)}}),I4=id({name:"answers",initialState:C4,reducers:{},extraReducers:t=>{t.addCase(hh.pending,e=>{e.loading=!0,e.error=null}).addCase(hh.fulfilled,(e,n)=>{e.loading=!1,e.items=n.payload}).addCase(hh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(fh.pending,e=>{e.loading=!0,e.error=null}).addCase(fh.fulfilled,e=>{e.loading=!1}).addCase(fh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),x4=I4.reducer;/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function rA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function D4(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kE(t,e){return t.get(rA(t,e))}function O4(t,e,n){D4(t,e),e.set(t,n)}function N4(t,e,n){return t.set(rA(t,e),n),n}const k4=100,ve={},P4=()=>{ve.previousActiveElement instanceof HTMLElement?(ve.previousActiveElement.focus(),ve.previousActiveElement=null):document.body&&document.body.focus()},M4=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;ve.restoreFocusTimeout=setTimeout(()=>{P4(),e()},k4),window.scrollTo(n,i)}),iA="swal2-",V4=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=V4.reduce((t,e)=>(t[e]=iA+e,t),{}),L4=["success","warning","info","question","error"],qh=L4.reduce((t,e)=>(t[e]=iA+e,t),{}),sA="SweetAlert2:",Jy=t=>t.charAt(0).toUpperCase()+t.slice(1),mn=t=>{console.warn(`${sA} ${typeof t=="object"?t.join(" "):t}`)},Oa=t=>{console.error(`${sA} ${t}`)},PE=[],U4=t=>{PE.includes(t)||(PE.push(t),mn(t))},aA=(t,e=null)=>{U4(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Cd=t=>typeof t=="function"?t():t,ew=t=>t&&typeof t.toPromise=="function",lc=t=>ew(t)?t.toPromise():Promise.resolve(t),tw=t=>t&&Promise.resolve(t)===t,pn=()=>document.body.querySelector(`.${Y.container}`),uc=t=>{const e=pn();return e?e.querySelector(t):null},Mn=t=>uc(`.${t}`),qe=()=>Mn(Y.popup),ll=()=>Mn(Y.icon),B4=()=>Mn(Y["icon-content"]),oA=()=>Mn(Y.title),nw=()=>Mn(Y["html-container"]),lA=()=>Mn(Y.image),rw=()=>Mn(Y["progress-steps"]),Id=()=>Mn(Y["validation-message"]),Lr=()=>uc(`.${Y.actions} .${Y.confirm}`),ul=()=>uc(`.${Y.actions} .${Y.cancel}`),Na=()=>uc(`.${Y.actions} .${Y.deny}`),z4=()=>Mn(Y["input-label"]),cl=()=>uc(`.${Y.loader}`),cc=()=>Mn(Y.actions),uA=()=>Mn(Y.footer),xd=()=>Mn(Y["timer-progress-bar"]),iw=()=>Mn(Y.close),j4=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,sw=()=>{const t=qe();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((u,f)=>{const m=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(f.getAttribute("tabindex")||"0");return m>p?1:m<p?-1:0}),i=t.querySelectorAll(j4),o=Array.from(i).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(u=>bn(u))},aw=()=>gi(document.body,Y.shown)&&!gi(document.body,Y["toast-shown"])&&!gi(document.body,Y["no-backdrop"]),Dd=()=>{const t=qe();return t?gi(t,Y.toast):!1},q4=()=>{const t=qe();return t?t.hasAttribute("data-loading"):!1},Vn=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{t.appendChild(f)});const u=i.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?t.appendChild(f.cloneNode(!0)):t.appendChild(f)})}},gi=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},H4=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Y).includes(n)&&!Object.values(qh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Pn=(t,e,n)=>{if(H4(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){mn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}Ge(t,i)}},Od=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return t.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return t.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||t.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return t.querySelector(`.${Y.popup} > .${Y.range} input`);default:return t.querySelector(`.${Y.popup} > .${Y.input}`)}},cA=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},fA=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(i):o.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},Ge=(t,e)=>{fA(t,e,!0)},Wn=(t,e)=>{fA(t,e,!1)},os=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const o=n[i];if(o instanceof HTMLElement&&gi(o,e))return o}},ga=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Ht=(t,e="flex")=>{t&&(t.style.display=e)},ln=t=>{t&&(t.style.display="none")},ow=(t,e="block")=>{t&&new MutationObserver(()=>{fc(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},ME=(t,e,n,i)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,i)},fc=(t,e,n="flex")=>{e?Ht(t,n):ln(t)},bn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),F4=()=>!bn(Lr())&&!bn(Na())&&!bn(ul()),Fg=t=>t.scrollHeight>t.clientHeight,G4=(t,e)=>{let n=t;for(;n&&n!==e;){if(Fg(n))return!0;n=n.parentElement}return!1},hA=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},lw=(t,e=!1)=>{const n=xd();n&&bn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},$4=()=>{const t=xd();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},K4=()=>typeof window>"u"||typeof document>"u",Q4=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Y4=()=>{const t=pn();return t?(t.remove(),Wn([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},ua=()=>{ve.currentInstance.resetValidationMessage()},X4=()=>{const t=qe(),e=os(t,Y.input),n=os(t,Y.file),i=t.querySelector(`.${Y.range} input`),o=t.querySelector(`.${Y.range} output`),u=os(t,Y.select),f=t.querySelector(`.${Y.checkbox} input`),m=os(t,Y.textarea);e.oninput=ua,n.onchange=ua,u.onchange=ua,f.onchange=ua,m.oninput=ua,i.oninput=()=>{ua(),o.value=i.value},i.onchange=()=>{ua(),o.value=i.value}},W4=t=>typeof t=="string"?document.querySelector(t):t,Z4=t=>{const e=qe();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},J4=t=>{window.getComputedStyle(t).direction==="rtl"&&Ge(pn(),Y.rtl)},eV=t=>{const e=Y4();if(K4()){Oa("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Y.container,e&&Ge(n,Y["no-transition"]),Vn(n,Q4),n.dataset.swal2Theme=t.theme;const i=W4(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Z4(t),J4(i),X4()},uw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?tV(t,e):t&&Vn(e,t)},tV=(t,e)=>{t.jquery?nV(e,t):Vn(e,t.toString())},nV=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},rV=(t,e)=>{const n=cc(),i=cl();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ln(n):Ht(n),Pn(n,e,"actions"),iV(n,i,e),Vn(i,e.loaderHtml||""),Pn(i,e,"loader"))};function iV(t,e,n){const i=Lr(),o=Na(),u=ul();!i||!o||!u||(ag(i,"confirm",n),ag(o,"deny",n),ag(u,"cancel",n),sV(i,o,u,n),n.reverseButtons&&(n.toast?(t.insertBefore(u,i),t.insertBefore(o,i)):(t.insertBefore(u,e),t.insertBefore(o,e),t.insertBefore(i,e))))}function sV(t,e,n,i){if(!i.buttonsStyling){Wn([t,e,n],Y.styled);return}Ge([t,e,n],Y.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),sg(t),sg(e),sg(n)}function sg(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function ag(t,e,n){const i=Jy(e);fc(t,n[`show${i}Button`],"inline-block"),Vn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Y[e],Pn(t,n,`${e}Button`)}const aV=(t,e)=>{const n=iw();n&&(Vn(n,e.closeButtonHtml||""),Pn(n,e,"closeButton"),fc(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},oV=(t,e)=>{const n=pn();n&&(lV(n,e.backdrop),uV(n,e.position),cV(n,e.grow),Pn(n,e,"container"))};function lV(t,e){typeof e=="string"?t.style.background=e:e||Ge([document.documentElement,document.body],Y["no-backdrop"])}function uV(t,e){e&&(e in Y?Ge(t,Y[e]):(mn('The "position" parameter is not valid, defaulting to "center"'),Ge(t,Y.center)))}function cV(t,e){e&&Ge(t,Y[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const fV=["input","file","range","select","radio","checkbox","textarea"],hV=(t,e)=>{const n=qe();if(!n)return;const i=st.innerParams.get(t),o=!i||e.input!==i.input;fV.forEach(u=>{const f=os(n,Y[u]);f&&(pV(u,e.inputAttributes),f.className=Y[u],o&&ln(f))}),e.input&&(o&&dV(e),gV(e))},dV=t=>{if(!t.input)return;if(!vt[t.input]){Oa(`Unexpected type of input! Expected ${Object.keys(vt).join(" | ")}, got "${t.input}"`);return}const e=dA(t.input);if(!e)return;const n=vt[t.input](e,t);Ht(e),t.inputAutoFocus&&setTimeout(()=>{cA(n)})},mV=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},pV=(t,e)=>{const n=qe();if(!n)return;const i=Od(n,t);if(i){mV(i);for(const o in e)i.setAttribute(o,e[o])}},gV=t=>{if(!t.input)return;const e=dA(t.input);e&&Pn(e,t,"input")},cw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},hc=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),o=Y["input-label"];i.setAttribute("for",t.id),i.className=o,typeof n.customClass=="object"&&Ge(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},dA=t=>{const e=qe();if(e)return os(e,Y[t]||Y.input)},Hh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:tw(e)||mn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=(t,e)=>(Hh(t,e.inputValue),hc(t,t,e),cw(t,e),t.type=e.input,t);vt.file=(t,e)=>(hc(t,t,e),cw(t,e),t);vt.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return Hh(n,e.inputValue),n.type=e.input,Hh(i,e.inputValue),hc(n,t,e),t};vt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Vn(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return hc(t,t,e),t};vt.radio=t=>(t.textContent="",t);vt.checkbox=(t,e)=>{const n=Od(qe(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return Vn(i,e.inputPlaceholder||e.inputLabel),n};vt.textarea=(t,e)=>{Hh(t,e.inputValue),cw(t,e),hc(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(qe()).width),o=()=>{if(!document.body.contains(t))return;const u=t.offsetWidth+n(t);u>i?qe().style.width=`${u}px`:ga(qe(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const yV=(t,e)=>{const n=nw();n&&(ow(n),Pn(n,e,"htmlContainer"),e.html?(uw(e.html,n),Ht(n,"block")):e.text?(n.textContent=e.text,Ht(n,"block")):ln(n),hV(t,e))},wV=(t,e)=>{const n=uA();n&&(ow(n),fc(n,e.footer,"block"),e.footer&&uw(e.footer,n),Pn(n,e,"footer"))},vV=(t,e)=>{const n=st.innerParams.get(t),i=ll();if(!i)return;if(n&&e.icon===n.icon){LE(i,e),VE(i,e);return}if(!e.icon&&!e.iconHtml){ln(i);return}if(e.icon&&Object.keys(qh).indexOf(e.icon)===-1){Oa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ln(i);return}Ht(i),LE(i,e),VE(i,e),Ge(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",mA)},VE=(t,e)=>{for(const[n,i]of Object.entries(qh))e.icon!==n&&Wn(t,i);Ge(t,e.icon&&qh[e.icon]),EV(t,e),mA(),Pn(t,e,"icon")},mA=()=>{const t=qe();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},_V=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,bV=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,LE=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=UE(e.iconHtml):e.icon==="success"?(i=_V(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=bV:e.icon&&(i=UE({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Vn(t,i)},EV=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ME(t,n,"background-color",e.iconColor);ME(t,".swal2-success-ring","border-color",e.iconColor)}},UE=t=>`<div class="${Y["icon-content"]}">${t}</div>`,TV=(t,e)=>{const n=lA();if(n){if(!e.imageUrl){ln(n);return}Ht(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ga(n,"width",e.imageWidth),ga(n,"height",e.imageHeight),n.className=Y.image,Pn(n,e,"image")}};let fw=!1,pA=0,gA=0,yA=0,wA=0;const SV=t=>{t.addEventListener("mousedown",Fh),document.body.addEventListener("mousemove",Gh),t.addEventListener("mouseup",$h),t.addEventListener("touchstart",Fh),document.body.addEventListener("touchmove",Gh),t.addEventListener("touchend",$h)},AV=t=>{t.removeEventListener("mousedown",Fh),document.body.removeEventListener("mousemove",Gh),t.removeEventListener("mouseup",$h),t.removeEventListener("touchstart",Fh),document.body.removeEventListener("touchmove",Gh),t.removeEventListener("touchend",$h)},Fh=t=>{const e=qe();if(t.target===e||ll().contains(t.target)){fw=!0;const n=vA(t);pA=n.clientX,gA=n.clientY,yA=parseInt(e.style.insetInlineStart)||0,wA=parseInt(e.style.insetBlockStart)||0,Ge(e,"swal2-dragging")}},Gh=t=>{const e=qe();if(fw){let{clientX:n,clientY:i}=vA(t);e.style.insetInlineStart=`${yA+(n-pA)}px`,e.style.insetBlockStart=`${wA+(i-gA)}px`}},$h=()=>{const t=qe();fw=!1,Wn(t,"swal2-dragging")},vA=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},RV=(t,e)=>{const n=pn(),i=qe();if(!(!n||!i)){if(e.toast){ga(n,"width",e.width),i.style.width="100%";const o=cl();o&&i.insertBefore(o,ll())}else ga(i,"width",e.width);ga(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),ln(Id()),CV(i,e),e.draggable&&!e.toast?(Ge(i,Y.draggable),SV(i)):(Wn(i,Y.draggable),AV(i))}},CV=(t,e)=>{const n=e.showClass||{};t.className=`${Y.popup} ${bn(t)?n.popup:""}`,e.toast?(Ge([document.documentElement,document.body],Y["toast-shown"]),Ge(t,Y.toast)):Ge(t,Y.modal),Pn(t,e,"popup"),typeof e.customClass=="string"&&Ge(t,e.customClass),e.icon&&Ge(t,Y[`icon-${e.icon}`])},IV=(t,e)=>{const n=rw();if(!n)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){ln(n);return}Ht(n),n.textContent="",o>=i.length&&mn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((u,f)=>{const m=xV(u);if(n.appendChild(m),f===o&&Ge(m,Y["active-progress-step"]),f!==i.length-1){const p=DV(e);n.appendChild(p)}})},xV=t=>{const e=document.createElement("li");return Ge(e,Y["progress-step"]),Vn(e,t),e},DV=t=>{const e=document.createElement("li");return Ge(e,Y["progress-step-line"]),t.progressStepsDistance&&ga(e,"width",t.progressStepsDistance),e},OV=(t,e)=>{const n=oA();n&&(ow(n),fc(n,e.title||e.titleText,"block"),e.title&&uw(e.title,n),e.titleText&&(n.innerText=e.titleText),Pn(n,e,"title"))},_A=(t,e)=>{RV(t,e),oV(t,e),IV(t,e),vV(t,e),TV(t,e),OV(t,e),aV(t,e),yV(t,e),rV(t,e),wV(t,e);const n=qe();typeof e.didRender=="function"&&n&&e.didRender(n),ve.eventEmitter.emit("didRender",n)},NV=()=>bn(qe()),bA=()=>{var t;return(t=Lr())===null||t===void 0?void 0:t.click()},kV=()=>{var t;return(t=Na())===null||t===void 0?void 0:t.click()},PV=()=>{var t;return(t=ul())===null||t===void 0?void 0:t.click()},fl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),EA=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},MV=(t,e,n)=>{EA(t),e.toast||(t.keydownHandler=i=>LV(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:qe(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Gg=(t,e)=>{var n;const i=sw();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=qe())===null||n===void 0||n.focus()},TA=["ArrowRight","ArrowDown"],VV=["ArrowLeft","ArrowUp"],LV=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?UV(e,t):e.key==="Tab"?BV(e):[...TA,...VV].includes(e.key)?zV(e.key):e.key==="Escape"&&jV(e,t,n)))},UV=(t,e)=>{if(!Cd(e.allowEnterKey))return;const n=Od(qe(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;bA(),t.preventDefault()}},BV=t=>{const e=t.target,n=sw();let i=-1;for(let o=0;o<n.length;o++)if(e===n[o]){i=o;break}t.shiftKey?Gg(i,-1):Gg(i,1),t.stopPropagation(),t.preventDefault()},zV=t=>{const e=cc(),n=Lr(),i=Na(),o=ul();if(!e||!n||!i||!o)return;const u=[n,i,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=TA.includes(t)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let p=0;p<e.children.length;p++){if(m=m[f],!m)return;if(m instanceof HTMLButtonElement&&bn(m))break}m instanceof HTMLButtonElement&&m.focus()}},jV=(t,e,n)=>{t.preventDefault(),Cd(e.allowEscapeKey)&&n(fl.esc)};var Qo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const qV=()=>{const t=pn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},SA=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},AA=typeof window<"u"&&!!window.GestureEvent,HV=()=>{if(AA&&!gi(document.body,Y.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Ge(document.body,Y.iosfix),FV()}},FV=()=>{const t=pn();if(!t)return;let e;t.ontouchstart=n=>{e=GV(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},GV=t=>{const e=t.target,n=pn(),i=nw();return!n||!i||$V(t)||KV(t)?!1:e===n||!Fg(n)&&e instanceof HTMLElement&&!G4(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Fg(i)&&i.contains(e))},$V=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",KV=t=>t.touches&&t.touches.length>1,QV=()=>{if(gi(document.body,Y.iosfix)){const t=parseInt(document.body.style.top,10);Wn(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},YV=()=>{const t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Lo=null;const XV=t=>{Lo===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Lo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Lo+YV()}px`)},WV=()=>{Lo!==null&&(document.body.style.paddingRight=`${Lo}px`,Lo=null)};function RA(t,e,n,i){Dd()?BE(t,i):(M4(n).then(()=>BE(t,i)),EA(ve)),AA?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),aw()&&(WV(),QV(),SA()),ZV()}function ZV(){Wn([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function ls(t){t=eL(t);const e=Qo.swalPromiseResolve.get(this),n=JV(this);this.isAwaitingPromise?t.isDismissed||(dc(this),e(t)):n&&e(t)}const JV=t=>{const e=qe();if(!e)return!1;const n=st.innerParams.get(t);if(!n||gi(e,n.hideClass.popup))return!1;Wn(e,n.showClass.popup),Ge(e,n.hideClass.popup);const i=pn();return Wn(i,n.showClass.backdrop),Ge(i,n.hideClass.backdrop),tL(t,e,n),!0};function CA(t){const e=Qo.swalPromiseReject.get(this);dc(this),e&&e(t)}const dc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,st.innerParams.get(t)||t._destroy())},eL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),tL=(t,e,n)=>{var i;const o=pn(),u=hA(e);typeof n.willClose=="function"&&n.willClose(e),(i=ve.eventEmitter)===null||i===void 0||i.emit("willClose",e),u?nL(t,e,o,n.returnFocus,n.didClose):RA(t,o,n.returnFocus,n.didClose)},nL=(t,e,n,i,o)=>{ve.swalCloseEventFinishedCallback=RA.bind(null,t,n,i,o);const u=function(f){if(f.target===e){var m;(m=ve.swalCloseEventFinishedCallback)===null||m===void 0||m.call(ve),delete ve.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},BE=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ve.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Yo=t=>{let e=qe();if(e||new ya,e=qe(),!e)return;const n=cl();Dd()?ln(ll()):rL(e,t),Ht(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},rL=(t,e)=>{const n=cc(),i=cl();!n||!i||(!e&&bn(Lr())&&(e=Lr()),Ht(n),e&&(ln(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),Ge([t,n],Y.loading))},iL=(t,e)=>{e.input==="select"||e.input==="radio"?uL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(ew(e.inputValue)||tw(e.inputValue))&&(Yo(Lr()),cL(t,e))},sL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return aL(n);case"radio":return oL(n);case"file":return lL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},aL=t=>t.checked?1:0,oL=t=>t.checked?t.value:null,lL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,uL=(t,e)=>{const n=qe();if(!n)return;const i=o=>{e.input==="select"?fL(n,Kh(o),e):e.input==="radio"&&hL(n,Kh(o),e)};ew(e.inputOptions)||tw(e.inputOptions)?(Yo(Lr()),lc(e.inputOptions).then(o=>{t.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):Oa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},cL=(t,e)=>{const n=t.getInput();n&&(ln(n),lc(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Ht(n),n.focus(),t.hideLoading()}).catch(i=>{Oa(`Error in inputValue promise: ${i}`),n.value="",Ht(n),n.focus(),t.hideLoading()}))};function fL(t,e,n){const i=os(t,Y.select);if(!i)return;const o=(u,f,m)=>{const p=document.createElement("option");p.value=m,Vn(p,f),p.selected=IA(m,n.inputValue),u.appendChild(p)};e.forEach(u=>{const f=u[0],m=u[1];if(Array.isArray(m)){const p=document.createElement("optgroup");p.label=f,p.disabled=!1,i.appendChild(p),m.forEach(g=>o(p,g[1],g[0]))}else o(i,m,f)}),i.focus()}function hL(t,e,n){const i=os(t,Y.radio);if(!i)return;e.forEach(u=>{const f=u[0],m=u[1],p=document.createElement("input"),g=document.createElement("label");p.type="radio",p.name=Y.radio,p.value=f,IA(f,n.inputValue)&&(p.checked=!0);const v=document.createElement("span");Vn(v,m),v.className=Y.label,g.appendChild(p),g.appendChild(v),i.appendChild(g)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const Kh=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let o=n;typeof o=="object"&&(o=Kh(o)),e.push([i,o])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=Kh(i)),e.push([n,i])}),e},IA=(t,e)=>!!e&&e.toString()===t.toString(),dL=t=>{const e=st.innerParams.get(t);t.disableButtons(),e.input?xA(t,"confirm"):dw(t,!0)},mL=t=>{const e=st.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?xA(t,"deny"):hw(t,!1)},pL=(t,e)=>{t.disableButtons(),e(fl.cancel)},xA=(t,e)=>{const n=st.innerParams.get(t);if(!n.input){Oa(`The "input" parameter is needed to be set when using returnInputValueOn${Jy(e)}`);return}const i=t.getInput(),o=sL(t,n);n.inputValidator?gL(t,o,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?hw(t,o):dw(t,o)},gL=(t,e,n)=>{const i=st.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>lc(i.inputValidator(e,i.validationMessage))).then(u=>{t.enableButtons(),t.enableInput(),u?t.showValidationMessage(u):n==="deny"?hw(t,e):dw(t,e)})},hw=(t,e)=>{const n=st.innerParams.get(t||void 0);n.showLoaderOnDeny&&Yo(Na()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>lc(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),dc(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>DA(t||void 0,o))):t.close({isDenied:!0,value:e})},zE=(t,e)=>{t.close({isConfirmed:!0,value:e})},DA=(t,e)=>{t.rejectPromise(e)},dw=(t,e)=>{const n=st.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Yo(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>lc(n.preConfirm(e,n.validationMessage))).then(o=>{bn(Id())||o===!1?(t.hideLoading(),dc(t)):zE(t,typeof o>"u"?e:o)}).catch(o=>DA(t||void 0,o))):zE(t,e)};function Qh(){const t=st.innerParams.get(this);if(!t)return;const e=st.domCache.get(this);ln(e.loader),Dd()?t.icon&&Ht(ll()):yL(e),Wn([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const yL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Ht(e[0],"inline-block"):F4()&&ln(t.actions)};function OA(){const t=st.innerParams.get(this),e=st.domCache.get(this);return e?Od(e.popup,t.input):null}function NA(t,e,n){const i=st.domCache.get(t);e.forEach(o=>{i[o].disabled=n})}function kA(t,e){const n=qe();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${Y.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else t.disabled=e}function PA(){NA(this,["confirmButton","denyButton","cancelButton"],!1)}function MA(){NA(this,["confirmButton","denyButton","cancelButton"],!0)}function VA(){kA(this.getInput(),!1)}function LA(){kA(this.getInput(),!0)}function UA(t){const e=st.domCache.get(this),n=st.innerParams.get(this);Vn(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&Ge(e.validationMessage,n.customClass.validationMessage),Ht(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",Y["validation-message"]),cA(i),Ge(i,Y.inputerror))}function BA(){const t=st.domCache.get(this);t.validationMessage&&ln(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wn(e,Y.inputerror))}const Uo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},wL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],vL={allowEnterKey:void 0},_L=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],zA=t=>Object.prototype.hasOwnProperty.call(Uo,t),jA=t=>wL.indexOf(t)!==-1,qA=t=>vL[t],bL=t=>{zA(t)||mn(`Unknown parameter "${t}"`)},EL=t=>{_L.includes(t)&&mn(`The parameter "${t}" is incompatible with toasts`)},TL=t=>{const e=qA(t);e&&aA(t,e)},HA=t=>{t.backdrop===!1&&t.allowOutsideClick&&mn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&mn(`Invalid theme "${t.theme}"`);for(const e in t)bL(e),t.toast&&EL(e),TL(e)};function FA(t){const e=pn(),n=qe(),i=st.innerParams.get(this);if(!n||gi(n,i.hideClass.popup)){mn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=SL(t),u=Object.assign({},i,o);HA(u),e.dataset.swal2Theme=u.theme,_A(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const SL=t=>{const e={};return Object.keys(t).forEach(n=>{jA(n)?e[n]=t[n]:mn(`Invalid parameter to update: ${n}`)}),e};function GA(){const t=st.domCache.get(this),e=st.innerParams.get(this);if(!e){$A(this);return}t.popup&&ve.swalCloseEventFinishedCallback&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ve.eventEmitter.emit("didDestroy"),AL(this)}const AL=t=>{$A(t),delete t.params,delete ve.keydownHandler,delete ve.keydownTarget,delete ve.currentInstance},$A=t=>{t.isAwaitingPromise?(og(st,t),t.isAwaitingPromise=!0):(og(Qo,t),og(st,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},og=(t,e)=>{for(const n in t)t[n].delete(e)};var RL=Object.freeze({__proto__:null,_destroy:GA,close:ls,closeModal:ls,closePopup:ls,closeToast:ls,disableButtons:MA,disableInput:LA,disableLoading:Qh,enableButtons:PA,enableInput:VA,getInput:OA,handleAwaitingPromise:dc,hideLoading:Qh,rejectPromise:CA,resetValidationMessage:BA,showValidationMessage:UA,update:FA});const CL=(t,e,n)=>{t.toast?IL(t,e,n):(DL(e),OL(e),NL(t,e,n))},IL=(t,e,n)=>{e.popup.onclick=()=>{t&&(xL(t)||t.timer||t.input)||n(fl.close)}},xL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Yh=!1;const DL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Yh=!0)}}},OL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Yh=!0)}}},NL=(t,e,n)=>{e.container.onclick=i=>{if(Yh){Yh=!1;return}i.target===e.container&&Cd(t.allowOutsideClick)&&n(fl.backdrop)}},kL=t=>typeof t=="object"&&t.jquery,jE=t=>t instanceof Element||kL(t),PL=t=>{const e={};return typeof t[0]=="object"&&!jE(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const o=t[i];typeof o=="string"||jE(o)?e[n]=o:o!==void 0&&Oa(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function ML(...t){return new this(...t)}function VL(t){class e extends this{_main(i,o){return super._main(i,Object.assign({},t,o))}}return e}const LL=()=>ve.timeout&&ve.timeout.getTimerLeft(),KA=()=>{if(ve.timeout)return $4(),ve.timeout.stop()},QA=()=>{if(ve.timeout){const t=ve.timeout.start();return lw(t),t}},UL=()=>{const t=ve.timeout;return t&&(t.running?KA():QA())},BL=t=>{if(ve.timeout){const e=ve.timeout.increase(t);return lw(e,!0),e}},zL=()=>!!(ve.timeout&&ve.timeout.isRunning());let qE=!1;const $g={};function jL(t="data-swal-template"){$g[t]=this,qE||(document.body.addEventListener("click",qL),qE=!0)}const qL=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in $g){const i=e.getAttribute(n);if(i){$g[n].fire({template:i});return}}};class HL{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){const i=(...o)=>{this.removeListener(e,i),n.apply(this,o)};this.on(e,i)}emit(e,...n){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,n)}catch(o){console.error(o)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),o=i.indexOf(n);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ve.eventEmitter=new HL;const FL=(t,e)=>{ve.eventEmitter.on(t,e)},GL=(t,e)=>{ve.eventEmitter.once(t,e)},$L=(t,e)=>{if(!t){ve.eventEmitter.reset();return}e?ve.eventEmitter.removeListener(t,e):ve.eventEmitter.removeAllListeners(t)};var KL=Object.freeze({__proto__:null,argsToParams:PL,bindClickHandler:jL,clickCancel:PV,clickConfirm:bA,clickDeny:kV,enableLoading:Yo,fire:ML,getActions:cc,getCancelButton:ul,getCloseButton:iw,getConfirmButton:Lr,getContainer:pn,getDenyButton:Na,getFocusableElements:sw,getFooter:uA,getHtmlContainer:nw,getIcon:ll,getIconContent:B4,getImage:lA,getInputLabel:z4,getLoader:cl,getPopup:qe,getProgressSteps:rw,getTimerLeft:LL,getTimerProgressBar:xd,getTitle:oA,getValidationMessage:Id,increaseTimer:BL,isDeprecatedParameter:qA,isLoading:q4,isTimerRunning:zL,isUpdatableParameter:jA,isValidParameter:zA,isVisible:NV,mixin:VL,off:$L,on:FL,once:GL,resumeTimer:QA,showLoading:Yo,stopTimer:KA,toggleTimer:UL});class QL{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const YA=["swal-title","swal-html","swal-footer"],YL=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return r3(n),Object.assign(XL(n),WL(n),ZL(n),JL(n),e3(n),t3(n),n3(n,YA))},XL=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Aa(i,["name","value"]);const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(typeof Uo[o]=="boolean"?e[o]=u!=="false":typeof Uo[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},WL=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},ZL=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Aa(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${Jy(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},JL=t=>{const e={},n=t.querySelector("swal-image");return n&&(Aa(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},e3=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Aa(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},t3=t=>{const e={},n=t.querySelector("swal-input");n&&(Aa(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Aa(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},n3=(t,e)=>{const n={};for(const i in e){const o=e[i],u=t.querySelector(o);u&&(Aa(u,[]),n[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return n},r3=t=>{const e=YA.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||mn(`Unrecognized element <${i}>`)})},Aa=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&mn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},XA=10,i3=t=>{const e=pn(),n=qe();typeof t.willOpen=="function"&&t.willOpen(n),ve.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;o3(e,n,t),setTimeout(()=>{s3(e,n)},XA),aw()&&(a3(e,t.scrollbarPadding,o),qV()),!Dd()&&!ve.previousActiveElement&&(ve.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ve.eventEmitter.emit("didOpen",n),Wn(e,Y["no-transition"])},Xh=t=>{const e=qe();if(t.target!==e)return;const n=pn();e.removeEventListener("animationend",Xh),e.removeEventListener("transitionend",Xh),n.style.overflowY="auto"},s3=(t,e)=>{hA(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Xh),e.addEventListener("transitionend",Xh)):t.style.overflowY="auto"},a3=(t,e,n)=>{HV(),e&&n!=="hidden"&&XV(n),setTimeout(()=>{t.scrollTop=0})},o3=(t,e,n)=>{Ge(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Ht(e,"grid"),setTimeout(()=>{Ge(e,n.showClass.popup),e.style.removeProperty("opacity")},XA)):Ht(e,"grid"),Ge([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ge([document.documentElement,document.body],Y["height-auto"])};var HE={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function l3(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=HE.email),t.input==="url"&&(t.inputValidator=HE.url))}function u3(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(mn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function c3(t){l3(t),t.showLoaderOnConfirm&&!t.preConfirm&&mn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),u3(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),eV(t)}let Rr;var Yf=new WeakMap;class bt{constructor(...e){if(O4(this,Yf,void 0),typeof window>"u")return;Rr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,N4(Yf,this,this._main(Rr.params))}_main(e,n={}){if(HA(Object.assign({},n,e)),ve.currentInstance){const u=Qo.swalPromiseResolve.get(ve.currentInstance),{isAwaitingPromise:f}=ve.currentInstance;ve.currentInstance._destroy(),f||u({isDismissed:!0}),aw()&&SA()}ve.currentInstance=Rr;const i=h3(e,n);c3(i),Object.freeze(i),ve.timeout&&(ve.timeout.stop(),delete ve.timeout),clearTimeout(ve.restoreFocusTimeout);const o=d3(Rr);return _A(Rr,i),st.innerParams.set(Rr,i),f3(Rr,o,i)}then(e){return kE(Yf,this).then(e)}finally(e){return kE(Yf,this).finally(e)}}const f3=(t,e,n)=>new Promise((i,o)=>{const u=f=>{t.close({isDismissed:!0,dismiss:f})};Qo.swalPromiseResolve.set(t,i),Qo.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{dL(t)},e.denyButton.onclick=()=>{mL(t)},e.cancelButton.onclick=()=>{pL(t,u)},e.closeButton.onclick=()=>{u(fl.close)},CL(n,e,u),MV(ve,n,u),iL(t,n),i3(n),m3(ve,n,u),p3(e,n),setTimeout(()=>{e.container.scrollTop=0})}),h3=(t,e)=>{const n=YL(t),i=Object.assign({},Uo,e,n,t);return i.showClass=Object.assign({},Uo.showClass,i.showClass),i.hideClass=Object.assign({},Uo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},d3=t=>{const e={popup:qe(),container:pn(),actions:cc(),confirmButton:Lr(),denyButton:Na(),cancelButton:ul(),loader:cl(),closeButton:iw(),validationMessage:Id(),progressSteps:rw()};return st.domCache.set(t,e),e},m3=(t,e,n)=>{const i=xd();ln(i),e.timer&&(t.timeout=new QL(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Ht(i),Pn(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&lw(e.timer)})))},p3=(t,e)=>{if(!e.toast){if(!Cd(e.allowEnterKey)){aA("allowEnterKey"),w3();return}g3(t)||y3(t,e)||Gg(-1,1)}},g3=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&bn(n))return n.focus(),!0;return!1},y3=(t,e)=>e.focusDeny&&bn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&bn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&bn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,w3=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};bt.prototype.disableButtons=MA;bt.prototype.enableButtons=PA;bt.prototype.getInput=OA;bt.prototype.disableInput=LA;bt.prototype.enableInput=VA;bt.prototype.hideLoading=Qh;bt.prototype.disableLoading=Qh;bt.prototype.showValidationMessage=UA;bt.prototype.resetValidationMessage=BA;bt.prototype.close=ls;bt.prototype.closePopup=ls;bt.prototype.closeModal=ls;bt.prototype.closeToast=ls;bt.prototype.rejectPromise=CA;bt.prototype.update=FA;bt.prototype._destroy=GA;Object.assign(bt,KL);Object.keys(RL).forEach(t=>{bt[t]=function(...e){return Rr&&Rr[t]?Rr[t](...e):null}});bt.DismissReason=fl;bt.version="11.23.0";const ya=bt;ya.default=ya;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const v3=({title:t,price:e,question:n,answer:i,onClose:o})=>{const[u,f]=Q.useState(!1),[m,p]=Q.useState(!1),g=Zo(),v=Mr(q=>q.userLayer.id),E=Mr(q=>q.score.scores.score);Q.useEffect(()=>{const q=U=>{U.key==="Escape"&&o()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[o]);const S=q=>{q.target===q.currentTarget&&o()};function O(q){if(!v){ya.fire({icon:"info",title:"Гостевой режим",html:`
                    <p class="mb-3">Сохранение очков доступно только для авторизованных пользователей.</p>
                    <a href="/quiz-game/" 
                       class="px-4 py-2 inline-block rounded-lg bg-yellow-400 text-black font-bold hover:bg-yellow-500 transition">
                        Залогиниться
                    </a>
                `,showConfirmButton:!1,background:"#1a1a4f",color:"#fff"});return}g(ch({price:q,oldScore:E,id:v}))}async function V(q){m||(p(!0),g(A4({title:t,price:e,result:q})),v&&g(fh({userId:v,answer:{title:t,price:e,question:n,result:q,answeredAt:Date.now()}})),O(q==="correct"?e:-e),p(!1),o())}return G.jsx("div",{className:"modal-backdrop",onClick:S,role:"dialog","aria-modal":"true","aria-labelledby":"q-title",children:G.jsxs("div",{className:"modal-card animate-fade-in-up",children:[G.jsx("h1",{id:"q-title",className:"font-display text-3xl mb-2 text-white",children:t}),G.jsxs("h2",{className:"text-amber-300 mb-4",children:[e," scores"]}),G.jsx("p",{className:"text-lg mb-6",children:n}),u?G.jsxs("div",{className:"space-y-5",children:[G.jsx("p",{className:"mt-1 text-xl text-green-300",children:i}),G.jsx("div",{className:"flex items-center justify-center w-full opacity-80",children:"User answered correctly?"}),G.jsxs("div",{className:"flex justify-center gap-3",children:[G.jsx("button",{className:"btn-yellow disabled:opacity-60",disabled:m,onClick:()=>V("correct"),children:"YES"}),G.jsx("button",{className:"btn-ghost disabled:opacity-60",disabled:m,onClick:()=>V("wrong"),children:"NO"})]})]}):G.jsx("button",{onClick:()=>f(!0),className:"btn-yellow",children:"Show answer"})]})})},_3=()=>{const[t,e]=Q.useState(null),n=()=>{e(null)},i=Zo(),o=Mr(u=>u.topics.topics);return Q.useEffect(()=>{i(Hg()).then(u=>{Array.isArray(u.payload)&&u.payload.length===0?i(S4()).then(()=>i(Hg())).then(f=>{Array.isArray(f.payload)&&i(NE(f.payload))}):Array.isArray(u.payload)&&i(NE(u.payload))})},[i]),G.jsx("div",{className:"w-full",children:G.jsxs("div",{className:"game",children:[!t&&G.jsx(II,{topics:o,onQuestionClick:e}),t&&G.jsx(v3,{title:t.title,price:t.price,question:t.question,answer:t.answer,onClose:n})]})})},b3={id:null,login:null,score:0,loading:!1,error:null,isGuest:!1},WA=Ca("userData/save",async({login:t,password:e},n)=>{try{return{id:(await ES(al(As,"users"),{login:t,password:e,score:0})).id,login:t,password:e,score:0}}catch(i){return n.rejectWithValue(i.message)}}),ZA=Ca("userData/checkExist",async({login:t,password:e},n)=>{try{const i=zy(al(As,"users"),Bg("login","==",t),Bg("password","==",e)),o=await Sd(i);if(o.empty)throw new Error("User not found or wrong password");const u=o.docs[0],f=u.data();return{id:u.id,login:f.login,password:f.password,score:f.score}}catch(i){return n.rejectWithValue(i.message)}}),JA=id({name:"userData",initialState:b3,reducers:{changeId:(t,e)=>{t.id=e.payload},changeLogin:(t,e)=>{t.login=e.payload},changeScore:(t,e)=>{t.score=e.payload},setGuest:t=>{t.id=null,t.login="Guest",t.score=0,t.isGuest=!0,localStorage.setItem("guest","true"),localStorage.removeItem("userId")},logout:t=>{t.id=null,t.login="Guest",t.score=0,t.error=null,t.isGuest=!0,localStorage.setItem("guest","true"),localStorage.removeItem("userId")}},extraReducers:t=>{t.addCase(WA.fulfilled,(e,n)=>{e.id=n.payload.id,e.login=n.payload.login,e.score=0,e.isGuest=!1,localStorage.setItem("userId",n.payload.id),localStorage.removeItem("guest")}).addCase(ZA.fulfilled,(e,n)=>{n.payload&&(e.id=n.payload.id,e.login=n.payload.login,e.score=n.payload.score,e.isGuest=!1,localStorage.setItem("userId",n.payload.id),localStorage.removeItem("guest"))})}}),{changeId:E3,changeLogin:T3,changeScore:S3,logout:y6,setGuest:A3}=JA.actions,R3=JA.reducer,FE=()=>{const t=Zo(),e=Wg(),n=Q.useRef(null),i=Q.useRef(null),o=async()=>{const f=n.current.value.trim(),m=i.current.value.trim();if(!f||!m){ya.fire({icon:"warning",title:"Заполните все поля!",confirmButtonText:"Ок",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#facc15"});return}try{const p=await t(ZA({login:f,password:m})).unwrap();typeof p?.score=="number"&&(t(S3(p.score)),ya.fire({icon:"success",title:"Добро пожаловать!",text:`Приятной игры, ${f}!`,confirmButtonText:"Играть",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#22c55e"}).then(()=>{e("/game")}))}catch{ya.fire({icon:"error",title:"Ошибка входа",text:"Неверный логин или пароль",confirmButtonText:"Попробовать снова",background:"#1a1a4f",color:"#fff",confirmButtonColor:"#ef4444"})}},u=f=>{f.preventDefault(),t(A3()),setTimeout(()=>{e("/game")},0)};return G.jsx("div",{className:"game-shell flex flex-col items-center gap-6",children:G.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[G.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Sign in"}),G.jsxs("label",{className:"block mb-4",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),G.jsx("input",{id:"login-input",className:"input-glass",type:"text",ref:n,placeholder:"Your nickname"})]}),G.jsxs("label",{className:"block mb-6",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),G.jsx("input",{id:"password-input",className:"input-glass",type:"password",ref:i,placeholder:"••••••••"})]}),G.jsxs("div",{className:"flex flex-col gap-3",children:[G.jsx("button",{className:"btn-yellow",onClick:o,children:"Sign in"}),G.jsx("button",{className:"btn-ghost",onClick:u,children:"Sign in as a guest"}),G.jsx(da,{to:"/register",className:"btn-ghost text-center",children:"Go to registration"})]})]})})},C3=()=>{const t=Zo(),e=Wg(),n=Q.useRef(null),i=Q.useRef(null),o=async()=>{const u=n.current.value.trim(),f=i.current.value.trim();if(!u||!f){alert("Please fill in all fields");return}try{await t(WA({login:u,password:f})).unwrap(),e("/game")}catch(m){console.error("Registration failed:",m),alert("Registration failed: "+m)}};return G.jsx("div",{className:"game-shell flex flex-col items-center justify-center gap-6",children:G.jsxs("div",{className:"glass p-8 w-full max-w-md",children:[G.jsx("h2",{className:"font-display text-2xl mb-6 title-gradient text-center",children:"Registration"}),G.jsxs("label",{className:"block mb-4",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Login"}),G.jsx("input",{className:"input-glass",type:"text",ref:n,placeholder:"Your nickname"})]}),G.jsxs("label",{className:"block mb-6",children:[G.jsx("span",{className:"block mb-2 font-semibold",children:"Password"}),G.jsx("input",{className:"input-glass",type:"password",ref:i,placeholder:"••••••••"})]}),G.jsxs("div",{className:"flex flex-col gap-3",children:[G.jsx("button",{className:"btn-yellow",onClick:o,children:"Register"}),G.jsx(da,{to:"/login",className:"btn-ghost text-center",children:"Go to Login"})]})]})})},I3=()=>{const t=Zo(),e=Mr(u=>u.userLayer.id),{items:n,loading:i,error:o}=Mr(u=>u.answers);return Q.useEffect(()=>{e&&t(hh({userId:e}))},[t,e]),e?i?G.jsx("div",{className:"p-6 text-center",children:"Loading..."}):o?G.jsxs("div",{className:"p-6 text-center text-red-400",children:["Error loading history: ",o]}):n.length?G.jsxs("div",{className:"w-full max-w-4xl bg-[#0c0f2f]/60 backdrop-blur-md rounded-xl p-6 shadow-md",children:[G.jsx("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"📜 Answers History"}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"w-full text-left border-collapse",children:[G.jsx("thead",{children:G.jsxs("tr",{className:"bg-[#1a1a4f]",children:[G.jsx("th",{className:"px-4 py-2",children:"#"}),G.jsx("th",{className:"px-4 py-2",children:"Topic"}),G.jsx("th",{className:"px-4 py-2",children:"Question"}),G.jsx("th",{className:"px-4 py-2",children:"Result"}),G.jsx("th",{className:"px-4 py-2",children:"Score"}),G.jsx("th",{className:"px-4 py-2",children:"Date"})]})}),G.jsx("tbody",{children:n.map((u,f)=>G.jsxs("tr",{className:`border-b border-white/10 ${u.result==="correct"?"text-green-400":"text-red-400"}`,children:[G.jsx("td",{className:"px-4 py-2",children:f+1}),G.jsx("td",{className:"px-4 py-2",children:u.title}),G.jsx("td",{className:"px-4 py-2",children:u.question}),G.jsx("td",{className:"px-4 py-2 capitalize",children:u.result}),G.jsx("td",{className:"px-4 py-2",children:u.price}),G.jsx("td",{className:"px-4 py-2",children:new Date(u.answeredAt).toLocaleString()})]},f))})]})})]}):G.jsx("div",{className:"p-6 text-center text-gray-400",children:"No answers yet."}):G.jsx("div",{className:"p-6 text-center text-red-400",children:"Please log in to see your answers history."})},x3=()=>{const[t,e]=Q.useState([]),[n,i]=Q.useState(!0);return Q.useEffect(()=>{(async()=>{try{const u=zy(al(As,"users"),vS("score","desc")),m=(await Sd(u)).docs.map(p=>({id:p.id,login:p.data().login,score:p.data().score??0}));e(m)}catch(u){console.error("Error loading leaderboard:",u)}finally{i(!1)}})()},[]),n?G.jsx("div",{className:"text-center text-yellow-300 mt-10",children:"Loading leaderboard..."}):G.jsxs("div",{className:"w-full max-w-4xl mx-auto px-3",children:[G.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center flex items-center justify-center gap-2",children:"🏆 Leaderboard"}),G.jsx("div",{className:"hidden md:block overflow-x-auto",children:G.jsxs("table",{className:"min-w-full bg-[#0f0f3d] rounded-xl overflow-hidden shadow-lg",children:[G.jsx("thead",{children:G.jsxs("tr",{className:"bg-[#1e1e5c] text-yellow-400 text-left",children:[G.jsx("th",{className:"px-4 py-3",children:"#"}),G.jsx("th",{className:"px-4 py-3",children:"Login"}),G.jsx("th",{className:"px-4 py-3 text-right",children:"Score"})]})}),G.jsx("tbody",{children:t.map((o,u)=>G.jsxs("tr",{className:`border-t border-[#2a2a6e] ${u%2===0?"bg-[#15154a]":"bg-[#10103b]"}`,children:[G.jsx("td",{className:"px-4 py-3",children:u+1}),G.jsx("td",{className:"px-4 py-3 font-semibold",children:o.login}),G.jsx("td",{className:"px-4 py-3 text-right",children:o.score})]},o.id))})]})}),G.jsx("div",{className:"md:hidden grid gap-3",children:t.map((o,u)=>G.jsxs("div",{className:"bg-[#1a1a4f] p-4 rounded-lg shadow-md flex justify-between items-center",children:[G.jsxs("div",{children:[G.jsxs("div",{className:"text-yellow-400 font-bold",children:["#",u+1]}),G.jsx("div",{className:"font-semibold text-white",children:o.login})]}),G.jsx("div",{className:"text-lg font-bold text-white",children:o.score})]},o.id))})]})},GE=()=>{const t=Mr(e=>e.score.scores.score);return G.jsx("div",{className:"header-chip",children:G.jsxs("div",{className:"flex items-baseline gap-2",children:[G.jsx("span",{className:"opacity-80",children:"Score"}),G.jsx("span",{className:"text-2xl font-extrabold text-yellow-300",children:t})]})})},$E=()=>{const t=Zo(),e=Mr(m=>m.userLayer.id),n=Mr(m=>m.userLayer.login||"Guest"),i="/quiz-game/",o=window.location.pathname===i,u=!e&&n==="Guest"||!e&&localStorage.getItem("guest")==="true",f=()=>{localStorage.removeItem("userId"),localStorage.setItem("guest","true"),t(E3("")),t(T3("Guest")),t(_4(0)),window.location.href=i};return G.jsxs("div",{className:"flex flex-col items-center gap-2",children:[G.jsxs("div",{className:"text-yellow-400 font-semibold text-center",children:["Nickname:",G.jsx("div",{className:"text-white font-normal mt-1",children:n})]}),e?G.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white transition",onClick:f,children:"Logout"}):u&&!o&&G.jsx("button",{className:"px-4 py-2 rounded-lg bg-yellow-400 hover:bg-yellow-500 text-black font-bold transition",onClick:()=>window.location.href=i,children:"Go to Login Page"})]})},D3=()=>{const[t,e]=Q.useState(!1);return G.jsxs("header",{className:"sticky top-0 z-50 w-full bg-[#0c0f2f]/90 backdrop-blur-md shadow-md",children:[G.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between px-6 py-4",children:[G.jsx("h1",{className:"text-2xl md:text-3xl font-display title-gradient",children:"Quiz Game"}),G.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-lg",children:[G.jsx(da,{to:"/history",className:"nav-link",children:"📜 History"}),G.jsx(da,{to:"/leaderboard",className:"nav-link",children:"🏆 Leaderboard"}),G.jsx(GE,{}),G.jsx($E,{})]}),G.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-yellow-400 text-3xl",children:"☰"})]}),t&&G.jsxs("div",{className:"md:hidden bg-[#1a1a4f]/95 backdrop-blur-md flex flex-col items-center gap-4 py-6",children:[G.jsx(da,{to:"/history",className:"nav-link",onClick:()=>e(!1),children:"📜 History"}),G.jsx(da,{to:"/leaderboard",className:"nav-link",onClick:()=>e(!1),children:"🏆 Leaderboard"}),G.jsx(GE,{}),G.jsx($E,{})]})]})},O3=()=>G.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1a1a4f] to-[#000032] text-white flex flex-col",children:[G.jsx(D3,{}),G.jsx("div",{className:"flex-1 p-6 mt-8 flex flex-col items-center gap-6",children:G.jsxs(CC,{children:[G.jsx(ca,{path:"/game",element:G.jsx(_3,{})}),G.jsx(ca,{path:"/register",element:G.jsx(C3,{})}),G.jsx(ca,{path:"/",element:G.jsx(FE,{})}),G.jsx(ca,{path:"/login",element:G.jsx(FE,{})}),G.jsx(ca,{path:"/history",element:G.jsx(I3,{})}),G.jsx(ca,{path:"/leaderboard",element:G.jsx(x3,{})})]})})]});var Tu={},Xf={},Wf={},KE;function N3(){if(KE)return Wf;KE=1,Wf.__esModule=!0,Wf.default=o;function t(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(m){return typeof m}:t=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},t(u)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function i(u){if((typeof self>"u"?"undefined":t(self))!=="object"||!(u in self))return!1;try{var f=self[u],m="redux-persist ".concat(u," test");f.setItem(m,"test"),f.getItem(m),f.removeItem(m)}catch{return!1}return!0}function o(u){var f="".concat(u,"Storage");return i(f)?self[f]:n}return Wf}var QE;function k3(){if(QE)return Xf;QE=1,Xf.__esModule=!0,Xf.default=n;var t=e(N3());function e(i){return i&&i.__esModule?i:{default:i}}function n(i){var o=(0,t.default)(i);return{getItem:function(f){return new Promise(function(m,p){m(o.getItem(f))})},setItem:function(f,m){return new Promise(function(p,g){p(o.setItem(f,m))})},removeItem:function(f){return new Promise(function(m,p){m(o.removeItem(f))})}}}return Xf}var YE;function P3(){if(YE)return Tu;YE=1,Tu.__esModule=!0,Tu.default=void 0;var t=e(k3());function e(i){return i&&i.__esModule?i:{default:i}}var n=(0,t.default)("local");return Tu.default=n,Tu}var M3=P3();const V3=CR(M3);var mw="persist:",pw="persist/FLUSH",Nd="persist/REHYDRATE",gw="persist/PAUSE",yw="persist/PERSIST",ww="persist/PURGE",vw="persist/REGISTER",L3=-1;function dh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dh=function(n){return typeof n}:dh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dh(t)}function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function U3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(n,!0).forEach(function(i){B3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function B3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z3(t,e,n,i){i.debug;var o=U3({},n);return t&&dh(t)==="object"&&Object.keys(t).forEach(function(u){u!=="_persist"&&e[u]===n[u]&&(o[u]=t[u])}),o}function j3(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],o=t.throttle||0,u="".concat(t.keyPrefix!==void 0?t.keyPrefix:mw).concat(t.key),f=t.storage,m;t.serialize===!1?m=function(ie){return ie}:typeof t.serialize=="function"?m=t.serialize:m=q3;var p=t.writeFailHandler||null,g={},v={},E=[],S=null,O=null,V=function(ie){Object.keys(ie).forEach(function(fe){$(fe)&&g[fe]!==ie[fe]&&E.indexOf(fe)===-1&&E.push(fe)}),Object.keys(g).forEach(function(fe){ie[fe]===void 0&&$(fe)&&E.indexOf(fe)===-1&&g[fe]!==void 0&&E.push(fe)}),S===null&&(S=setInterval(q,o)),g=ie};function q(){if(E.length===0){S&&clearInterval(S),S=null;return}var ae=E.shift(),ie=i.reduce(function(fe,x){return x.in(fe,ae,g)},g[ae]);if(ie!==void 0)try{v[ae]=m(ie)}catch(fe){console.error("redux-persist/createPersistoid: error serializing state",fe)}else delete v[ae];E.length===0&&U()}function U(){Object.keys(v).forEach(function(ae){g[ae]===void 0&&delete v[ae]}),O=f.setItem(u,m(v)).catch(se)}function $(ae){return!(n&&n.indexOf(ae)===-1&&ae!=="_persist"||e&&e.indexOf(ae)!==-1)}function se(ae){p&&p(ae)}var X=function(){for(;E.length!==0;)q();return O||Promise.resolve()};return{update:V,flush:X}}function q3(t){return JSON.stringify(t)}function H3(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:mw).concat(t.key),i=t.storage;t.debug;var o;return t.deserialize===!1?o=function(f){return f}:typeof t.deserialize=="function"?o=t.deserialize:o=F3,i.getItem(n).then(function(u){if(u)try{var f={},m=o(u);return Object.keys(m).forEach(function(p){f[p]=e.reduceRight(function(g,v){return v.out(g,p,m)},o(m[p]))}),f}catch(p){throw p}else return})}function F3(t){return JSON.parse(t)}function G3(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:mw).concat(t.key);return e.removeItem(n,$3)}function $3(t){}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(n,!0).forEach(function(i){K3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function K3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q3(t,e){if(t==null)return{};var n=Y3(t,e),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(o=0;o<u.length;o++)i=u[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Y3(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,u;for(u=0;u<i.length;u++)o=i[u],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var X3=5e3;function W3(t,e){var n=t.version!==void 0?t.version:L3;t.debug;var i=t.stateReconciler===void 0?z3:t.stateReconciler,o=t.getStoredState||H3,u=t.timeout!==void 0?t.timeout:X3,f=null,m=!1,p=!0,g=function(E){return E._persist.rehydrated&&f&&!p&&f.update(E),E};return function(v,E){var S=v||{},O=S._persist,V=Q3(S,["_persist"]),q=V;if(E.type===yw){var U=!1,$=function(A,R){U||(E.rehydrate(t.key,A,R),U=!0)};if(u&&setTimeout(function(){!U&&$(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},u),p=!1,f||(f=j3(t)),O)return fi({},e(q,E),{_persist:O});if(typeof E.rehydrate!="function"||typeof E.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return E.register(t.key),o(t).then(function(x){var A=t.migrate||function(R,k){return Promise.resolve(R)};A(x,n).then(function(R){$(R)},function(R){$(void 0,R)})},function(x){$(void 0,x)}),fi({},e(q,E),{_persist:{version:n,rehydrated:!1}})}else{if(E.type===ww)return m=!0,E.result(G3(t)),fi({},e(q,E),{_persist:O});if(E.type===pw)return E.result(f&&f.flush()),fi({},e(q,E),{_persist:O});if(E.type===gw)p=!0;else if(E.type===Nd){if(m)return fi({},q,{_persist:fi({},O,{rehydrated:!0})});if(E.key===t.key){var se=e(q,E),X=E.payload,ae=i!==!1&&X!==void 0?i(X,v,se,t):se,ie=fi({},ae,{_persist:fi({},O,{rehydrated:!0})});return g(ie)}}}if(!O)return e(v,E);var fe=e(q,E);return fe===q?v:g(fi({},fe,{_persist:O}))}}function ZE(t){return e6(t)||J3(t)||Z3()}function Z3(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function J3(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function e6(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(n,!0).forEach(function(i){t6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function t6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var e1={registry:[],bootstrapped:!1},n6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e1,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case vw:return Kg({},e,{registry:[].concat(ZE(e.registry),[n.key])});case Nd:var i=e.registry.indexOf(n.key),o=ZE(e.registry);return o.splice(i,1),Kg({},e,{registry:o,bootstrapped:o.length===0});default:return e}};function r6(t,e,n){var i=iy(n6,e1,void 0),o=function(p){i.dispatch({type:vw,key:p})},u=function(p,g,v){var E={type:Nd,payload:g,err:v,key:p};t.dispatch(E),i.dispatch(E)},f=Kg({},i,{purge:function(){var p=[];return t.dispatch({type:ww,result:function(v){p.push(v)}}),Promise.all(p)},flush:function(){var p=[];return t.dispatch({type:pw,result:function(v){p.push(v)}}),Promise.all(p)},pause:function(){t.dispatch({type:gw})},persist:function(){t.dispatch({type:yw,register:o,rehydrate:u})}});return f.persist(),f}const i6=vT({userLayer:R3,score:b4,topics:R4,answers:x4}),s6=(t,e)=>(e.type==="LOGOUT"&&(t=void 0),i6(t,e)),a6={key:"root",storage:V3,whitelist:["userLayer","score","topics","answers"]},o6=W3(a6,s6),t1=JI({reducer:o6,middleware:t=>t({serializableCheck:{ignoredActions:[pw,Nd,gw,yw,ww,vw]}})}),l6=r6(t1);function mh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mh=function(n){return typeof n}:mh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mh(t)}function u6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c6(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f6(t,e,n){return e&&c6(t.prototype,e),t}function h6(t,e){return e&&(mh(e)==="object"||typeof e=="function")?e:ph(t)}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function ph(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yg(t,e)}function Yg(t,e){return Yg=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},Yg(t,e)}function gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n1=function(t){d6(e,t);function e(){var n,i;u6(this,e);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=h6(this,(n=Qg(e)).call.apply(n,[this].concat(u))),gh(ph(i),"state",{bootstrapped:!1}),gh(ph(i),"_unsubscribe",void 0),gh(ph(i),"handlePersistorState",function(){var m=i.props.persistor,p=m.getState(),g=p.bootstrapped;g&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return f6(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(Q.PureComponent);gh(n1,"defaultProps",{children:null,loading:null});const m6="/quiz-game/";LR.createRoot(document.getElementById("root")).render(G.jsx(Q.StrictMode,{children:G.jsx(bI,{store:t1,children:G.jsx(n1,{loading:null,persistor:l6,children:G.jsx(XC,{basename:m6,children:G.jsx(O3,{})})})})}));
